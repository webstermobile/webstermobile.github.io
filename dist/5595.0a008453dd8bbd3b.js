"use strict";(self.webpackChunkst_admin=self.webpackChunkst_admin||[]).push([[5595],{76916:(w,f,n)=>{n.d(f,{G:()=>E});var g=n(34793),l=n(92198),m=n(38014),e=n(94650),C=n(89383),_=n(60097),x=n(36895);function b(o,s){if(1&o&&(e.TgZ(0,"a",14)(1,"span",15),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",e.lcZ(3,1,t.label)," ")}}function v(o,s){if(1&o&&(e.TgZ(0,"a",16)(1,"span",15),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&o){const t=e.oxw(),i=t.$implicit,a=t.last,d=e.oxw(2);e.Q6J("routerLink",i.url)("queryParams",a&&d.route.snapshot.queryParams),e.xp6(2),e.hij(" ",e.lcZ(3,3,i.label)," ")}}function u(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"li",10)(2,"span"),e._uU(3," > "),e.qZA()(),e.TgZ(4,"li",11),e.YNc(5,b,4,3,"a",12),e.YNc(6,v,4,5,"a",13),e.qZA(),e.BQk()),2&o){const t=s.first;e.xp6(5),e.Q6J("ngIf",t),e.xp6(1),e.Q6J("ngIf",!t)}}function M(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"div",3),e._UZ(3,"h3",4),e.TgZ(4,"ul",5)(5,"li",6)(6,"a",7),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.jumpHome())}),e._UZ(7,"i",8),e.qZA()(),e.YNc(8,u,7,2,"ng-container",9),e.qZA()(),e.TgZ(9,"div"),e.Hsn(10),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(3),e.Q6J("innerHTML",t.title,e.oJD),e.xp6(5),e.Q6J("ngForOf",t.breads)}}const y=["*"];let E=(()=>{class o{constructor(t,i,a,d){this.router=t,this.route=i,this.translate=a,this._carparkService=d,this.breads=[],this.loginUser=""}ngOnInit(){let t=JSON.parse(localStorage.getItem("user-roles"))[0];this.loginUser=t,console.log(this.loginUser,"\u4fe1\u606f"),this.breads=this.buildBreadCrumb(this.route.root),this.translate.get(this.breads[0].label).subscribe(a=>{this.label=a}),this.router.events.pipe((0,l.h)(a=>a instanceof g.m2)).subscribe(()=>{this.breads=this.buildBreadCrumb(this.route.root)})}buildBreadCrumb(t,i=[""],a=[]){const d=t.snapshot.url[0]&&t.snapshot.url[0].path,z=[...i,d],O={...this.extractBreadcrumb(t),url:z},A=d&&O.label?[...a,O]:a;return this.title=O.title||this.title||"",this.isMotorist&&"My Vehicle(s)"===O.label&&(this.title="My Vehicle(s)"),t.firstChild?d?this.buildBreadCrumb(t.firstChild,z,A):this.buildBreadCrumb(t.firstChild,i,a):(this.translate.get(this.title).subscribe(L=>{this.title=L}),A)}get isMotorist(){return this._carparkService.isMotorist()}extractBreadcrumb(t){return t.snapshot.data.breadcrumb instanceof Function?t.snapshot.data.breadcrumb(t):t.snapshot.data.breadcrumb}jumpHome(){let t=JSON.parse(localStorage.getItem("user-roles"))[0]??"";this.router.navigate(t.length?[m.gpL[t]]:["/"])}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(g.F0),e.Y36(g.gz),e.Y36(C.sK),e.Y36(_.x))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-title-bar"]],ngContentSelectors:y,decls:1,vars:1,consts:[["class","m-subheader",4,"ngIf"],[1,"m-subheader"],[1,"d-flex","align-items-center"],[1,"mr-auto"],[1,"m-subheader__title","m-subheader__title--separator","text-main",3,"innerHTML"],[1,"m-subheader__breadcrumbs","m-nav","m-nav--inline"],[1,"m-nav__item","m-nav__item--home"],[1,"m-nav__link","m-nav__link--icon",3,"click"],[1,"m-nav__link-icon","la","la-home"],[4,"ngFor","ngForOf"],[1,"m-nav__separator"],[1,"m-nav__item"],["class","m-nav__link",4,"ngIf"],["class","m-nav__link",3,"routerLink","queryParams",4,"ngIf"],[1,"m-nav__link"],[1,"m-nav__link-text"],[1,"m-nav__link",3,"routerLink","queryParams"]],template:function(t,i){1&t&&(e.F$t(),e.YNc(0,M,11,2,"div",0)),2&t&&e.Q6J("ngIf","ROLE_TPO_PARTNER"!==i.loginUser)},dependencies:[x.sg,x.O5,g.yS,C.X$],encapsulation:2}),o})()},55595:(w,f,n)=>{n.r(f),n.d(f,{AccessGateInfoPageModule:()=>F});var g=n(36895),l=n(34793),m=n(59501),e=n(21532),C=n(88796),_=n(24006),x=n(372),b=n(30329),v=n(34984),u=n(20388),M=n(59245),y=n(136),E=n(77750),o=n(86181),s=n(79118),t=n(94650),a=(n(38014),n(3927)),d=n(27221),z=n(80529),O=n(28555),A=n(91599);let L=(()=>{class r extends a.su{constructor(c,h,P){super(c,h),this.http=c,this.store=h,this.modelName="access-gate",this.baseUrl="carpark/api/traka-access/query-by-param",this.handleError=P.createHandleError(`${this.modelName}Service`)}filterModel(c,h){const P=(0,o.U8)(`${this.baseUrl}`,{...c,...(0,o.jq)(h)});return this.get(this.getUrl(P)).pipe((0,d.K)(this.handleError(`${this.modelName}Filter`,{}))).map(T=>Array.isArray(T)?(0,a.eC)(T):(0,a.O7)(T))}}return r.\u0275fac=function(c){return new(c||r)(t.LFG(z.eN),t.LFG(O.yh),t.LFG(A.k))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})();var D=n(76916),S=n(40269);function U(r,p){if(1&r){const c=t.EpF();t.TgZ(0,"div",8)(1,"h6"),t._uU(2,"tips"),t.qZA(),t.TgZ(3,"p"),t._uU(4),t.qZA(),t.TgZ(5,"div",9)(6,"button",10),t.NdJ("click",function(){t.CHM(c);const P=t.oxw();return t.KtG(P.closeModal())}),t._uU(7," ok "),t.qZA()()()}if(2&r){const c=t.oxw();t.xp6(4),t.Oqu(c.importantMsg)}}function I(r,p){1&r&&(t.TgZ(0,"div",8)(1,"h5"),t._uU(2,"Tips:"),t.qZA(),t.TgZ(3,"div"),t._uU(4,"Confirm delete it?"),t.qZA(),t.TgZ(5,"div",11)(6,"button",12),t._uU(7,"Delete"),t.qZA()()())}function B(r,p){if(1&r&&(t.TgZ(0,"td",13)(1,"span"),t._uU(2),t.qZA()(),t.TgZ(3,"td",13)(4,"span"),t._uU(5),t.qZA()(),t.TgZ(6,"td",13)(7,"span"),t._uU(8),t.qZA()()),2&r){const c=p.$implicit,h=t.oxw();t.xp6(1),t.Udp("width",h.tableHeaders[0].width),t.xp6(1),t.hij(" ",c.name," "),t.xp6(2),t.Udp("width",h.tableHeaders[1].width),t.xp6(1),t.hij(" ",c.employeeId," "),t.xp6(2),t.Udp("width",h.tableHeaders[2].width),t.xp6(1),t.hij(" ",c.email," ")}}const j=[{path:"",component:m.f,children:[{path:"",component:(()=>{class r extends s.Gw{constructor(c,h){super(),this.modalService=c,this.accessGateService=h,this.tableHeaders=[{text:"Name",column:"name",width:"100px"},{text:"EmployeID",column:"employeId",width:"100px"},{text:"Email",column:"email",width:"100px"}],this.importantMsg="",this.searchKeyword=""}get filterParams(){return{}}get test(){return console.log("data=============>",this.data),""}ngOnInit(){this.reloadData()}pageChanged(c){this.pagination=c,this.reloadData()}reloadData(){this.reloadDataService(this.accessGateService)}}return r.\u0275fac=function(c){return new(c||r)(t.Y36(u.tT),t.Y36(L))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-access-gate-info"]],features:[t.qOj],decls:13,vars:3,consts:[[1,"body-wrapper"],["confirmModalImportant",""],["confirmDeleteModal",""],[1,"m-content"],[1,"m-portlet","m-portlet--tabs"],[1,"m-portlet__body","m-portlet__body--scrollable"],[3,"headers","items","pagination","pageChanged"],["rowTemplate",""],[1,"modal-body","text-center"],[2,"display","flex","justify-content","space-evenly"],["type","button",1,"btn","btn-default","mr-3",3,"click"],[2,"display","flex","justify-content","space-evenly","margin-top","16px"],["type","button",1,"btn","btn-default","mr-3"],[1,"m-datatable__cell"]],template:function(c,h){1&c&&(t.TgZ(0,"div",0),t._UZ(1,"app-title-bar"),t.YNc(2,U,8,1,"ng-template",null,1,t.W1O),t.YNc(4,I,8,0,"ng-template",null,2,t.W1O),t.TgZ(6,"div",3)(7,"div",4)(8,"section")(9,"div",5)(10,"app-datatable",6),t.NdJ("pageChanged",function(T){return h.pageChanged(T)}),t.YNc(11,B,9,9,"ng-template",null,7,t.W1O),t.qZA()()()()()()),2&c&&(t.xp6(10),t.Q6J("headers",h.tableHeaders)("items",h.data)("pagination",h.pagination))},dependencies:[D.G,S.Uo,s.nE],styles:['@charset "UTF-8";.assignTicket[_ngcontent-%COMP%], .view-icon[_ngcontent-%COMP%], .edit-icon[_ngcontent-%COMP%], .unbinding-icon[_ngcontent-%COMP%]{position:relative!important}.assignTicket[_ngcontent-%COMP%]:hover:after, .view-icon[_ngcontent-%COMP%]:hover:after, .edit-icon[_ngcontent-%COMP%]:hover:after, .unbinding-icon[_ngcontent-%COMP%]:hover:after{position:absolute!important;left:0!important;bottom:-20px;font-size:14px!important;color:#000!important;z-index:2!important}.assignTicket[_ngcontent-%COMP%]:hover:after{content:"Assign"!important}.view-icon[_ngcontent-%COMP%]:hover:after{content:"View"!important}.edit-icon[_ngcontent-%COMP%]:hover:after{content:"Edit"!important}.unbinding-icon[_ngcontent-%COMP%]:hover:after{content:"DeLink"!important}.border-none[_ngcontent-%COMP%]{box-sizing:border-box;border:none}.dash-box[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;color:#fff}.border-style[_ngcontent-%COMP%]{border-bottom:1px solid white}.box-unnormal[_ngcontent-%COMP%]{height:120px;margin-bottom:12px}.box-unnormal[_ngcontent-%COMP%]   .ticket-info[_ngcontent-%COMP%]{box-sizing:border-box;border-right:1px solid white;display:flex;flex-direction:column;justify-content:space-between}.box-unnormal[_ngcontent-%COMP%]   .ticket-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-size:16px}.box-unnormal[_ngcontent-%COMP%]   .ticket-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{font-size:28px}.box-unnormal[_ngcontent-%COMP%]   .assign-info-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-evenly}.box-unnormal[_ngcontent-%COMP%]   .assign-info-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-size:16px}.box-unnormal[_ngcontent-%COMP%]   .assign-info-box[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0}.box-normal[_ngcontent-%COMP%]{height:120px;display:flex;flex-direction:column;justify-content:space-evenly;margin-bottom:12px}.box-normal[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-size:16px}.box-normal[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{text-align:right;font-size:28px}.status-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;width:auto;min-width:100px;padding:0 4px;border-radius:30%;text-align:center;font-weight:600}.SearchBox[_ngcontent-%COMP%]{margin:0 10px 20px 0}.SearchBox[_ngcontent-%COMP%]   .SearchLabel[_ngcontent-%COMP%]{margin:0 10px 0 0}.search-box[_ngcontent-%COMP%]{width:300px}.modal-header-unbingding[_ngcontent-%COMP%]{position:relative}.modal-header-unbingding[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0 auto}.modal-header-unbingding[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:0;right:0;cursor:pointer;font-size:20px;font-weight:700}.de-link-input[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.de-link-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center}.tb-act[_ngcontent-%COMP%]{display:flex;align-items:center}.tb-act[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer}','@charset "UTF-8";.backbtn[_ngcontent-%COMP%]:hover{color:#000!important}.text-right[_ngcontent-%COMP%]{font-weight:500!important;font-size:16px!important}.CilckStyle[_ngcontent-%COMP%]{border-bottom:3px solid #00bdb5}.top-line[_ngcontent-%COMP%]{display:flex}.top-line-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;margin-right:40px}.top-line-right[_ngcontent-%COMP%]{display:flex}.top-line-right-options[_ngcontent-%COMP%]{margin:0 20px;font-weight:500}.action-line[_ngcontent-%COMP%]{margin-bottom:6px;display:flex;align-items:center;justify-content:space-between}.SearchBox[_ngcontent-%COMP%]{display:flex;width:25%;margin:0 20px;font-size:16px;font-weight:500;position:relative;padding-bottom:0!important}.time-search[_ngcontent-%COMP%]{display:flex;width:20%;margin:0 20px 0 0;font-size:16px;font-weight:500;position:relative}.SearchLabel[_ngcontent-%COMP%]{margin-right:16px;font-size:16px;font-weight:500}.addCardTitle[_ngcontent-%COMP%]{margin:0 16px}.actionLineBtn[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.actionLineBtn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:16px}.addCardFooter[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.addCardFooter[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]{margin:0 16px}.assignSelectTitle[_ngcontent-%COMP%]{display:flex;align-items:center}.assignSelect[_ngcontent-%COMP%]{margin-left:20px}.assignSelect-topLine[_ngcontent-%COMP%]{margin:16px 0}.action-btn[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-bottom:16px}.action-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:16px}.editAction[_ngcontent-%COMP%], .view-icon[_ngcontent-%COMP%], .deleteAction[_ngcontent-%COMP%], .lostAction[_ngcontent-%COMP%], .stopUseAction[_ngcontent-%COMP%], .cancellostAction[_ngcontent-%COMP%]{cursor:pointer}.reduceBtn[_ngcontent-%COMP%]{line-height:40px!important;justify-content:center!important;border-radius:40px!important;width:40px!important;height:40px!important;background-color:#fff!important;border:2px solid #00bdb5!important;color:#00bdb5!important;font-size:1px}.border-none[_ngcontent-%COMP%]{box-sizing:border-box;border:none}.border-style[_ngcontent-%COMP%]{border-bottom:1px solid white}.dash-box[_ngcontent-%COMP%]{display:flex;justify-content:space-between;color:#fff}.box-unnormal[_ngcontent-%COMP%]{height:120px;margin-bottom:12px;padding:12px}.box-unnormal[_ngcontent-%COMP%]   .ticket-info[_ngcontent-%COMP%]{box-sizing:border-box;padding:0 1px 0 0;border-right:1px solid white;display:flex;flex-direction:column;justify-content:space-between}.box-unnormal[_ngcontent-%COMP%]   .ticket-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-size:16px}.box-unnormal[_ngcontent-%COMP%]   .ticket-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{font-size:28px}.box-unnormal[_ngcontent-%COMP%]   .assign-info-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-evenly}.box-unnormal[_ngcontent-%COMP%]   .assign-info-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-size:16px}.box-unnormal[_ngcontent-%COMP%]   .assign-info-box[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0}.box-normal[_ngcontent-%COMP%]{height:120px;display:flex;flex-direction:column;justify-content:space-evenly;margin-bottom:12px;padding:15px}.box-normal[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-size:16px}.box-normal[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{text-align:right;font-size:28px}.status-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;width:100%;border-radius:30%;text-align:center;font-weight:600}.modal-header[_ngcontent-%COMP%]{position:relative}.modal-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0 auto}.modal-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:0;right:0;cursor:pointer;font-size:20px;font-weight:700}.tenant-table-action[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.tenant-table-action[_ngcontent-%COMP%]   .tenant-btn-group[_ngcontent-%COMP%]{display:flex;width:auto}.m-font-weight-600[_ngcontent-%COMP%]{font-weight:600}.m-font-weight-500[_ngcontent-%COMP%]{font-weight:500}.td-word-wrap[_ngcontent-%COMP%]{word-break:break-all!important}.action-btn-font[_ngcontent-%COMP%]{font-size:16px}.tenant-admin-info[_ngcontent-%COMP%]{display:flex;align-items:center}.tenant-admin-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:6px}.tenant-info[_ngcontent-%COMP%]{display:flex;align-items:center}.tenant-info[_ngcontent-%COMP%]   .email-act[_ngcontent-%COMP%]{cursor:pointer}.edit-tenant-main[_ngcontent-%COMP%]{position:relative}.edit-tenant-main[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{position:absolute;right:16px;top:16px;cursor:pointer}.btn-form-ops[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.btn-form-ops[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{margin-left:6px}.ticket-tb-act[_ngcontent-%COMP%]{display:flex;align-items:center}.ticket-tb-act[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer}']}),r})()}]}];let F=(()=>{class r{}return r.\u0275fac=function(c){return new(c||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({providers:[L],imports:[g.ez,e.x,l.Bz.forChild(j),C.A0,_.u5,_.UX,b.D,x.kn,M.mr,v.Ns.forRoot({echarts:()=>n.e(4734).then(n.bind(n,14734))}),u.zk,y.L$,E.z]}),r})()},34984:(w,f,n)=>{n.d(f,{Ns:()=>E,_w:()=>y});var g=n(15861),l=n(94650),m=n(21086),e=n(68896),C=n(8929),_=n(20353),x=n(34202),b=n(66753),v=n(87545);class u{constructor(s){this.changes=s}static of(s){return new u(s)}notEmpty(s){if(this.changes[s]){const t=this.changes[s].currentValue;if(null!=t)return(0,m.of)(t)}return e.E}has(s){return this.changes[s]?(0,m.of)(this.changes[s].currentValue):e.E}notFirst(s){return this.changes[s]&&!this.changes[s].isFirstChange()?(0,m.of)(this.changes[s].currentValue):e.E}notFirstAndEmpty(s){if(this.changes[s]&&!this.changes[s].isFirstChange()){const t=this.changes[s].currentValue;if(null!=t)return(0,m.of)(t)}return e.E}}const M=new l.OlP("NGX_ECHARTS_CONFIG");let y=(()=>{class o{constructor(t,i,a){this.el=i,this.ngZone=a,this.autoResize=!0,this.loadingType="default",this.chartInit=new l.vpe,this.optionsError=new l.vpe,this.chartClick=this.createLazyEvent("click"),this.chartDblClick=this.createLazyEvent("dblclick"),this.chartMouseDown=this.createLazyEvent("mousedown"),this.chartMouseMove=this.createLazyEvent("mousemove"),this.chartMouseUp=this.createLazyEvent("mouseup"),this.chartMouseOver=this.createLazyEvent("mouseover"),this.chartMouseOut=this.createLazyEvent("mouseout"),this.chartGlobalOut=this.createLazyEvent("globalout"),this.chartContextMenu=this.createLazyEvent("contextmenu"),this.chartLegendSelectChanged=this.createLazyEvent("legendselectchanged"),this.chartLegendSelected=this.createLazyEvent("legendselected"),this.chartLegendUnselected=this.createLazyEvent("legendunselected"),this.chartLegendScroll=this.createLazyEvent("legendscroll"),this.chartDataZoom=this.createLazyEvent("datazoom"),this.chartDataRangeSelected=this.createLazyEvent("datarangeselected"),this.chartTimelineChanged=this.createLazyEvent("timelinechanged"),this.chartTimelinePlayChanged=this.createLazyEvent("timelineplaychanged"),this.chartRestore=this.createLazyEvent("restore"),this.chartDataViewChanged=this.createLazyEvent("dataviewchanged"),this.chartMagicTypeChanged=this.createLazyEvent("magictypechanged"),this.chartPieSelectChanged=this.createLazyEvent("pieselectchanged"),this.chartPieSelected=this.createLazyEvent("pieselected"),this.chartPieUnselected=this.createLazyEvent("pieunselected"),this.chartMapSelectChanged=this.createLazyEvent("mapselectchanged"),this.chartMapSelected=this.createLazyEvent("mapselected"),this.chartMapUnselected=this.createLazyEvent("mapunselected"),this.chartAxisAreaSelected=this.createLazyEvent("axisareaselected"),this.chartFocusNodeAdjacency=this.createLazyEvent("focusnodeadjacency"),this.chartUnfocusNodeAdjacency=this.createLazyEvent("unfocusnodeadjacency"),this.chartBrush=this.createLazyEvent("brush"),this.chartBrushEnd=this.createLazyEvent("brushend"),this.chartBrushSelected=this.createLazyEvent("brushselected"),this.chartRendered=this.createLazyEvent("rendered"),this.chartFinished=this.createLazyEvent("finished"),this.animationFrameID=null,this.resize$=new C.xQ,this.echarts=t.echarts}ngOnChanges(t){const i=u.of(t);i.notFirstAndEmpty("options").subscribe(a=>this.onOptionsChange(a)),i.notFirstAndEmpty("merge").subscribe(a=>this.setOption(a)),i.has("loading").subscribe(a=>this.toggleLoading(!!a)),i.notFirst("theme").subscribe(()=>this.refreshChart())}ngOnInit(){if(!window.ResizeObserver)throw new Error("please install a polyfill for ResizeObserver");this.resizeSub=this.resize$.pipe((0,b.p)(100,_.z,{leading:!1,trailing:!0})).subscribe(()=>this.resize()),this.autoResize&&(this.resizeOb=this.ngZone.runOutsideAngular(()=>new window.ResizeObserver(()=>{this.animationFrameID=window.requestAnimationFrame(()=>this.resize$.next())})),this.resizeOb.observe(this.el.nativeElement))}ngOnDestroy(){window.clearTimeout(this.initChartTimer),this.resizeSub&&this.resizeSub.unsubscribe(),this.animationFrameID&&window.cancelAnimationFrame(this.animationFrameID),this.resizeOb&&this.resizeOb.unobserve(this.el.nativeElement),this.dispose()}ngAfterViewInit(){this.initChartTimer=window.setTimeout(()=>this.initChart())}dispose(){this.chart&&(this.chart.isDisposed()||this.chart.dispose(),this.chart=null)}resize(){this.chart&&this.chart.resize()}toggleLoading(t){this.chart&&(t?this.chart.showLoading(this.loadingType,this.loadingOpts):this.chart.hideLoading())}setOption(t,i){if(this.chart)try{this.chart.setOption(t,i)}catch(a){console.error(a),this.optionsError.emit(a)}}refreshChart(){var t=this;return(0,g.Z)(function*(){t.dispose(),yield t.initChart()})()}createChart(){const t=this.el.nativeElement;if(window&&window.getComputedStyle){const i=window.getComputedStyle(t,null).getPropertyValue("height");(!i||"0px"===i)&&(!t.style.height||"0px"===t.style.height)&&(t.style.height="400px")}return this.ngZone.runOutsideAngular(()=>("function"==typeof this.echarts?this.echarts:()=>Promise.resolve(this.echarts))().then(({init:a})=>a(t,this.theme,this.initOpts)))}initChart(){var t=this;return(0,g.Z)(function*(){yield t.onOptionsChange(t.options),t.merge&&t.chart&&t.setOption(t.merge)})()}onOptionsChange(t){var i=this;return(0,g.Z)(function*(){!t||(i.chart||(i.chart=yield i.createChart(),i.chartInit.emit(i.chart)),i.setOption(i.options,!0))})()}createLazyEvent(t){return this.chartInit.pipe((0,v.w)(i=>new x.y(a=>(i.on(t,d=>this.ngZone.run(()=>a.next(d))),()=>{this.chart&&(this.chart.isDisposed()||i.off(t))}))))}}return o.\u0275fac=function(t){return new(t||o)(l.Y36(M),l.Y36(l.SBq),l.Y36(l.R0b))},o.\u0275dir=l.lG2({type:o,selectors:[["echarts"],["","echarts",""]],inputs:{options:"options",theme:"theme",loading:"loading",initOpts:"initOpts",merge:"merge",autoResize:"autoResize",loadingType:"loadingType",loadingOpts:"loadingOpts"},outputs:{chartInit:"chartInit",optionsError:"optionsError",chartClick:"chartClick",chartDblClick:"chartDblClick",chartMouseDown:"chartMouseDown",chartMouseMove:"chartMouseMove",chartMouseUp:"chartMouseUp",chartMouseOver:"chartMouseOver",chartMouseOut:"chartMouseOut",chartGlobalOut:"chartGlobalOut",chartContextMenu:"chartContextMenu",chartLegendSelectChanged:"chartLegendSelectChanged",chartLegendSelected:"chartLegendSelected",chartLegendUnselected:"chartLegendUnselected",chartLegendScroll:"chartLegendScroll",chartDataZoom:"chartDataZoom",chartDataRangeSelected:"chartDataRangeSelected",chartTimelineChanged:"chartTimelineChanged",chartTimelinePlayChanged:"chartTimelinePlayChanged",chartRestore:"chartRestore",chartDataViewChanged:"chartDataViewChanged",chartMagicTypeChanged:"chartMagicTypeChanged",chartPieSelectChanged:"chartPieSelectChanged",chartPieSelected:"chartPieSelected",chartPieUnselected:"chartPieUnselected",chartMapSelectChanged:"chartMapSelectChanged",chartMapSelected:"chartMapSelected",chartMapUnselected:"chartMapUnselected",chartAxisAreaSelected:"chartAxisAreaSelected",chartFocusNodeAdjacency:"chartFocusNodeAdjacency",chartUnfocusNodeAdjacency:"chartUnfocusNodeAdjacency",chartBrush:"chartBrush",chartBrushEnd:"chartBrushEnd",chartBrushSelected:"chartBrushSelected",chartRendered:"chartRendered",chartFinished:"chartFinished"},exportAs:["echarts"],features:[l.TTD]}),o})(),E=(()=>{class o{static forRoot(t){return{ngModule:o,providers:[{provide:M,useValue:t}]}}static forChild(){return{ngModule:o}}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=l.oAB({type:o}),o.\u0275inj=l.cJS({}),o})()}}]);