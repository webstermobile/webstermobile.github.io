"use strict";(self.webpackChunkst_admin=self.webpackChunkst_admin||[]).push([[5509],{75191:(A,b,a)=>{a.d(b,{B:()=>h,P:()=>u});var p=a(8929),m=a(591),e=a(94650),u=(()=>{return(s=u||(u={})).Season_Applications_Data="Season_Applications_Data",s.Billing_History_Detail_Data="Billing_History_Detail_Data",s.Detail_Depot_List_Data="Detail_Depot_List_Data",s.Detail_SEASON_GROUP="Detail_SEASON_GROUP",u;var s})();let h=(()=>{class s{constructor(){this.subject$||(this.subject$=new p.xQ),this.bSubject$||(this.bSubject$=new m.X(null))}getSubject(){return this.subject$.asObservable()}setSubject(f){this.subject$.next(f)}getBSubject(){return this.bSubject$.asObservable()}setBSubject(f){this.bSubject$.next(f)}resetBSubjcet(){this.bSubject$.next(null)}}return s.\u0275fac=function(f){return new(f||s)},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac}),s})()},65509:(A,b,a)=>{a.r(b),a.d(b,{BusDepotModule:()=>Ot,CarParkResolver:()=>Y,createTranslateLoader:()=>F,routes:()=>Q});var p=a(36895),m=a(24006),e=a(34793),u=a(372),h=a(36511),s=a(91599),g=a(64870),f=a(42684),I=a(85265),y=a(30329),O=a(21532),_=a(75191),t=a(94650),S=a(76284),E=a(11481),T=a(89383),N=a(60097),U=a(71942),Z=a(70853),l=a(76916),v=a(59245),n=a(90371);const c=function(o){return[o]};function k(o,d){if(1&o&&(t.TgZ(0,"li",43),t._UZ(1,"a",44),t.qZA()),2&o){const r=d.$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(2,c,r.sub))("innerHTML",r.text,t.oJD)}}function L(o,d){if(1&o&&(t.TgZ(0,"ul",41),t.YNc(1,k,2,4,"li",42),t.qZA()),2&o){const r=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",r.menuItems)}}function P(o,d){1&o&&(t.TgZ(0,"div",37)(1,"button",38),t._UZ(2,"i",39),t.qZA(),t.YNc(3,L,2,1,"ul",40),t.qZA())}function C(o,d){if(1&o&&(t.TgZ(0,"app-title-bar"),t.YNc(1,P,4,0,"div",36),t.qZA()),2&o){const r=t.oxw();t.xp6(1),t.Q6J("ngIf",r.isAdmin)}}function w(o,d){if(1&o&&(t.TgZ(0,"option",45),t._uU(1),t.qZA()),2&o){const r=d.$implicit;t.Q6J("value",r),t.xp6(1),t.hij(" ",r," ")}}function x(o,d){if(1&o&&(t.TgZ(0,"slide",46),t._UZ(1,"img",47),t.qZA()),2&o){const r=d.$implicit;t.xp6(1),t.Q6J("src",r,t.LSH)}}const B=function(){return["detail-depot"]},J=function(){return["ev-charger-zone"]},K=function(){return["detail-transactions"]},W=function(){return["depot-lot-status"]},z=function(o){return{"m-portlet__body--scrollable":o}};let H=(()=>{class o{constructor(r,i,D,M,R,kt,wt,Tt,Dt){this.router=r,this.assetsService=i,this.sanitizer=D,this.route=M,this.translate=R,this.carparkService=kt,this.vehicleService=wt,this.busService=Tt,this.bully=Dt,this.isLotOverview=!1,this.menuItems=[{text:'<i class="la la-wrench"></i>Settings',sub:"settings"},{text:'<i class="la la-columns"></i>Lots Management',sub:"lots"},{text:'<i class="iconfont icon-chongdianzhuang"></i>Stations Management',sub:"stations"},{text:'<i class="la la-usd"></i>Tariffs Management',sub:"tariffs"},{text:'<i class="la la-map"></i>Layouts Management',sub:"layouts"},{text:'<i class="la la-object-group"></i>Slots Management',sub:"slots"},{text:'<i class="la la-signal"></i>Live Status',sub:"live-status"}],this.listImages=["./assets/app/media/img/bg/depot_detail2.png"],this.depot="",this.depotList=[]}gotoLink(r){this.router.navigate(["carparks",this.item.id,r.sub])}ngOnInit(){this.route.data.subscribe(({item:r})=>{this.bully.setBSubject({type:_.P.Detail_Depot_List_Data,data:r})}),this.isLotOverview=-1!==this.router.url.indexOf("bus-ev-dashboard"),this.reloadData()}reloadData(){this.depotList=["Kranji","Seletar","Loyang"];for(let r=0;r<26;r++)this.depotList.push(`Car Park ${String.fromCharCode(65+r)}`)}getNormalLots(r){return r.live?r.totalLots-r.live.availableLots-r.seasonLots:"-"}get isAdmin(){return this.carparkService.isAdmin()||this.busService.isBusAdmin()}get isOwner(){return this.carparkService.isOwner()}get isOperator(){return this.vehicleService.isOperator()}get notOwnerAndOperator(){return!(this.isOperator||this.isOwner||this.isAdmin)}showScroll(){return-1!==this.router.url.indexOf("detail-transactions")}}return o.\u0275fac=function(r){return new(r||o)(t.Y36(e.F0),t.Y36(S.z),t.Y36(E.H7),t.Y36(e.gz),t.Y36(T.sK),t.Y36(N.x),t.Y36(U.f),t.Y36(Z.Z),t.Y36(_.B))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-depot-detail"]],decls:69,vars:25,consts:[[1,"body-wrapper"],[4,"ngIf"],[1,"m-content"],[1,"m-portlet"],[1,"m-portlet__body"],[1,"m-portlet__body","m-portlet__body--scrollable"],[1,"m-portlet__frame",2,"overflow","hidden"],[1,"form-group","m-form__group","m-portlet__filters"],[1,"m-portlet__filter"],[1,"col-form-label"],["name","status",1,"form-control","m-input",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"row"],[1,"col-9","mb-5"],[1,"depot-carousel-wrapper"],[1,"depot-carousel"],["class","mx-auto",4,"ngFor","ngForOf"],[1,"col-md-3","m-section","d-flex","align-items-end"],[2,"display","flex","font-size","12px","align-items","center","width","100%"],[2,"flex","1","display","flex"],[2,"background-color","#00b050","height","40px","width","40px"],[2,"background-color","#ff0000","height","40px","width","40px"],[2,"display","flex","flex-direction","column","justify-content","space-around"],[2,"margin","0 5px"],[2,"background-color","#00b0f0","height","40px","width","40px"],[2,"background-color","#00b050","height","80px","width","40px"],[1,"row","m-row--col-separator-sm"],[1,"m-portlet","m-portlet--tabs"],[1,"m-portlet__head"],[1,"m-portlet__head-tools"],["role","tablist",1,"nav","nav-tabs","m-tabs-line","m-tabs-line--primary","m-tabs-line--2x"],[1,"nav-item","m-tabs__item"],[1,"nav-link","m-tabs__link",3,"routerLink","routerLinkActive"],[1,"m-portlet__body",3,"ngClass"],[1,"m-portlet__frame"],["dropdown","","class","m-dropdown m-dropdown--inline",4,"ngIf"],["dropdown","",1,"m-dropdown","m-dropdown--inline"],["dropdownToggle","",1,"m-portlet__nav-link","btn","btn-lg","btn-outline-main","m-btn","m-btn--outline-2x","m-btn--air","m-btn--icon","m-btn--icon-only","m-btn--pill"],[1,"la","la-ellipsis-h"],["class","dropdown-menu dropdown-menu-right","role","menu",4,"dropdownMenu"],["role","menu",1,"dropdown-menu","dropdown-menu-right"],["role","menuitem",4,"ngFor","ngForOf"],["role","menuitem"],[1,"dropdown-item",3,"routerLink","innerHTML"],[3,"value"],[1,"mx-auto"],[1,"carousel-image-pic","w-100",3,"src"]],template:function(r,i){1&r&&(t.TgZ(0,"div",0),t.YNc(1,C,2,1,"app-title-bar",1),t.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"label",9),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"div")(13,"select",10),t.NdJ("ngModelChange",function(M){return i.depot=M})("ngModelChange",function(){return i.reloadData()}),t.TgZ(14,"option",11),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.YNc(17,w,2,2,"option",12),t.qZA()()()()()(),t.TgZ(18,"div",13)(19,"div",14)(20,"div",15)(21,"carousel",16),t.YNc(22,x,2,1,"slide",17),t.qZA()()(),t.TgZ(23,"div",18)(24,"div",19)(25,"div",20)(26,"div"),t._UZ(27,"div",21)(28,"div",22),t.qZA(),t.TgZ(29,"div",23)(30,"div",24),t._uU(31,"Fully charged"),t.qZA(),t.TgZ(32,"div",24),t._uU(33,"lot not available"),t.qZA()()(),t.TgZ(34,"div",20)(35,"div"),t._UZ(36,"div",25)(37,"div",22),t.qZA(),t.TgZ(38,"div",23)(39,"div",24),t._uU(40,"Charging"),t.qZA(),t.TgZ(41,"div",24),t._uU(42,"lot not available"),t.qZA()()(),t.TgZ(43,"div",20)(44,"div"),t._UZ(45,"div",26),t.qZA(),t.TgZ(46,"div",23)(47,"div",24),t._uU(48,"lot and Charger available"),t.qZA()()()()()(),t._UZ(49,"div",27),t.qZA()(),t.TgZ(50,"div",28)(51,"div",29)(52,"div",30)(53,"ul",31)(54,"li",32)(55,"a",33),t._uU(56," Depot Detail "),t.qZA()(),t.TgZ(57,"li",32)(58,"a",33),t._uU(59," Ev Charger Zone "),t.qZA()(),t.TgZ(60,"li",32)(61,"a",33),t._uU(62," Transactions History "),t.qZA()(),t.TgZ(63,"li",32)(64,"a",33),t._uU(65," Lot Status "),t.qZA()()()()(),t.TgZ(66,"div",34)(67,"div",35),t._UZ(68,"router-outlet"),t.qZA()()()()()),2&r&&(t.xp6(1),t.Q6J("ngIf",!i.isLotOverview),t.xp6(9),t.hij(" ",t.lcZ(11,15,"Depot"),": "),t.xp6(3),t.Q6J("ngModel",i.depot),t.xp6(2),t.Oqu(t.lcZ(16,17,"All")),t.xp6(2),t.Q6J("ngForOf",i.depotList),t.xp6(5),t.Q6J("ngForOf",i.listImages),t.xp6(33),t.Q6J("routerLink",t.DdM(19,B))("routerLinkActive","active"),t.xp6(3),t.Q6J("routerLink",t.DdM(20,J))("routerLinkActive","active"),t.xp6(3),t.Q6J("routerLink",t.DdM(21,K))("routerLinkActive","active"),t.xp6(3),t.Q6J("routerLink",t.DdM(22,W))("routerLinkActive","active"),t.xp6(2),t.Q6J("ngClass",t.VKq(23,z,i.showScroll())))},dependencies:[p.mk,p.sg,p.O5,e.lC,e.yS,e.Od,l.G,v.Hz,v.Mq,v.TO,m.YN,m.Kr,m.EJ,m.JJ,m.On,n.o6,n.Fy,T.X$],styles:[".btn-create[_ngcontent-%COMP%]{margin-left:auto;margin-top:auto;margin-bottom:auto}.header--stations[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:3rem;height:3rem;display:flex;justify-content:center;align-items:center}.header--stations[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:not(:first-of-type){margin-left:1.5rem}.depot-carousel-wrapper[_ngcontent-%COMP%]{position:relative;width:890px;margin:0 auto}.depot-carousel-wrapper[_ngcontent-%COMP%]   .depot-carousel[_ngcontent-%COMP%]{position:relative}.depot-carousel-wrapper[_ngcontent-%COMP%]   .depot-carousel[_ngcontent-%COMP%]   .carousel-image-info[_ngcontent-%COMP%]{position:relative;width:60%;margin:0 auto}.depot-carousel-wrapper[_ngcontent-%COMP%]   .depot-carousel[_ngcontent-%COMP%]   .carousel-image-pic[_ngcontent-%COMP%]{position:relative;width:60%;margin:0 auto;margin-bottom:1rem}.depot-carousel-wrapper[_ngcontent-%COMP%]   .depot-carousel[_ngcontent-%COMP%]   .carousel-caption[_ngcontent-%COMP%]{position:relative;right:0;bottom:0;left:0;padding-top:10px;padding-bottom:50px}.depot-carousel-wrapper[_ngcontent-%COMP%]   .depot-carousel[_ngcontent-%COMP%]   .carousel-caption[_ngcontent-%COMP%]   .carousel-title[_ngcontent-%COMP%]{color:#666}.depot-carousel-wrapper[_ngcontent-%COMP%]   .depot-carousel[_ngcontent-%COMP%]     .carousel-indicators{top:101%!important}.depot-carousel-wrapper[_ngcontent-%COMP%]   .depot-carousel[_ngcontent-%COMP%]     .carousel-indicators li{background-color:#0000004d}.depot-carousel-wrapper[_ngcontent-%COMP%]   .depot-carousel[_ngcontent-%COMP%]     .carousel-indicators .active{background-color:#00000080}.depot-carousel-wrapper[_ngcontent-%COMP%]   .depot-carousel[_ngcontent-%COMP%]     .carousel-control-prev{left:3rem}.depot-carousel-wrapper[_ngcontent-%COMP%]   .depot-carousel[_ngcontent-%COMP%]     .carousel-control-next{right:3rem}.depot-carousel-wrapper[_ngcontent-%COMP%]   .depot-carousel[_ngcontent-%COMP%]     .carousel-control-prev-icon{background-image:url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23666' viewBox='0 0 8 8'%3E%3Cpath d='M5.25 0l-4 4 4 4 1.5-1.5-2.5-2.5 2.5-2.5-1.5-1.5z'/%3E%3C/svg%3E\")}.depot-carousel-wrapper[_ngcontent-%COMP%]   .depot-carousel[_ngcontent-%COMP%]     .carousel-control-next-icon{background-image:url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23666' viewBox='0 0 8 8'%3E%3Cpath d='M2.75 0l-1.5 1.5 2.5 2.5-2.5 2.5 1.5 1.5 4-4-4-4z'/%3E%3C/svg%3E\")}"]}),o})();a(38014);var $=a(19848);function X(o,d){if(1&o&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",5),t._UZ(3,"app-evc-ev-carpark",6),t.qZA()()()),2&o){const r=d.$implicit;t.xp6(3),t.Q6J("horizontal",!1)("data",r)}}const j={messageCode:"00000",message:"\u83b7\u53d6\u8bbe\u5907\u6210\u529f\uff01",data:{1424:[{deviceId:"201120175342QUDW",stakeOwner:null,carparkId:"1424",carparkName:null,carparkTotalPower:1e3,deviceConnectorTotalPower:0,carparkAvailablePower:1e3,enable:0,connectorList:[{deviceNo:"201120175342QUDW",connectorNo:"00",status:4,soc:null,activePower:null,parkNu:"L11001"},{deviceNo:"201120175342QUDW",connectorNo:"01",status:4,soc:null,activePower:null,parkNu:"L1002"}]},{deviceId:"201124163254ITHV",stakeOwner:1,carparkId:"1424",carparkName:null,carparkTotalPower:1e3,deviceConnectorTotalPower:0,carparkAvailablePower:1e3,enable:1,connectorList:[{deviceNo:"201124163254ITHV",connectorNo:"00",status:4,soc:null,activePower:null,parkNu:"L1002"}]},{deviceId:"201124163326ITRS",stakeOwner:1,carparkId:"1424",carparkName:null,carparkTotalPower:1e3,deviceConnectorTotalPower:0,carparkAvailablePower:1e3,enable:0,connectorList:[{deviceNo:"201124163326ITRS",connectorNo:"00",status:4,soc:null,activePower:null,parkNu:"L11001"}]},{deviceId:"201124163401OVHT",stakeOwner:1,carparkId:"1424",carparkName:null,carparkTotalPower:1e3,deviceConnectorTotalPower:0,carparkAvailablePower:1e3,enable:0,connectorList:[{deviceNo:"201124163401OVHT",connectorNo:"00",status:4,soc:null,activePower:null,parkNu:"L11001"}]},{deviceId:"201124163459YRWP",stakeOwner:1,carparkId:"1424",carparkName:null,carparkTotalPower:1e3,deviceConnectorTotalPower:0,carparkAvailablePower:1e3,enable:0,connectorList:[{deviceNo:"201124163459YRWP",connectorNo:"01",status:4,soc:null,activePower:null,parkNu:"L11001"}]},{deviceId:"201124163752QIEZ",stakeOwner:1,carparkId:"1424",carparkName:null,carparkTotalPower:1e3,deviceConnectorTotalPower:0,carparkAvailablePower:1e3,enable:0,connectorList:[{deviceNo:"201124163752QIEZ",connectorNo:"00",status:4,soc:null,activePower:null,parkNu:"L11001"}]},{deviceId:"201124163844ATMC",stakeOwner:1,carparkId:"1424",carparkName:null,carparkTotalPower:1e3,deviceConnectorTotalPower:0,carparkAvailablePower:1e3,enable:0,connectorList:[{deviceNo:"201124163844ATMC",connectorNo:"00",status:4,soc:null,activePower:null,parkNu:"L11001"}]},{deviceId:"201124164128SZIL",stakeOwner:1,carparkId:"1424",carparkName:null,carparkTotalPower:1e3,deviceConnectorTotalPower:0,carparkAvailablePower:1e3,enable:0,connectorList:[{deviceNo:"201124164128SZIL",connectorNo:"00",status:4,soc:null,activePower:null,parkNu:"L11001"}]},{deviceId:"201124164237YAMH",stakeOwner:1,carparkId:"1424",carparkName:null,carparkTotalPower:1e3,deviceConnectorTotalPower:0,carparkAvailablePower:1e3,enable:0,connectorList:[{deviceNo:"201124164237YAMH",connectorNo:"00",status:4,soc:null,activePower:null,parkNu:"L11001"}]},{deviceId:"201124164325RISM",stakeOwner:1,carparkId:"1424",carparkName:null,carparkTotalPower:1e3,deviceConnectorTotalPower:0,carparkAvailablePower:1e3,enable:0,connectorList:[{deviceNo:"201124164325RISM",connectorNo:"00",status:4,soc:null,activePower:null,parkNu:"L1002"}]},{deviceId:"201124164436DCBT",stakeOwner:1,carparkId:"1424",carparkName:null,carparkTotalPower:1e3,deviceConnectorTotalPower:0,carparkAvailablePower:1e3,enable:0,connectorList:[{deviceNo:"201124164436DCBT",connectorNo:"00",status:4,soc:null,activePower:null,parkNu:"L1002"}]},{deviceId:"201124164612GBSK",stakeOwner:1,carparkId:"1424",carparkName:null,carparkTotalPower:1e3,deviceConnectorTotalPower:0,carparkAvailablePower:1e3,enable:0,connectorList:[{deviceNo:"201124164612GBSK",connectorNo:"00",status:4,soc:null,activePower:null,parkNu:"L11001"}]},{deviceId:"201208140807OUXD",stakeOwner:1,carparkId:"1424",carparkName:null,carparkTotalPower:1e3,deviceConnectorTotalPower:0,carparkAvailablePower:1e3,enable:0,connectorList:[{deviceNo:"201208140807OUXD",connectorNo:"00",status:4,soc:null,activePower:null,parkNu:"L1002"},{deviceNo:"201208140807OUXD",connectorNo:"01",status:4,soc:null,activePower:null,parkNu:"L11001"}]},{deviceId:"210331134330RDWA",stakeOwner:1,carparkId:"1424",carparkName:null,carparkTotalPower:1e3,deviceConnectorTotalPower:0,carparkAvailablePower:1e3,enable:0,connectorList:[{deviceNo:"210331134330RDWA",connectorNo:"00",status:4,soc:null,activePower:null,parkNu:"L11001"}]},{deviceId:"210331141402QLLE",stakeOwner:1,carparkId:"1424",carparkName:null,carparkTotalPower:1e3,deviceConnectorTotalPower:0,carparkAvailablePower:1e3,enable:0,connectorList:[{deviceNo:"210331141402QLLE",connectorNo:"00",status:4,soc:null,activePower:null,parkNu:""}]},{deviceId:"210401110948AZWF",stakeOwner:1,carparkId:"1424",carparkName:null,carparkTotalPower:1e3,deviceConnectorTotalPower:0,carparkAvailablePower:1e3,enable:0,connectorList:[{deviceNo:"210401110948AZWF",connectorNo:"00",status:4,soc:null,activePower:null,parkNu:"L11001"}]},{deviceId:"210401113944LOEZ",stakeOwner:1,carparkId:"1424",carparkName:null,carparkTotalPower:1e3,deviceConnectorTotalPower:0,carparkAvailablePower:1e3,enable:1,connectorList:[{deviceNo:"210401113944LOEZ",connectorNo:"00",status:4,soc:null,activePower:null,parkNu:null}]},{deviceId:"stee-0001",stakeOwner:1,carparkId:"1424",carparkName:null,carparkTotalPower:1e3,deviceConnectorTotalPower:0,carparkAvailablePower:1e3,enable:0,connectorList:[{deviceNo:"stee-0001",connectorNo:"01",status:4,soc:null,activePower:null,parkNu:"L11001"},{deviceNo:"stee-0001",connectorNo:"00",status:4,soc:null,activePower:null,parkNu:"L11001"}]}],1479:[{deviceId:"210401152958QZCZ",stakeOwner:1,carparkId:"1479",carparkName:null,carparkTotalPower:null,deviceConnectorTotalPower:0,carparkAvailablePower:0,enable:0,connectorList:[{deviceNo:"210401152958QZCZ",connectorNo:"00",status:4,soc:null,activePower:null,parkNu:""}]}],1480:[{deviceId:"10362194",stakeOwner:null,carparkId:"1480",carparkName:null,carparkTotalPower:1e3,deviceConnectorTotalPower:0,carparkAvailablePower:1e3,enable:0,connectorList:[{deviceNo:"10362194",connectorNo:"01",status:4,soc:null,activePower:null,parkNu:null},{deviceNo:"10362194",connectorNo:"00",status:4,soc:null,activePower:null,parkNu:null}]},{deviceId:"210401152111YSXT",stakeOwner:1,carparkId:"1480",carparkName:null,carparkTotalPower:1e3,deviceConnectorTotalPower:0,carparkAvailablePower:1e3,enable:0,connectorList:[{deviceNo:"210401152111YSXT",connectorNo:"01",status:4,soc:null,activePower:null,parkNu:""}]},{deviceId:"210401155241YSZR",stakeOwner:1,carparkId:"1480",carparkName:null,carparkTotalPower:1e3,deviceConnectorTotalPower:0,carparkAvailablePower:1e3,enable:1,connectorList:[{deviceNo:"210401155241YSZR",connectorNo:"01",status:4,soc:null,activePower:null,parkNu:""}]},{deviceId:"210401160735ZIHK",stakeOwner:1,carparkId:"1480",carparkName:null,carparkTotalPower:1e3,deviceConnectorTotalPower:0,carparkAvailablePower:1e3,enable:0,connectorList:[{deviceNo:"210401160735ZIHK",connectorNo:"01",status:6,soc:null,activePower:null,parkNu:""}]},{deviceId:"210420165546YIRP",stakeOwner:1,carparkId:"1480",carparkName:null,carparkTotalPower:1e3,deviceConnectorTotalPower:0,carparkAvailablePower:1e3,enable:0,connectorList:[{deviceNo:"210420165546YIRP",connectorNo:"00",status:4,soc:null,activePower:null,parkNu:""}]},{deviceId:"210420165658DEAB",stakeOwner:1,carparkId:"1480",carparkName:null,carparkTotalPower:1e3,deviceConnectorTotalPower:0,carparkAvailablePower:1e3,enable:0,connectorList:[{deviceNo:"210420165658DEAB",connectorNo:"01",status:4,soc:null,activePower:null,parkNu:""}]},{deviceId:"AAS1",stakeOwner:1,carparkId:"1480",carparkName:null,carparkTotalPower:1e3,deviceConnectorTotalPower:0,carparkAvailablePower:1e3,enable:0,connectorList:[{deviceNo:"AAS1",connectorNo:"00",status:4,soc:null,activePower:null,parkNu:null},{deviceNo:"AAS1",connectorNo:"01",status:4,soc:null,activePower:null,parkNu:null}]}]}};let G=(()=>{class o{constructor(r,i){this.router=r,this.route=i,this.carparkDatas=[]}ngOnInit(){for(let r in j.data){const i=j.data[r],D={deviceId:i[0].deviceId,stakeOwner:i[0].stakeOwner,carparkId:i[0].carparkId,carparkName:i[0].carparkName,carparkTotalPower:i[0].carparkTotalPower,deviceConnectorTotalPower:i[0].deviceConnectorTotalPower,carparkAvailablePower:i[0].carparkAvailablePower,enable:i[0].enable,connectorList:[]};i.forEach(M=>{M.connectorList.forEach(R=>{D.connectorList.push(R)})}),this.carparkDatas.push(D)}}}return o.\u0275fac=function(r){return new(r||o)(t.Y36(e.F0),t.Y36(e.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-ev-charger-zone"]],decls:3,vars:1,consts:[[1,"m-content"],[1,"row"],["class","m--padding-right-10 col-lg-6 ev-carpark-list",4,"ngFor","ngForOf"],[1,"m--padding-right-10","col-lg-6","ev-carpark-list"],[1,"m-portlet"],[1,"m-portlet__body"],[3,"horizontal","data"]],template:function(r,i){1&r&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,X,4,2,"div",2),t.qZA()()),2&r&&(t.xp6(2),t.Q6J("ngForOf",i.carparkDatas))},dependencies:[p.sg,$.i],styles:["[_nghost-%COMP%]     .m-portlet .m-portlet__body{padding:1.1rem;position:relative}[_nghost-%COMP%]     .m-portlet .m-portlet__body .m-btn--icon.m-btn--custom.m-btn--icon-only{position:absolute;right:0;top:10px}.ev-carpark-list[_ngcontent-%COMP%]:nth-child(3n+1)   .m-portlet[_ngcontent-%COMP%]   .m-portlet__body[_ngcontent-%COMP%]{background-color:#f2f3f8}.ev-carpark-list[_ngcontent-%COMP%]:nth-child(3n+2)   .m-portlet[_ngcontent-%COMP%]   .m-portlet__body[_ngcontent-%COMP%]{background-color:#edeef5}.ev-carpark-list[_ngcontent-%COMP%]:nth-child(3n+0)   .m-portlet[_ngcontent-%COMP%]   .m-portlet__body[_ngcontent-%COMP%]{background-color:#f2e3eb}"]}),o})();var V=a(51013),q=a(24277),tt=a(8387),et=a(33420),at=a(88796),ot=a(97640),nt=a(89518),rt=a(72986),lt=a(80529),ct=a(19832),it=a(90650),st=a(4350),dt=a(62068),pt=a(42110),ut=a(70362),vt=a(85025),mt=a(42743),gt=a(74074),ht=a(47800),Pt=a(77417),bt=a(52093),ft=a(81538),Ct=a(59533);function F(o){return new ct.w(o,"../assets/i18n/",".json")}let Y=(()=>{class o{constructor(r){this.carparkService=r}resolve(r){return this.carparkService.getModel(r.params.id||201).pipe((0,rt.q)(1))}}return o.\u0275fac=function(r){return new(r||o)(t.LFG(N.x))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})();const Q=[{path:"",component:mt.p,resolve:{item:Y},runGuardsAndResolvers:"always",children:[{path:"",component:H,children:[{path:"",redirectTo:"detail-transactions",pathMatch:"full"},{path:"transactions",component:it.R,data:{breadcrumb:{label:"Transactions"}}},{path:"detail-transactions",component:dt.L,data:{breadcrumb:{label:"Transactions"}}},{path:"ev-charger-zone",component:G,data:{breadcrumb:{label:"Ev Charger Zone"}}},{path:"depot-lot-status",component:st.O,data:{breadcrumb:{label:"Lot Status"}}},{path:"detail-depot",component:pt.l,data:{breadcrumb:{label:"Detail Depot"}}}]},{path:"settings",component:gt._,data:{breadcrumb:{title:"Car Park Settings",label:"Car Park Settings"}}},{path:"lots",component:ht.S,data:{breadcrumb:{title:"Lots Management",label:"Lots Management"}}},{path:"live-status",component:Pt.F,data:{breadcrumb:{title:"Live Status",label:"Live Status"}}},{path:"tariffs",loadChildren:()=>a.e(5919).then(a.bind(a,32997)).then(o=>o.CarParkTariffModule),data:{breadcrumb:{title:"Tariffs Management",label:"Tariffs Management"}}},{path:"stations",loadChildren:()=>a.e(5724).then(a.bind(a,85724)).then(o=>o.CarParkStationModule),data:{breadcrumb:{title:"Stations Management",label:"Stations Management"}}},{path:"layouts",loadChildren:()=>a.e(3881).then(a.bind(a,63881)).then(o=>o.CarParkLayoutModule),data:{breadcrumb:{title:"Layouts Management",label:"Layouts Management"}}},{path:"slots",loadChildren:()=>Promise.resolve().then(a.bind(a,33420)).then(o=>o.CarParkSlotModule),data:{}}]}];let Ot=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[s.k,f.e,Y,g.P,et.SlotResolver,I.K,h.I,Z.Z,_.B],imports:[p.ez,e.Bz.forChild(Q),ft.j,Ct.y,O.x,y.D,V.P,ot.a4,v.mr,m.u5,u.kn,at.A0,nt.H3,tt.H,q.p,ut.X,vt.x,bt.r,n.bB.forRoot(),T.aw.forChild({loader:{provide:T.Zw,useFactory:F,deps:[lt.eN]}}),e.Bz]}),o})()},42110:(A,b,a)=>{a.d(b,{l:()=>Z});var p=a(38014),m=a(75191),e=a(94650),u=a(34793),h=a(76284),s=a(11481),g=a(89383),f=a(60097),I=a(71942),y=a(70853),O=a(36895);function _(l,v){if(1&l&&(e.TgZ(0,"div",19)(1,"p",20),e._uU(2),e.ALo(3,"number"),e.qZA(),e.TgZ(4,"p",21),e._uU(5),e.qZA()()),2&l){const n=v.$implicit,c=e.oxw(2);e.xp6(1),e.Q6J("ngClass",n),e.xp6(1),e.Oqu(e.lcZ(3,3,c.detailData.lotsData[n])),e.xp6(3),e.Oqu(c.capitalFirst(n))}}function t(l,v){if(1&l&&(e.TgZ(0,"div",17),e.YNc(1,_,6,5,"div",18),e.qZA()),2&l){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.objectKeys(null==n.detailData?null:n.detailData.lotsData))}}function S(l,v){if(1&l&&(e.TgZ(0,"div",23)(1,"p",24),e._uU(2),e.ALo(3,"number"),e.qZA(),e.TgZ(4,"p",25),e._uU(5),e.qZA()()),2&l){const n=v.$implicit,c=e.oxw(2);e.xp6(1),e.Q6J("ngClass",n),e.xp6(1),e.Oqu(e.lcZ(3,3,c.detailData.chargers[n])),e.xp6(3),e.Oqu(c.capitalFirst(n))}}function E(l,v){if(1&l&&(e.TgZ(0,"div",17),e.YNc(1,S,6,5,"div",22),e.qZA()),2&l){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.objectKeys(null==n.detailData?null:n.detailData.chargers))}}function T(l,v){if(1&l&&(e.TgZ(0,"p",25),e._uU(1),e.qZA()),2&l){const n=e.oxw(3);e.xp6(1),e.Oqu(n.capacityLabels[0].text)}}function N(l,v){if(1&l&&(e.TgZ(0,"div",23)(1,"p",24),e._uU(2),e.ALo(3,"number"),e.qZA(),e.YNc(4,T,2,1,"p",26),e.qZA()),2&l){const n=v.$implicit,c=e.oxw(2);e.xp6(1),e.Q6J("ngClass",n),e.xp6(1),e.Oqu(e.lcZ(3,3,c.detailData.capacity[n])),e.xp6(2),e.Q6J("ngIf",c.capacityLabels)}}function U(l,v){if(1&l&&(e.TgZ(0,"div",17),e.YNc(1,N,5,5,"div",22),e.qZA()),2&l){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.objectKeys(null==n.detailData?null:n.detailData.capacity))}}let Z=(()=>{class l{constructor(n,c,k,L,P,C,w,x,B){this.router=n,this.assetsService=c,this.sanitizer=k,this.route=L,this.translate=P,this.carparkService=C,this.vehicleService=w,this.busService=x,this.bully=B,this.menuItems=[{text:'<i class="la la-wrench"></i>Settings',sub:"settings"},{text:'<i class="la la-columns"></i>Lots Management',sub:"lots"},{text:'<i class="iconfont icon-chongdianzhuang"></i>Stations Management',sub:"stations"},{text:'<i class="la la-usd"></i>Tariffs Management',sub:"tariffs"},{text:'<i class="la la-map"></i>Layouts Management',sub:"layouts"},{text:'<i class="la la-object-group"></i>Slots Management',sub:"slots"},{text:'<i class="la la-signal"></i>Live Status',sub:"live-status"}],this.subscription=[],this.objectKeys=Object.keys,this.capacityLabels=p.CFx}ngOnInit(){const n=this.bully.getBSubject().subscribe(c=>{if(c&&c.type===m.P.Detail_Depot_List_Data){const k=c.data;k.name=k.name.replace(/\b(?:carpark|car park)\b/gi,P=>"Depot"),this.item=k;const L=this.menuItems.map(P=>P.text.slice(P.text.indexOf("</i>")+4));this.translate.get(L).subscribe(P=>{console.log(P),this.menuItems.forEach(C=>{for(let w in P)if(P.hasOwnProperty(w)&&C.text.slice(C.text.indexOf("</i>")+4)===w){const x=P[w];C.text=C.text.replace(C.text.slice(C.text.indexOf("</i>")+4),x)}})})}});this.subscription.push(n),this.getData()}ngOnDestroy(){for(const n of this.subscription)n&&n.unsubscribe();this.subscription=[]}getData(){this.subscription.push(this.busService.getDepotDetail().subscribe(n=>{this.detailData=n}))}getNormalLots(n){return n.live?n.totalLots-n.live.availableLots-n.seasonLots:"-"}get isAdmin(){return this.carparkService.isAdmin()||this.busService.isBusAdmin()}get isOwner(){return this.carparkService.isOwner()}get isOperator(){return this.vehicleService.isOperator()}get notOwnerAndOperator(){return!(this.isOperator||this.isOwner||this.isAdmin)}capitalFirst(n){return`${n.charAt(0).toUpperCase()}${n.slice(1)}`}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(u.F0),e.Y36(h.z),e.Y36(s.H7),e.Y36(u.gz),e.Y36(g.sK),e.Y36(f.x),e.Y36(I.f),e.Y36(y.Z),e.Y36(m.B))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-detail-depot"]],decls:32,vars:8,consts:[[1,"row","m-row--col-separator-sm"],[1,"col-md-3"],[1,"row"],[1,"avatar","size-md","m-rounded"],["alt","",3,"src"],[1,"col","m--padding-left-20"],[1,"m--font-boldest","m--margin-bottom-5","text-main"],[1,"text-muted"],[1,"text-muted","m--margin-top-10"],[1,"la","la-map-marker","m--margin-right-10"],[1,"la","la-clock-o","m--margin-right-10"],[1,"col-md-6","m-section"],[1,"col-6"],[1,"col-6","m--font-boldest"],["class","row lot-main text-center",4,"ngIf"],[1,"col-8","m--font-boldest"],[1,"col-8"],[1,"row","lot-main","text-center"],["class","col-4",4,"ngFor","ngForOf"],[1,"col-4"],[1,"lot-value",3,"ngClass"],[1,"lot-key"],["class","col-3",4,"ngFor","ngForOf"],[1,"col-3"],[1,"charger-value",3,"ngClass"],[1,"charger-key"],["class","charger-key",4,"ngIf"]],template:function(n,c){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"img",4),e.qZA(),e.TgZ(5,"div",5)(6,"h5",6),e._uU(7),e.ALo(8,"titlecase"),e.qZA(),e.TgZ(9,"div",7),e._uU(10,"SBS"),e.qZA(),e.TgZ(11,"div",8)(12,"div"),e._UZ(13,"i",9),e._uU(14),e.qZA(),e.TgZ(15,"div"),e._UZ(16,"i",10),e._uU(17," Open Now "),e.qZA()()()()(),e.TgZ(18,"div",11)(19,"div",2)(20,"div",12)(21,"div",13),e._uU(22,"Lots Overview"),e.qZA(),e.YNc(23,t,2,1,"div",14),e.qZA(),e.TgZ(24,"div",12)(25,"div",15),e._uU(26,"Chargers and connectors"),e.qZA(),e.YNc(27,E,2,1,"div",14),e.qZA(),e.TgZ(28,"div",16)(29,"div",13),e._uU(30,"Capacity"),e.qZA(),e.YNc(31,U,2,1,"div",14),e.qZA()()()()),2&n&&(e.xp6(4),e.Q6J("src",null==c.item.images[0]?null:c.item.images[0].carParkImage,e.LSH),e.xp6(3),e.Oqu(e.lcZ(8,6,c.item.name)),e.xp6(7),e.hij(" ",null==c.item.address?null:c.item.address.address," "),e.xp6(9),e.Q6J("ngIf",c.detailData),e.xp6(4),e.Q6J("ngIf",c.detailData),e.xp6(4),e.Q6J("ngIf",c.detailData))},dependencies:[O.mk,O.sg,O.O5,O.JJ,O.rS],styles:[".lot-main[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}.lot-value[_ngcontent-%COMP%], .charger-value[_ngcontent-%COMP%]{font-size:26px;font-weight:600;margin-top:1rem}.available[_ngcontent-%COMP%]{color:#2fba6a}.charging[_ngcontent-%COMP%], .inUse[_ngcontent-%COMP%]{color:#01b1f0}.idle[_ngcontent-%COMP%]{color:#c56532}.occupied[_ngcontent-%COMP%]{color:#ff0405}"]}),l})()},62068:(A,b,a)=>{a.d(b,{L:()=>u});var p=a(94650),m=a(70853),e=a(11415);let u=(()=>{class h{constructor(g){this.busService=g,this.transactionData=[{text:"Total Lots",key:"totalLot"},{text:"Reserved Lots",key:"reservedLot"},{text:"Total Transactions",key:"totalTransaction"},{text:"Total Revenue",key:"totalRevenue"}],this.data={},this.objectKeys=Object.keys}ngOnInit(){this.reloadData()}reloadData(){this.busService.getDepotListData().subscribe(g=>{this.data=g.detail.transaction})}}return h.\u0275fac=function(g){return new(g||h)(p.Y36(m.Z))},h.\u0275cmp=p.Xpm({type:h,selectors:[["app-detail-transactions"]],decls:4,vars:2,consts:[[1,"row"],[1,"m-portlet","m-portlet--bordered-semi","m--padding-top-40"],[1,"m-portlet__body"],[3,"isExtended","isShowChart"]],template:function(g,f){1&g&&(p.TgZ(0,"div",0)(1,"div",1)(2,"div",2),p._UZ(3,"app-bus-transactions-table",3),p.qZA()()()),2&g&&(p.xp6(3),p.Q6J("isExtended",!0)("isShowChart",!1))},dependencies:[e.t]}),h})()},59533:(A,b,a)=>{a.d(b,{y:()=>e});var p=a(36895),m=a(94650);let e=(()=>{class u{}return u.\u0275fac=function(s){return new(s||u)},u.\u0275mod=m.oAB({type:u}),u.\u0275inj=m.cJS({imports:[p.ez]}),u})()}}]);