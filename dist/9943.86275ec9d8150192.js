"use strict";(self.webpackChunkst_admin=self.webpackChunkst_admin||[]).push([[9943],{76916:(U,v,i)=>{i.d(v,{G:()=>P});var m=i(34793),b=i(92198),g=i(38014),t=i(94650),f=i(89383),x=i(60097),_=i(36895);function e(s,c){if(1&s&&(t.TgZ(0,"a",14)(1,"span",15),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&s){const n=t.oxw().$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,1,n.label)," ")}}function T(s,c){if(1&s&&(t.TgZ(0,"a",16)(1,"span",15),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&s){const n=t.oxw(),o=n.$implicit,l=n.last,a=t.oxw(2);t.Q6J("routerLink",o.url)("queryParams",l&&a.route.snapshot.queryParams),t.xp6(2),t.hij(" ",t.lcZ(3,3,o.label)," ")}}function C(s,c){if(1&s&&(t.ynx(0),t.TgZ(1,"li",10)(2,"span"),t._uU(3," > "),t.qZA()(),t.TgZ(4,"li",11),t.YNc(5,e,4,3,"a",12),t.YNc(6,T,4,5,"a",13),t.qZA(),t.BQk()),2&s){const n=c.first;t.xp6(5),t.Q6J("ngIf",n),t.xp6(1),t.Q6J("ngIf",!n)}}function Z(s,c){if(1&s){const n=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3),t._UZ(3,"h3",4),t.TgZ(4,"ul",5)(5,"li",6)(6,"a",7),t.NdJ("click",function(){t.CHM(n);const l=t.oxw();return t.KtG(l.jumpHome())}),t._UZ(7,"i",8),t.qZA()(),t.YNc(8,C,7,2,"ng-container",9),t.qZA()(),t.TgZ(9,"div"),t.Hsn(10),t.qZA()()()}if(2&s){const n=t.oxw();t.xp6(3),t.Q6J("innerHTML",n.title,t.oJD),t.xp6(5),t.Q6J("ngForOf",n.breads)}}const M=["*"];let P=(()=>{class s{constructor(n,o,l,a){this.router=n,this.route=o,this.translate=l,this._carparkService=a,this.breads=[],this.loginUser=""}ngOnInit(){let n=JSON.parse(localStorage.getItem("user-roles"))[0];this.loginUser=n,console.log(this.loginUser,"\u4fe1\u606f"),this.breads=this.buildBreadCrumb(this.route.root),this.translate.get(this.breads[0].label).subscribe(l=>{this.label=l}),this.router.events.pipe((0,b.h)(l=>l instanceof m.m2)).subscribe(()=>{this.breads=this.buildBreadCrumb(this.route.root)})}buildBreadCrumb(n,o=[""],l=[]){const a=n.snapshot.url[0]&&n.snapshot.url[0].path,p=[...o,a],r={...this.extractBreadcrumb(n),url:p},d=a&&r.label?[...l,r]:l;return this.title=r.title||this.title||"",this.isMotorist&&"My Vehicle(s)"===r.label&&(this.title="My Vehicle(s)"),n.firstChild?a?this.buildBreadCrumb(n.firstChild,p,d):this.buildBreadCrumb(n.firstChild,o,l):(this.translate.get(this.title).subscribe(h=>{this.title=h}),d)}get isMotorist(){return this._carparkService.isMotorist()}extractBreadcrumb(n){return n.snapshot.data.breadcrumb instanceof Function?n.snapshot.data.breadcrumb(n):n.snapshot.data.breadcrumb}jumpHome(){let n=JSON.parse(localStorage.getItem("user-roles"))[0]??"";this.router.navigate(n.length?[g.gpL[n]]:["/"])}}return s.\u0275fac=function(n){return new(n||s)(t.Y36(m.F0),t.Y36(m.gz),t.Y36(f.sK),t.Y36(x.x))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-title-bar"]],ngContentSelectors:M,decls:1,vars:1,consts:[["class","m-subheader",4,"ngIf"],[1,"m-subheader"],[1,"d-flex","align-items-center"],[1,"mr-auto"],[1,"m-subheader__title","m-subheader__title--separator","text-main",3,"innerHTML"],[1,"m-subheader__breadcrumbs","m-nav","m-nav--inline"],[1,"m-nav__item","m-nav__item--home"],[1,"m-nav__link","m-nav__link--icon",3,"click"],[1,"m-nav__link-icon","la","la-home"],[4,"ngFor","ngForOf"],[1,"m-nav__separator"],[1,"m-nav__item"],["class","m-nav__link",4,"ngIf"],["class","m-nav__link",3,"routerLink","queryParams",4,"ngIf"],[1,"m-nav__link"],[1,"m-nav__link-text"],[1,"m-nav__link",3,"routerLink","queryParams"]],template:function(n,o){1&n&&(t.F$t(),t.YNc(0,Z,11,2,"div",0)),2&n&&t.Q6J("ngIf","ROLE_TPO_PARTNER"!==o.loginUser)},dependencies:[_.sg,_.O5,m.yS,f.X$],encapsulation:2}),s})()},49943:(U,v,i)=>{i.r(v),i.d(v,{PreventiveMaintenanceModule:()=>l});var m=i(36895),b=i(24006),g=i(34793),t=i(30329),f=i(21532),x=i(59501),_=i(79118),e=i(94650),T=i(89383),C=i(76916),Z=i(40269);function M(a,p){if(1&a&&(e.TgZ(0,"td",9),e._UZ(1,"span"),e.qZA(),e.TgZ(2,"td",10),e._UZ(3,"span"),e.qZA(),e.TgZ(4,"td",10),e._UZ(5,"span"),e.qZA(),e.TgZ(6,"td",10),e._UZ(7,"span"),e.qZA(),e.TgZ(8,"td",10),e._UZ(9,"span"),e.qZA(),e.TgZ(10,"td",10),e._UZ(11,"span"),e.qZA()),2&a){const r=e.oxw();e.xp6(1),e.Udp("width",r.tableHeaders[0].width),e.xp6(2),e.Udp("width",r.tableHeaders[1].width),e.xp6(2),e.Udp("width",r.tableHeaders[2].width),e.xp6(2),e.Udp("width",r.tableHeaders[3].width),e.xp6(2),e.Udp("width",r.tableHeaders[4].width),e.xp6(2),e.Udp("width",r.tableHeaders[5].width)}}const P=function(a){return[a]},s=[{text:"#",width:"60px"},{text:"ID",width:"60px"},{text:"Car Park",width:"120px"},{text:"Date",width:"120px"},{text:"Remark",width:"400px"},{text:"Action",width:"80px"}];let c=(()=>{class a extends _.Gw{constructor(r){super(),this.translate=r,this.tableHeaders=s}pageChanged(r){}reloadData(){}ngOnInit(){const r=this.tableHeaders.map(d=>d.text);this.translate.get(r).subscribe(d=>{this.tableHeaders.forEach(h=>{for(let u in d)d.hasOwnProperty(u)&&h.text===u&&(h.text=d[u])})})}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(T.sK))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-maintenance-preventive-maintenance"]],features:[e.qOj],decls:12,vars:7,consts:[[1,"body-wrapper"],[1,"m-content"],[1,"m-portlet","m-portlet--bordered-semi","m--padding-top-40"],[1,"m-portlet__body","m-portlet__body--scrollable"],[1,"m-portlet__frame"],[1,"form-group","m-form__group","m-portlet__filters"],[3,"headers","items","loading","pagination","scrollingDisabled","pageChanged"],["tableTransactions",""],["rowTemplate",""],[1,"m-datatable__cell","text-center"],[1,"m-datatable__cell"]],template:function(r,d){1&r&&(e.TgZ(0,"div",0),e._UZ(1,"app-title-bar"),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),e._UZ(6,"div",5)(7,"div",5),e.TgZ(8,"app-datatable",6,7),e.NdJ("pageChanged",function(u){return d.pageChanged(u)}),e.YNc(10,M,12,12,"ng-template",null,8,e.W1O),e.qZA()()()()()()),2&r&&(e.xp6(8),e.Q6J("headers",d.tableHeaders)("items",e.VKq(5,P,d.data))("loading",d.loading)("pagination",d.pagination)("scrollingDisabled",!0))},dependencies:[C.G,Z.Uo,_.nE],encapsulation:2}),a})();var n=i(60097);const o=[{path:"",component:x.f,children:[{path:"",component:c}]}];let l=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[n.x],imports:[m.ez,g.Bz.forChild(o),f.x,t.D,b.u5,g.Bz]}),a})()}}]);