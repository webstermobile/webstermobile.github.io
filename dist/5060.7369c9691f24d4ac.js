"use strict";(self.webpackChunkst_admin=self.webpackChunkst_admin||[]).push([[5060],{76916:(J,H,s)=>{s.d(H,{G:()=>C});var g=s(34793),c=s(92198),o=s(94650),M=s(89383),U=s(60097),t=s(36895);function w(p,h){if(1&p&&(o.TgZ(0,"a",14)(1,"span",15),o._uU(2),o.ALo(3,"translate"),o.qZA()()),2&p){const r=o.oxw().$implicit;o.xp6(2),o.hij(" ",o.lcZ(3,1,r.label)," ")}}function T(p,h){if(1&p&&(o.TgZ(0,"a",16)(1,"span",15),o._uU(2),o.ALo(3,"translate"),o.qZA()()),2&p){const r=o.oxw(),u=r.$implicit,m=r.last,_=o.oxw(2);o.Q6J("routerLink",u.url)("queryParams",m&&_.route.snapshot.queryParams),o.xp6(2),o.hij(" ",o.lcZ(3,3,u.label)," ")}}function Z(p,h){if(1&p&&(o.ynx(0),o.TgZ(1,"li",10)(2,"span"),o._uU(3," > "),o.qZA()(),o.TgZ(4,"li",11),o.YNc(5,w,4,3,"a",12),o.YNc(6,T,4,5,"a",13),o.qZA(),o.BQk()),2&p){const r=h.first;o.xp6(5),o.Q6J("ngIf",r),o.xp6(1),o.Q6J("ngIf",!r)}}function f(p,h){if(1&p&&(o.TgZ(0,"div",1)(1,"div",2)(2,"div",3),o._UZ(3,"h3",4),o.TgZ(4,"ul",5)(5,"li",6)(6,"a",7),o._UZ(7,"i",8),o.qZA()(),o.YNc(8,Z,7,2,"ng-container",9),o.qZA()(),o.TgZ(9,"div"),o.Hsn(10),o.qZA()()()),2&p){const r=o.oxw();o.xp6(3),o.Q6J("innerHTML",r.title,o.oJD),o.xp6(5),o.Q6J("ngForOf",r.breads)}}const q=["*"];let C=(()=>{class p{constructor(r,u,m,_){this.router=r,this.route=u,this.translate=m,this._carparkService=_,this.breads=[],this.loginUser=""}ngOnInit(){let r=JSON.parse(localStorage.getItem("user-roles"))[0];this.loginUser=r,console.log(this.loginUser,"\u4fe1\u606f"),this.breads=this.buildBreadCrumb(this.route.root),this.translate.get(this.breads[0].label).subscribe(m=>{this.label=m}),this.router.events.pipe((0,c.h)(m=>m instanceof g.m2)).subscribe(()=>{this.breads=this.buildBreadCrumb(this.route.root)})}buildBreadCrumb(r,u=[""],m=[]){const _=r.snapshot.url[0]&&r.snapshot.url[0].path,v=[...u,_],x={...this.extractBreadcrumb(r),url:v},b=_&&x.label?[...m,x]:m;return this.title=x.title||this.title||"",this.isMotorist&&"My Vehicle(s)"===x.label&&(this.title="My Vehicle(s)"),r.firstChild?_?this.buildBreadCrumb(r.firstChild,v,b):this.buildBreadCrumb(r.firstChild,u,m):(this.translate.get(this.title).subscribe(L=>{this.title=L}),b)}get isMotorist(){return this._carparkService.isMotorist()}extractBreadcrumb(r){return r.snapshot.data.breadcrumb instanceof Function?r.snapshot.data.breadcrumb(r):r.snapshot.data.breadcrumb}}return p.\u0275fac=function(r){return new(r||p)(o.Y36(g.F0),o.Y36(g.gz),o.Y36(M.sK),o.Y36(U.x))},p.\u0275cmp=o.Xpm({type:p,selectors:[["app-title-bar"]],ngContentSelectors:q,decls:1,vars:1,consts:[["class","m-subheader",4,"ngIf"],[1,"m-subheader"],[1,"d-flex","align-items-center"],[1,"mr-auto"],[1,"m-subheader__title","m-subheader__title--separator","text-main",3,"innerHTML"],[1,"m-subheader__breadcrumbs","m-nav","m-nav--inline"],[1,"m-nav__item","m-nav__item--home"],["routerLink","/",1,"m-nav__link","m-nav__link--icon"],[1,"m-nav__link-icon","la","la-home"],[4,"ngFor","ngForOf"],[1,"m-nav__separator"],[1,"m-nav__item"],["class","m-nav__link",4,"ngIf"],["class","m-nav__link",3,"routerLink","queryParams",4,"ngIf"],[1,"m-nav__link"],[1,"m-nav__link-text"],[1,"m-nav__link",3,"routerLink","queryParams"]],template:function(r,u){1&r&&(o.F$t(),o.YNc(0,f,11,2,"div",0)),2&r&&o.Q6J("ngIf","ROLE_TPO_PARTNER"!==u.loginUser)},dependencies:[t.sg,t.O5,g.yS,M.X$],encapsulation:2}),p})()},75060:(J,H,s)=>{s.r(H),s.d(H,{SettingsModule:()=>W,createTranslateLoader:()=>D});var g=s(36895),c=s(24006),o=s(34793),M=s(372),U=s(3927),t=s(94650),w=s(28555),T=s(80529),Z=s(91599);let f=(()=>{class i extends U.su{constructor(e,n,a){super(n,e),this.store=e,this.http=n,this.baseUrl="carpark/api/holidays",this.handleError=a.createHandleError("HolidayService")}updateModel(e){const n=this.getUrl(this.baseUrl);return this.put(n,e)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(w.yh),t.LFG(T.eN),t.LFG(Z.k))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac}),i})();var q=s(42684);let C=(()=>{class i extends U.su{constructor(e,n,a){super(n,e),this.store=e,this.http=n,this.baseUrl="carpark/api/tax-types",this.handleError=a.createHandleError("TaxService")}updateModel(e){const n=this.getUrl(this.baseUrl);return this.put(n,e)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(w.yh),t.LFG(T.eN),t.LFG(Z.k))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac}),i})();var p=s(30329),h=s(21532),r=s(59501),u=s(79118),m=s(20388),_=s(89383),v=s(40269),x=s(81558),b=s(8278);function L(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"td",12)(1,"span"),t._uU(2),t.qZA()(),t.TgZ(3,"td",13)(4,"span"),t._uU(5),t.qZA()(),t.TgZ(6,"td",13)(7,"span"),t._uU(8),t.qZA()(),t.TgZ(9,"td",13)(10,"span"),t._uU(11),t.qZA()(),t.TgZ(12,"td",13)(13,"span"),t._uU(14),t.ALo(15,"date"),t.qZA()(),t.TgZ(16,"td",13)(17,"span"),t._uU(18),t.ALo(19,"date"),t.qZA()(),t.TgZ(20,"td",13)(21,"span"),t._uU(22),t.ALo(23,"date"),t.qZA()(),t.TgZ(24,"td",14)(25,"span")(26,"button",15),t.NdJ("click",function(){const l=t.CHM(e).$implicit,y=t.oxw(),A=t.MAs(15);return t.KtG(y.openModal(A,l))}),t._UZ(27,"i",16),t.qZA()()()}if(2&i){const e=d.$implicit,n=t.oxw();t.xp6(1),t.Udp("width",n.tableHeaders[0].width),t.xp6(1),t.hij(" ",e.id," "),t.xp6(2),t.Udp("width",n.tableHeaders[1].width),t.xp6(1),t.hij(" ",e.id," "),t.xp6(2),t.Udp("width",n.tableHeaders[2].width),t.xp6(1),t.hij(" ",e.description," "),t.xp6(2),t.Udp("width",n.tableHeaders[3].width),t.xp6(1),t.hij(" ",e.taxPercent,"% "),t.xp6(2),t.Udp("width",n.tableHeaders[4].width),t.xp6(1),t.hij(" ",t.xi3(15,23,e.startDate,"d LLL yyyy")," "),t.xp6(3),t.Udp("width",n.tableHeaders[5].width),t.xp6(1),t.hij(" ",t.xi3(19,26,e.status,"d LLL yyyy")," "),t.xp6(3),t.Udp("width",n.tableHeaders[6].width),t.xp6(1),t.hij(" ",t.xi3(23,29,e.status,"d LLL yyyy")," "),t.xp6(3),t.Udp("width",n.tableHeaders[5].width)}}function S(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"div",17)(1,"h4",18),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"button",19),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.modalRef.hide())}),t.TgZ(5,"span",20),t._uU(6,"\xd7"),t.qZA()()(),t.TgZ(7,"div",21)(8,"form")(9,"div",22)(10,"div",23)(11,"label",24)(12,"span",25),t._uU(13,"*"),t.qZA(),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"input",26),t.NdJ("ngModelChange",function(a){t.CHM(e);const l=t.oxw();return t.KtG(l.selectedTax.description=a)}),t.qZA()(),t.TgZ(17,"div",23)(18,"label",2)(19,"span",25),t._uU(20,"*"),t.qZA(),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"div",27)(24,"input",28),t.NdJ("ngModelChange",function(a){t.CHM(e);const l=t.oxw();return t.KtG(l.selectedTax.taxPercent=a)}),t.qZA(),t.TgZ(25,"span",29)(26,"span",30),t._uU(27," % "),t.qZA()()()(),t.TgZ(28,"div",31)(29,"label",24)(30,"span",25),t._uU(31,"*"),t.qZA(),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"div",32)(35,"input",33),t.NdJ("bsValueChange",function(a){t.CHM(e);const l=t.oxw();return t.KtG(l.selectedTax.startDate=a)}),t.qZA(),t.TgZ(36,"span",34)(37,"span"),t._UZ(38,"i",35),t.qZA()()()(),t.TgZ(39,"div",31)(40,"label",24)(41,"span",25),t._uU(42,"*"),t.qZA(),t._uU(43),t.ALo(44,"translate"),t.qZA(),t.TgZ(45,"div",32)(46,"input",33),t.NdJ("bsValueChange",function(a){t.CHM(e);const l=t.oxw();return t.KtG(l.selectedTax.status=a)}),t.qZA(),t.TgZ(47,"span",34)(48,"span"),t._UZ(49,"i",35),t.qZA()()()()()()(),t.TgZ(50,"div",36)(51,"button",37),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.delete())}),t._UZ(52,"i",38),t.qZA(),t.TgZ(53,"button",37),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.modalRef.hide())}),t._uU(54),t.ALo(55,"translate"),t.qZA(),t.TgZ(56,"button",39),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.update())}),t._uU(57),t.ALo(58,"translate"),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,13,"Edit Tax")),t.xp6(12),t.hij(" ",t.lcZ(15,15,"Tax Name")," "),t.xp6(2),t.Q6J("ngModel",e.selectedTax.description),t.xp6(5),t.hij(" ",t.lcZ(22,17,"Government Tax")," "),t.xp6(3),t.Q6J("ngModel",e.selectedTax.taxPercent),t.xp6(8),t.hij(" ",t.lcZ(33,19,"Start Date")," "),t.xp6(3),t.Q6J("bsConfig",e.bsConfig)("bsValue",e.selectedTax.startDate),t.xp6(8),t.hij(" ",t.lcZ(44,21,"End Date")," "),t.xp6(3),t.Q6J("bsConfig",e.bsConfig)("bsValue",e.selectedTax.status),t.xp6(8),t.Oqu(t.lcZ(55,23,"Close")),t.xp6(3),t.Oqu(t.lcZ(58,25,"Submit"))}}let k=(()=>{class i extends u.Gw{constructor(e,n,a,l){super(),this.router=e,this.modalService=n,this.taxService=a,this.translate=l,this.tableHeaders=[{text:"#",width:"30px",align:u.iW.Center},{text:"Tax ID",width:"100px"},{text:"Tax Name",width:"120px"},{text:"Tax Percent",width:"120px"},{text:"Date Start",width:"120px"},{text:"Date End",width:"120px"},{text:"Date Created",width:"120px"},{text:"Actions",width:"80px"}]}get filterParams(){return{}}reloadData(){this.reloadDataService(this.taxService)}pageChanged(e){this.pagination=e,this.reloadData()}openModal(e,n){this.selectedTax={...n,startDate:new Date(n.startDate),status:new Date(n.status)},this.modalRef=this.modalService.show(e)}delete(){return this.taxService.deleteModel(this.selectedTax.id).subscribe(()=>{this.modalRef.hide(),this.reloadData()})}update(){return this.taxService.updateModel(this.selectedTax).subscribe(()=>{this.modalRef.hide(),this.reloadData()})}ngOnInit(){const e=this.tableHeaders.map(n=>n.text);this.translate.get(e).subscribe(n=>{this.tableHeaders.forEach(a=>{for(let l in n)n.hasOwnProperty(l)&&a.text===l&&(a.text=n[l])})})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(o.F0),t.Y36(m.tT),t.Y36(C),t.Y36(_.sK))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-government-tax"]],features:[t.qOj],decls:16,vars:7,consts:[[1,"form-group","m-form__group","m-portlet__filters"],[1,"m-portlet__filter","col-1"],[1,"col-form-label"],[1,"col-lg-4","m--padding-0"],[1,"m-input-icon","m-input-icon--left"],["type","text","placeholder","",1,"form-control","m-input",3,"ngModel","ngModelChange"],[1,"m-input-icon__icon","m-input-icon__icon--left"],[1,"la","la-search"],[3,"headers","items","loading","pagination","isExtended","scrollingDisabled","pageChanged"],["listTable",""],["rowTemplate",""],["template",""],[1,"m-datatable__cell","text-center"],[1,"m-datatable__cell"],[1,"m-datatable__cell","action-cell"],[1,"btn","btn-outline-primary","m-btn","m-btn--icon","m-btn--icon-only","m-btn--custom","m-btn--pill","no-border",3,"click"],[1,"la","la-edit"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"m-portlet__body"],[1,"form-group","m-form__group"],["for","exampleInputEmail1"],[1,"m--font-danger"],["type","text","name","taxName",1,"form-control","m-input","m-input--square",3,"ngModel","ngModelChange"],[1,"input-group","m-input-group","m--padding-0"],["type","text","name","taxPercent",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],[1,"input-group-text"],[1,"form-group"],[1,"m-input-icon","m-input-icon--right"],["type","text","bsDatepicker","",1,"form-control",3,"bsConfig","bsValue","bsValueChange"],[1,"m-input-icon__icon","m-input-icon__icon--right"],[1,"la","la-calendar"],[1,"modal-footer"],["type","button",1,"btn","btn-default",3,"click"],[1,"la","la-trash"],["type","button",1,"btn","btn-main",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"label",2),t._uU(3," Tax "),t.qZA()(),t.TgZ(4,"div",3)(5,"div",4)(6,"input",5),t.NdJ("ngModelChange",function(l){return n.keyword=l})("ngModelChange",function(){return n.reloadData()}),t.qZA(),t.TgZ(7,"span",6)(8,"span"),t._UZ(9,"i",7),t.qZA()()()()(),t.TgZ(10,"app-datatable",8,9),t.NdJ("pageChanged",function(l){return n.pageChanged(l)}),t.YNc(12,L,28,32,"ng-template",null,10,t.W1O),t.qZA(),t.YNc(14,S,59,27,"ng-template",null,11,t.W1O)),2&e&&(t.xp6(6),t.Q6J("ngModel",n.keyword),t.xp6(4),t.Q6J("headers",n.tableHeaders)("items",n.data)("loading",n.loading)("pagination",n.pagination)("isExtended",!0)("scrollingDisabled",!0))},dependencies:[c._Y,c.Fj,c.JJ,c.JL,c.On,c.F,v.Uo,u.nE,x.N,b.Y,g.uU,_.X$],encapsulation:2}),i})();var N=s(76916);function G(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(),l=t.MAs(19);return t.KtG(a.openModal(l))}),t.TgZ(1,"span"),t._UZ(2,"i",15),t.TgZ(3,"span"),t._uU(4," Create Holiday "),t.qZA()()()}}function O(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(),l=t.MAs(21);return t.KtG(a.openModal(l))}),t.TgZ(1,"span"),t._UZ(2,"i",15),t.TgZ(3,"span"),t._uU(4," Create Tax "),t.qZA()()()}}function P(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"div",16)(1,"h4",17),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"button",18),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.modalRef.hide())}),t.TgZ(5,"span",19),t._uU(6,"\xd7"),t.qZA()()(),t.TgZ(7,"div",20)(8,"form")(9,"div",21)(10,"div",22)(11,"label",23)(12,"span",24),t._uU(13,"*"),t.qZA(),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"input",25),t.NdJ("ngModelChange",function(a){t.CHM(e);const l=t.oxw();return t.KtG(l.newHoliday.description=a)}),t.qZA()(),t.TgZ(17,"div",26)(18,"label",23)(19,"span",24),t._uU(20,"*"),t.qZA(),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"div",27)(24,"input",28),t.NdJ("bsValueChange",function(a){t.CHM(e);const l=t.oxw();return t.KtG(l.newHoliday.holidayDate=a)}),t.qZA(),t.TgZ(25,"span",29)(26,"span"),t._UZ(27,"i",30),t.qZA()()()()()()(),t.TgZ(28,"div",31)(29,"button",32),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.modalRef.hide())}),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.TgZ(32,"button",33),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.createPublicHoliday())}),t._uU(33),t.ALo(34,"translate"),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,8,"Create Holiday")),t.xp6(12),t.hij(" ",t.lcZ(15,10,"Holiday Name")," "),t.xp6(2),t.Q6J("ngModel",e.newHoliday.description),t.xp6(5),t.hij(" ",t.lcZ(22,12,"Holiday Date")," "),t.xp6(3),t.Q6J("bsConfig",e.bsConfig)("bsValue",e.newHoliday.holidayDate),t.xp6(6),t.Oqu(t.lcZ(31,14,"Close")),t.xp6(3),t.Oqu(t.lcZ(34,16,"Submit"))}}function E(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"div",16)(1,"h4",17),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"button",18),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.modalRef.hide())}),t.TgZ(5,"span",19),t._uU(6,"\xd7"),t.qZA()()(),t.TgZ(7,"div",20)(8,"form")(9,"div",21)(10,"div",22)(11,"label",23)(12,"span",24),t._uU(13,"*"),t.qZA(),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"input",34),t.NdJ("ngModelChange",function(a){t.CHM(e);const l=t.oxw();return t.KtG(l.newTax.description=a)}),t.qZA()(),t.TgZ(17,"div",22)(18,"label",35)(19,"span",24),t._uU(20,"*"),t.qZA(),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"div",36)(24,"input",37),t.NdJ("ngModelChange",function(a){t.CHM(e);const l=t.oxw();return t.KtG(l.newTax.taxPercent=a)}),t.qZA(),t.TgZ(25,"span",38)(26,"span",39),t._uU(27," % "),t.qZA()()()(),t.TgZ(28,"div",26)(29,"label",23)(30,"span",24),t._uU(31,"*"),t.qZA(),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"div",27)(35,"input",28),t.NdJ("bsValueChange",function(a){t.CHM(e);const l=t.oxw();return t.KtG(l.newTax.startDate=a)}),t.qZA(),t.TgZ(36,"span",29)(37,"span"),t._UZ(38,"i",30),t.qZA()()()(),t.TgZ(39,"div",26)(40,"label",23)(41,"span",24),t._uU(42,"*"),t.qZA(),t._uU(43),t.ALo(44,"translate"),t.qZA(),t.TgZ(45,"div",27)(46,"input",28),t.NdJ("bsValueChange",function(a){t.CHM(e);const l=t.oxw();return t.KtG(l.newTax.status=a)}),t.qZA(),t.TgZ(47,"span",29)(48,"span"),t._UZ(49,"i",30),t.qZA()()()()()()(),t.TgZ(50,"div",31)(51,"button",32),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.modalRef.hide())}),t._uU(52),t.ALo(53,"translate"),t.qZA(),t.TgZ(54,"button",33),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.createTax())}),t._uU(55),t.ALo(56,"translate"),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,13,"Create Tax")),t.xp6(12),t.hij(" ",t.lcZ(15,15,"Tax Name")," "),t.xp6(2),t.Q6J("ngModel",e.newTax.description),t.xp6(5),t.hij(" ",t.lcZ(22,17,"Government Tax")," "),t.xp6(3),t.Q6J("ngModel",e.newTax.taxPercent),t.xp6(8),t.hij(" ",t.lcZ(33,19,"Start Date")," "),t.xp6(3),t.Q6J("bsConfig",e.bsConfig)("bsValue",e.newTax.startDate),t.xp6(8),t.hij(" ",t.lcZ(44,21,"End Date")," "),t.xp6(3),t.Q6J("bsConfig",e.bsConfig)("bsValue",e.newTax.status),t.xp6(6),t.Oqu(t.lcZ(53,23,"Close")),t.xp6(3),t.Oqu(t.lcZ(56,25,"Submit"))}}const K=function(){return["public-holiday"]},Y=function(){return["government-tax"]};let F=(()=>{class i{constructor(e,n,a,l,y,A,$){this.router=e,this.modalService=n,this.route=a,this.location=l,this.holidayService=y,this.taxService=A,this.translate=$}get createHoliday(){return"/settings/public-holiday"===this.router.url}ngOnInit(){}openModal(e){this.newHoliday={},this.newTax={},this.modalRef=this.modalService.show(e)}createPublicHoliday(){this.holidayService.createModel(this.newHoliday).subscribe(()=>{this.modalRef.hide(),this.routedComponent.reloadData()})}createTax(){this.taxService.createModel(this.newTax).subscribe(()=>{this.modalRef.hide(),this.routedComponent.reloadData()})}ngOnDestroy(){}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(o.F0),t.Y36(m.tT),t.Y36(o.gz),t.Y36(g.Ye),t.Y36(f),t.Y36(C),t.Y36(_.sK))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-settings"]],decls:22,vars:8,consts:[[1,"body-wrapper"],[1,"m-content"],[1,"m-portlet","m-portlet--tabs"],[1,"m-portlet__head"],[1,"m-portlet__head-tools"],["role","tablist",1,"nav","nav-tabs","m-tabs-line","m-tabs-line--primary","m-tabs-line--2x"],[1,"nav-item","m-tabs__item"],[1,"nav-link","m-tabs__link",3,"routerLink","routerLinkActive"],["class","btn-create btn btn-main m-btn m-btn--custom m-btn--icon m-btn--air m-btn--pill",3,"click",4,"ngIf"],[1,"m-portlet__body","m-portlet__body--scrollable"],[1,"m-portlet__frame"],[3,"activate"],["holidayTemplate",""],["taxTemplate",""],[1,"btn-create","btn","btn-main","m-btn","m-btn--custom","m-btn--icon","m-btn--air","m-btn--pill",3,"click"],[1,"la","la-plus"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"m-portlet__body"],[1,"form-group","m-form__group"],["for","exampleInputEmail1"],[1,"m--font-danger"],["type","text","name","holidayName","id","exampleInputEmail1",1,"form-control","m-input","m-input--square",3,"ngModel","ngModelChange"],[1,"form-group"],[1,"m-input-icon","m-input-icon--right"],["type","text","bsDatepicker","",1,"form-control",3,"bsConfig","bsValue","bsValueChange"],[1,"m-input-icon__icon","m-input-icon__icon--right"],[1,"la","la-calendar"],[1,"modal-footer"],["type","button",1,"btn","btn-default",3,"click"],["type","button",1,"btn","btn-main",3,"click"],["type","text","name","taxName",1,"form-control","m-input","m-input--square",3,"ngModel","ngModelChange"],[1,"col-form-label"],[1,"input-group","m-input-group","m--padding-0"],["type","text","name","taxPercent",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],[1,"input-group-text"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-title-bar"),t.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"ul",5)(7,"li",6)(8,"a",7),t._uU(9," Public Holiday "),t.qZA()(),t.TgZ(10,"li",6)(11,"a",7),t._uU(12," Government Tax "),t.qZA()(),t.YNc(13,G,5,0,"button",8),t.YNc(14,O,5,0,"button",8),t.qZA()()(),t.TgZ(15,"div",9)(16,"div",10)(17,"router-outlet",11),t.NdJ("activate",function(l){return n.routedComponent=l}),t.qZA()()()()()(),t.YNc(18,P,35,18,"ng-template",null,12,t.W1O),t.YNc(20,E,57,27,"ng-template",null,13,t.W1O)),2&e&&(t.xp6(8),t.Q6J("routerLink",t.DdM(6,K))("routerLinkActive","active"),t.xp6(3),t.Q6J("routerLink",t.DdM(7,Y))("routerLinkActive","active"),t.xp6(2),t.Q6J("ngIf",n.createHoliday),t.xp6(1),t.Q6J("ngIf",!n.createHoliday))},dependencies:[g.O5,c._Y,c.Fj,c.JJ,c.JL,c.On,c.F,o.lC,o.yS,o.Od,N.G,x.N,b.Y,_.X$],styles:[".btn-create[_ngcontent-%COMP%]{display:flex;margin-left:auto;margin-top:auto;margin-bottom:auto}"]}),i})();function j(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"td",12)(1,"span"),t._uU(2),t.qZA()(),t.TgZ(3,"td",13)(4,"span"),t._uU(5),t.qZA()(),t.TgZ(6,"td",13)(7,"span"),t._uU(8),t.qZA()(),t.TgZ(9,"td",13)(10,"span"),t._uU(11),t.ALo(12,"date"),t.qZA()(),t.TgZ(13,"td",13)(14,"span"),t._uU(15),t.ALo(16,"date"),t.qZA()(),t.TgZ(17,"td",14)(18,"span")(19,"button",15),t.NdJ("click",function(){const l=t.CHM(e).$implicit,y=t.oxw(),A=t.MAs(15);return t.KtG(y.openModal(A,l))}),t._UZ(20,"i",16),t.qZA()()()}if(2&i){const e=d.$implicit,n=t.oxw();t.xp6(1),t.Udp("width",n.tableHeaders[0].width),t.xp6(1),t.hij(" ",e.id," "),t.xp6(2),t.Udp("width",n.tableHeaders[1].width),t.xp6(1),t.hij(" ",e.id," "),t.xp6(2),t.Udp("width",n.tableHeaders[2].width),t.xp6(1),t.hij(" ",e.description," "),t.xp6(2),t.Udp("width",n.tableHeaders[3].width),t.xp6(1),t.hij(" ",t.xi3(12,17,e.holidayDate,"d LLL yyyy")," "),t.xp6(3),t.Udp("width",n.tableHeaders[4].width),t.xp6(1),t.hij(" ",t.xi3(16,20,e.holidayDate,"d LLL yyyy")," "),t.xp6(3),t.Udp("width",n.tableHeaders[5].width)}}function I(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"div",17)(1,"h4",18),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"button",19),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.modalRef.hide())}),t.TgZ(5,"span",20),t._uU(6,"\xd7"),t.qZA()()(),t.TgZ(7,"div",21)(8,"form")(9,"div",22)(10,"div",23)(11,"label",24)(12,"span",25),t._uU(13,"*"),t.qZA(),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"input",26),t.NdJ("ngModelChange",function(a){t.CHM(e);const l=t.oxw();return t.KtG(l.selectedHoliday.description=a)}),t.qZA()(),t.TgZ(17,"div",27)(18,"label",24)(19,"span",25),t._uU(20,"*"),t.qZA(),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"div",28)(24,"input",29),t.NdJ("bsValueChange",function(a){t.CHM(e);const l=t.oxw();return t.KtG(l.selectedHoliday.holidayDate=a)}),t.qZA(),t.TgZ(25,"span",30)(26,"span"),t._UZ(27,"i",31),t.qZA()()()()()()(),t.TgZ(28,"div",32)(29,"button",33),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.delete())}),t._UZ(30,"i",34),t.qZA(),t.TgZ(31,"button",33),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.modalRef.hide())}),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"button",35),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.update())}),t._uU(35),t.ALo(36,"translate"),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,8,"Edit Holiday")),t.xp6(12),t.hij(" ",t.lcZ(15,10,"Holiday Name")," "),t.xp6(2),t.Q6J("ngModel",e.selectedHoliday.description),t.xp6(5),t.hij(" ",t.lcZ(22,12,"Holiday Date")," "),t.xp6(3),t.Q6J("bsConfig",e.bsConfig)("bsValue",e.selectedHoliday.holidayDate),t.xp6(8),t.Oqu(t.lcZ(33,14,"Close")),t.xp6(3),t.Oqu(t.lcZ(36,16,"Submit"))}}let Q=(()=>{class i extends u.Gw{constructor(e,n,a,l){super(),this.router=e,this.modalService=n,this.holidayService=a,this.translate=l,this.tableHeaders=[{text:"#",width:"30px",align:u.iW.Center},{text:"Holiday ID",width:"100px"},{text:"Holiday Name",width:"120px"},{text:"Date",width:"200px"},{text:"Date Created",width:"120px"},{text:"Actions",width:"80px"}]}get filterParams(){return{}}reloadData(){this.reloadDataService(this.holidayService)}pageChanged(e){this.pagination=e,this.reloadData()}openModal(e,n){this.selectedHoliday={...n,holidayDate:new Date(n.holidayDate)},this.modalRef=this.modalService.show(e)}delete(){return this.holidayService.deleteModel(this.selectedHoliday.id).subscribe(()=>{this.modalRef.hide(),this.reloadData()})}update(){return this.holidayService.updateModel(this.selectedHoliday).subscribe(()=>{this.modalRef.hide(),this.reloadData()})}ngOnInit(){const e=this.tableHeaders.map(n=>n.text);this.translate.get(e).subscribe(n=>{this.tableHeaders.forEach(a=>{for(let l in n)n.hasOwnProperty(l)&&a.text===l&&(a.text=n[l])})})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(o.F0),t.Y36(m.tT),t.Y36(f),t.Y36(_.sK))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-public-holiday"]],features:[t.qOj],decls:16,vars:7,consts:[[1,"form-group","m-form__group","m-portlet__filters"],[1,"m-portlet__filter","col-1"],[1,"col-form-label"],[1,"col-lg-4","m--padding-0"],[1,"m-input-icon","m-input-icon--left"],["type","text","placeholder","",1,"form-control","m-input",3,"ngModel","ngModelChange"],[1,"m-input-icon__icon","m-input-icon__icon--left"],[1,"la","la-search"],[3,"headers","items","loading","pagination","isExtended","scrollingDisabled","pageChanged"],["listTable",""],["rowTemplate",""],["template",""],[1,"m-datatable__cell","text-center"],[1,"m-datatable__cell"],[1,"m-datatable__cell","action-cell"],[1,"btn","btn-outline-primary","m-btn","m-btn--icon","m-btn--icon-only","m-btn--custom","m-btn--pill","no-border",3,"click"],[1,"la","la-edit"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"m-portlet__body"],[1,"form-group","m-form__group"],["for","exampleInputEmail1"],[1,"m--font-danger"],["type","text","name","holiday","id","exampleInputEmail1",1,"form-control","m-input","m-input--square",3,"ngModel","ngModelChange"],[1,"form-group"],[1,"m-input-icon","m-input-icon--right"],["type","text","bsDatepicker","",1,"form-control",3,"bsConfig","bsValue","bsValueChange"],[1,"m-input-icon__icon","m-input-icon__icon--right"],[1,"la","la-calendar"],[1,"modal-footer"],["type","button",1,"btn","btn-default",3,"click"],[1,"la","la-trash"],["type","button",1,"btn","btn-main",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"label",2),t._uU(3," Holiday "),t.qZA()(),t.TgZ(4,"div",3)(5,"div",4)(6,"input",5),t.NdJ("ngModelChange",function(l){return n.keyword=l})("ngModelChange",function(){return n.reloadData()}),t.qZA(),t.TgZ(7,"span",6)(8,"span"),t._UZ(9,"i",7),t.qZA()()()()(),t.TgZ(10,"app-datatable",8,9),t.NdJ("pageChanged",function(l){return n.pageChanged(l)}),t.YNc(12,j,21,23,"ng-template",null,10,t.W1O),t.qZA(),t.YNc(14,I,37,18,"ng-template",null,11,t.W1O)),2&e&&(t.xp6(6),t.Q6J("ngModel",n.keyword),t.xp6(4),t.Q6J("headers",n.tableHeaders)("items",n.data)("loading",n.loading)("pagination",n.pagination)("isExtended",!0)("scrollingDisabled",!0))},dependencies:[c._Y,c.Fj,c.JJ,c.JL,c.On,c.F,v.Uo,u.nE,x.N,b.Y,g.uU,_.X$],encapsulation:2}),i})();var R=s(19832),B=s(60097);function D(i){return new R.w(i,"../assets/i18n/",".json")}const V=[{path:"",component:r.f,children:[{path:"",component:F,children:[{path:"",redirectTo:"public-holiday",pathMatch:"full"},{path:"public-holiday",component:Q,data:{breadcrumb:{label:"Public Holiday"}}},{path:"government-tax",component:k,data:{breadcrumb:{label:"Government Tax"}}}]}]}];let W=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[Z.k,q.e,f,C,B.x],imports:[g.ez,c.u5,o.Bz.forChild(V),h.x,p.D,m.zk.forRoot(),M.kn,_.aw.forChild({loader:{provide:_.Zw,useFactory:D,deps:[T.eN]}}),o.Bz]}),i})()}}]);