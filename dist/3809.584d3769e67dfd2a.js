"use strict";(self.webpackChunkst_admin=self.webpackChunkst_admin||[]).push([[3809],{58650:(K,b,r)=>{r.d(b,{y:()=>fe});var e=r(94650),_=r(38014),M=r(8929),A=r(1059),u=r(80013),P=r(75778),C=r(2994),T=r(87545),v=r(88117),L=r(72986),x=r(73071),k=r(36511),E=r(76284),z=r(89383),U=r(50007),m=r(49651),f=r(36895),i=r(24006),p=r(67869),h=r(38231),c=r(35635),g=r(66616),w=r(47044),W=r(21811),S=r(28213),N=r(82174),Y=r(37096),H=r(21838);function $(n,s){if(1&n&&e._UZ(0,"nz-option",38),2&n){const o=s.$implicit;e.Q6J("nzValue",o.id)("nzLabel",o.name)}}function G(n,s){1&n&&(e.TgZ(0,"div",61),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Field is required.")," "))}function V(n,s){if(1&n&&e._UZ(0,"nz-option",38),2&n){const o=s.$implicit;e.Q6J("nzValue",o.id)("nzLabel",o.name)}}function X(n,s){1&n&&(e.TgZ(0,"div",61),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Field is required.")," "))}function ee(n,s){1&n&&(e.TgZ(0,"div",61),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Field is required.")," "))}function ne(n,s){1&n&&(e.TgZ(0,"div",61),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Field is required.")," "))}function oe(n,s){if(1&n&&(e._UZ(0,"nz-option",38),e.ALo(1,"titlecase")),2&n){const o=s.$implicit;e.Q6J("nzValue",o.id)("nzLabel",e.lcZ(1,2,o.value))}}function te(n,s){1&n&&(e.TgZ(0,"div",61),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Field is required.")," "))}function ae(n,s){if(1&n&&(e._UZ(0,"nz-option",38),e.ALo(1,"titlecase")),2&n){const o=s.$implicit;e.Q6J("nzValue",o.id)("nzLabel",e.lcZ(1,2,o.value))}}function re(n,s){1&n&&(e.TgZ(0,"div",61),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Field is required.")," "))}function ie(n,s){1&n&&(e.TgZ(0,"div",62),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Field is required.")," "))}function le(n,s){1&n&&(e.TgZ(0,"div",61),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Field is required.")," "))}function se(n,s){1&n&&(e.TgZ(0,"div",61),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Field is required.")," "))}function de(n,s){1&n&&(e.TgZ(0,"div",61),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Field is required.")," "))}function _e(n,s){1&n&&(e.TgZ(0,"div",61),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Field is required.")," "))}function pe(n,s){1&n&&(e.TgZ(0,"div",61),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Field is required.")," "))}function me(n,s){1&n&&(e.TgZ(0,"div",61),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Field is required.")," "))}function ce(n,s){1&n&&(e.TgZ(0,"div",61),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Field is required.")," "))}function ge(n,s){if(1&n){const o=e.EpF();e.TgZ(0,"button",63),e.NdJ("click",function(){e.CHM(o);const d=e.oxw();return e.KtG(d.cancel())}),e._UZ(1,"i",64),e._uU(2),e.qZA()}if(2&n){const o=e.oxw();e.xp6(2),e.hij(" ",o.cancelText," ")}}function ue(n,s){if(1&n){const o=e.EpF();e.TgZ(0,"agm-map",65),e.NdJ("mapClick",function(d){e.CHM(o);const l=e.oxw();return e.KtG(l.changeLocationPicker(d))}),e._UZ(1,"agm-marker",66),e.qZA()}if(2&n){const o=e.oxw();e.Q6J("latitude",null==o.locationPicker.center?null:o.locationPicker.center.lat)("longitude",null==o.locationPicker.center?null:o.locationPicker.center.lng)("zoom",o.locationPicker.zoom)("fullscreenControl",!0),e.xp6(1),e.Q6J("latitude",null==o.locationPicker.marker?null:o.locationPicker.marker.lat)("longitude",null==o.locationPicker.marker?null:o.locationPicker.marker.lng)("title","Location")}}const he=function(){return{standalone:!0}};let fe=(()=>{class n{constructor(o,t,d,l,a,Z){this.userService=o,this.codeTablesService=t,this.assetsService=d,this.translate=l,this.nzModalService=a,this.message=Z,this.submitText="Submit",this.form=(0,_.aq7)(),this.submitted=new e.vpe,this.canceled=new e.vpe,this.ownerInput$=new M.xQ,this.operatorInput$=new M.xQ,this.locationPicker={zoom:2,center:{},marker:{}},this.mondayHour=(0,_.wZt)(_.jjc.Monday),this.tuesdayHour=(0,_.wZt)(_.jjc.Tuesday),this.wednesdayHour=(0,_.wZt)(_.jjc.Wednesday),this.thursdayHour=(0,_.wZt)(_.jjc.Thursday),this.fridayHour=(0,_.wZt)(_.jjc.Friday),this.saturdayHour=(0,_.wZt)(_.jjc.Saturday),this.sundayHour=(0,_.wZt)(_.jjc.Sunday),this.publicHolidayHour=(0,_.wZt)(_.jjc.PublicHoliday)}ngOnInit(){this.owner$=this.ownerInput$.pipe((0,A.O)(""),(0,u.b)(200),(0,P.x)(),(0,C.b)(()=>this.ownerLoading=!0),(0,T.w)(o=>this.userService.searchOwners(o).pipe((0,C.b)(()=>this.ownerLoading=!1))),(0,v.B)()),this.owner$.pipe((0,L.q)(1)).subscribe(o=>this.form.carParkOwnerId=this.form.carParkOwnerId||o[0]&&o[0].id),this.operator$=this.operatorInput$.pipe((0,A.O)(""),(0,u.b)(200),(0,P.x)(),(0,C.b)(()=>this.operatorLoading=!0),(0,T.w)(o=>this.userService.searchOperators(o).pipe((0,C.b)(()=>this.operatorLoading=!1))),(0,v.B)()),this.operator$.pipe((0,L.q)(1)).subscribe(o=>this.form.carParkOperatorId=this.form.carParkOperatorId||o[0]&&o[0].id),this.carParkTypeOptions$=this.codeTablesService.filterModelByType(_.BcL.Carpark),this.carParkGroupOptions$=this.codeTablesService.filterModelByType(_.BcL.CarparkGroup),window.navigator.geolocation&&window.navigator.geolocation.getCurrentPosition(({coords:o})=>{this.locationPicker={...this.locationPicker,zoom:10,center:{lat:o.latitude,lng:o.longitude},marker:{lat:o.latitude,lng:o.longitude}}})}cancel(){this.canceled.emit()}submit(o){if(this.form={...this.form,totalPower:Number(this.form.totalPower)},o.valid)return o.valid&&this.submitted.emit(this.form);this.message.warning("Ensure all fields are filled")}openLocationPicker(o){this.nzModalService.create({nzTitle:"Pick Location",nzContent:o,nzOnOk:()=>this.doPickLocation()})}changeLocationPicker({coords:o}){this.locationPicker={...this.locationPicker,marker:o}}doPickLocation(){this.form={...this.form,geopoint:this.locationPicker.marker}}onImageChanged(o){this.assetsService.uploadImage(o).subscribe(t=>this.form.images[0]?this.form.images[0].carParkImage=t:this.form.images=[{carParkImage:t}])}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(x.K),e.Y36(k.I),e.Y36(E.z),e.Y36(z.sK),e.Y36(U.Sf),e.Y36(m.dD))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-carpark-form-basic"]],inputs:{submitText:"submitText",cancelText:"cancelText",form:"form"},outputs:{submitted:"submitted",canceled:"canceled"},decls:229,vars:136,consts:[[1,"m-form","m-form--fit","m-form--label-align-right",3,"ngSubmit"],["formRef","ngForm"],[1,"m-portlet__head"],[1,"m-portlet__head-caption"],[1,"m-portlet__head-title"],[1,"m-portlet__head-text"],[1,"m-portlet__body"],[1,"form-group","m-form__group","row"],[1,"col-form-label","col-lg-2","col-sm-12"],[1,"col-md-10","col-sm-12"],[3,"image","imageChanged"],[1,"row","form-group","m-form__group"],[1,"m--font-danger"],[1,"col-lg-4","col-sm-12"],["name","owner","required","",2,"width","100%",3,"ngModel","nzLoading","ngModelChange"],["ownerRef","ngModel"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["class","form-control-feedback",4,"ngIf"],["name","operator","required","",2,"width","100%",3,"ngModel","nzLoading","ngModelChange"],["operatorRef","ngModel"],["type","text","nz-input","","name","code","required","",3,"ngModel","ngModelChange"],["carParkCodeRef","ngModel"],["type","text","nz-input","","name","name","required","",3,"ngModel","ngModelChange"],["nameRef","ngModel"],["name","carParkType","nzPlaceHolder","Please Select","required","",2,"width","100%",3,"ngModel","ngModelChange"],["carParkTypeRef","ngModel"],["name","carParkGroup","nzPlaceHolder","Please Select","required","",2,"width","100%",3,"ngModel","ngModelChange"],["groupRef","ngModel"],[1,"col","m--align-left","mt-2"],["nz-checkbox","","name","indoor",3,"ngModel","ngModelChange"],["indoor","ngModel"],["nz-checkbox","","name","chargingPile",3,"ngModel","ngModelChange"],["chargingPile","ngModel"],[1,"row","form-group","m-form__group",3,"hidden"],["att-numberonly","","name","totalPower","required","",1,"w-100",3,"ngModel","nzMin","nzStep","nzPrecision","ngModelOptions","nzPrecisionMode","ngModelChange"],["totalPowerRef","ngModel"],["style","color:red;","class","form-control-feedback",4,"ngIf"],["name","physicalCardsIssued","required","",2,"width","100%",3,"ngModel","ngModelChange"],[3,"nzValue","nzLabel"],["type","text","nz-input","","name","address","required","",3,"ngModel","ngModelChange"],["addressRef","ngModel"],["type","text","nz-input","","name","postalCode","required","",3,"ngModel","ngModelChange"],["postalCodeRef","ngModel"],["type","text","nz-input","","name","latitude","required","",3,"ngModel","ngModelChange"],["latitudeRef","ngModel"],["type","text","nz-input","","name","longitude","required","",3,"ngModel","ngModelChange"],["longitudeRef","ngModel"],[1,"col","m--align-right","btn-sm","m--margin-top-20"],["nz-button","","nzType","primary","type","button",3,"click"],["type","text","nz-input","","name","rateDisplay","required","",3,"ngModel","ngModelChange"],["rateDisplayRef","ngModel"],["type","text","nz-input","","name","seasonRateDisplay","required","",3,"ngModel","ngModelChange"],["seasonRateDisplayRef","ngModel"],["type","text","nz-input","","name","openingHourDisplay","required","",3,"ngModel","ngModelChange"],["openingHourDisplayRef","ngModel"],[3,"nzMaxCharacterCount"],["rows","4","nz-input","","name","description","maxlength","100",3,"ngModel","ngModelChange"],[1,"m-form__actions","m-form__actions--right"],["nz-button","","nzType","primary","nzSize","large","class","btn-form-ops","nzGhost","","type","button",3,"click",4,"ngIf"],["nz-button","","nzType","primary","nzSize","large","type","submit",1,"btn-form-ops"],["locationPickerRef",""],[1,"form-control-feedback"],[1,"form-control-feedback",2,"color","red"],["nz-button","","nzType","primary","nzSize","large","nzGhost","","type","button",1,"btn-form-ops",3,"click"],[1,"la","la-arrow-left"],[2,"height","400px",3,"latitude","longitude","zoom","fullscreenControl","mapClick"],[3,"latitude","longitude","title"]],template:function(o,t){if(1&o){const d=e.EpF();e.TgZ(0,"form",0,1),e.NdJ("ngSubmit",function(){e.CHM(d);const a=e.MAs(1);return e.KtG(t.submit(a))}),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),e._uU(6),e.ALo(7,"translate"),e.qZA()()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"label",8),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",9)(14,"app-image-input",10),e.NdJ("imageChanged",function(a){return t.onImageChanged(a)}),e.qZA()()(),e.TgZ(15,"div",11)(16,"label",8)(17,"span",12),e._uU(18,"*"),e.qZA(),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"div",13)(22,"nz-select",14,15),e.NdJ("ngModelChange",function(a){return t.form.carParkOwnerId=a}),e.YNc(24,$,1,2,"nz-option",16),e.ALo(25,"async"),e.qZA(),e.YNc(26,G,3,3,"div",17),e.qZA(),e.TgZ(27,"label",8)(28,"span",12),e._uU(29,"*"),e.qZA(),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"div",13)(33,"nz-select",18,19),e.NdJ("ngModelChange",function(a){return t.form.carParkOperatorId=a}),e.YNc(35,V,1,2,"nz-option",16),e.ALo(36,"async"),e.qZA(),e.YNc(37,X,3,3,"div",17),e.qZA()(),e.TgZ(38,"div",11)(39,"label",8)(40,"span",12),e._uU(41,"*"),e.qZA(),e._uU(42),e.ALo(43,"translate"),e.qZA(),e.TgZ(44,"div",13)(45,"input",20,21),e.NdJ("ngModelChange",function(a){return t.form.carParkCode=a}),e.qZA(),e.YNc(47,ee,3,3,"div",17),e.qZA(),e.TgZ(48,"label",8)(49,"span",12),e._uU(50,"*"),e.qZA(),e._uU(51),e.ALo(52,"translate"),e.qZA(),e.TgZ(53,"div",13)(54,"input",22,23),e.NdJ("ngModelChange",function(a){return t.form.name=a}),e.qZA(),e.YNc(56,ne,3,3,"div",17),e.qZA()(),e.TgZ(57,"div",11)(58,"label",8)(59,"span",12),e._uU(60,"*"),e.qZA(),e._uU(61),e.ALo(62,"translate"),e.qZA(),e.TgZ(63,"div",13)(64,"nz-select",24,25),e.NdJ("ngModelChange",function(a){return t.form.carParkTypeId=a}),e.YNc(66,oe,2,4,"nz-option",16),e.ALo(67,"async"),e.qZA(),e.YNc(68,te,3,3,"div",17),e.qZA(),e.TgZ(69,"label",8)(70,"span",12),e._uU(71,"*"),e.qZA(),e._uU(72),e.ALo(73,"translate"),e.qZA(),e.TgZ(74,"div",13)(75,"nz-select",26,27),e.NdJ("ngModelChange",function(a){return t.form.carParkGroupId=a}),e.YNc(77,ae,2,4,"nz-option",16),e.ALo(78,"async"),e.qZA(),e.YNc(79,re,3,3,"div",17),e.qZA()(),e.TgZ(80,"div",11)(81,"label",8)(82,"span",12),e._uU(83,"*"),e.qZA(),e._uU(84),e.ALo(85,"translate"),e.qZA(),e.TgZ(86,"div",13)(87,"div",28)(88,"label",29,30),e.NdJ("ngModelChange",function(a){return t.form.indoor=a}),e.qZA()()(),e.TgZ(90,"label",8)(91,"span",12),e._uU(92,"*"),e.qZA(),e._uU(93),e.ALo(94,"translate"),e.qZA(),e.TgZ(95,"div",13)(96,"div",28)(97,"label",31,32),e.NdJ("ngModelChange",function(a){return t.form.chargingPile=a}),e.qZA()()()(),e.TgZ(99,"div",33)(100,"label",8)(101,"span",12),e._uU(102,"*"),e.qZA(),e._uU(103),e.ALo(104,"translate"),e.qZA(),e.TgZ(105,"div",13)(106,"nz-input-number",34,35),e.NdJ("ngModelChange",function(a){return t.form.totalPower=a}),e.qZA(),e.YNc(108,ie,3,3,"div",36),e.qZA()(),e.TgZ(109,"div",11)(110,"label",8)(111,"span",12),e._uU(112,"*"),e.qZA(),e._uU(113),e.ALo(114,"translate"),e.qZA(),e.TgZ(115,"div",13)(116,"nz-select",37),e.NdJ("ngModelChange",function(a){return t.form.physicalCardsIssued=a}),e._UZ(117,"nz-option",38),e.ALo(118,"translate"),e._UZ(119,"nz-option",38),e.ALo(120,"translate"),e.qZA()()()(),e.TgZ(121,"div",2)(122,"div",3),e._UZ(123,"hr"),e.TgZ(124,"div",4)(125,"h3",5),e._uU(126),e.ALo(127,"translate"),e.qZA()()()(),e.TgZ(128,"div",6)(129,"div",11)(130,"label",8)(131,"span",12),e._uU(132,"*"),e.qZA(),e._uU(133),e.ALo(134,"translate"),e.qZA(),e.TgZ(135,"div",13)(136,"input",39,40),e.NdJ("ngModelChange",function(a){return t.form.address.address=a}),e.qZA(),e.YNc(138,le,3,3,"div",17),e.qZA(),e.TgZ(139,"label",8)(140,"span",12),e._uU(141,"*"),e.qZA(),e._uU(142),e.ALo(143,"translate"),e.qZA(),e.TgZ(144,"div",13)(145,"input",41,42),e.NdJ("ngModelChange",function(a){return t.form.address.postalCode=a}),e.qZA(),e.YNc(147,se,3,3,"div",17),e.qZA()(),e.TgZ(148,"div",11)(149,"label",8)(150,"span",12),e._uU(151,"*"),e.qZA(),e._uU(152),e.ALo(153,"translate"),e.qZA(),e.TgZ(154,"div",13)(155,"input",43,44),e.NdJ("ngModelChange",function(a){return t.form.geopoint.lat=a}),e.qZA(),e.YNc(157,de,3,3,"div",17),e.qZA(),e.TgZ(158,"label",8)(159,"span",12),e._uU(160,"*"),e.qZA(),e._uU(161),e.ALo(162,"translate"),e.qZA(),e.TgZ(163,"div",13)(164,"input",45,46),e.NdJ("ngModelChange",function(a){return t.form.geopoint.lng=a}),e.qZA(),e.YNc(166,_e,3,3,"div",17),e.qZA(),e.TgZ(167,"div",47)(168,"button",48),e.NdJ("click",function(){e.CHM(d);const a=e.MAs(228);return e.KtG(t.openLocationPicker(a))}),e._uU(169),e.ALo(170,"translate"),e.qZA()()()(),e.TgZ(171,"div",2)(172,"div",3),e._UZ(173,"hr"),e.TgZ(174,"div",4)(175,"h3",5),e._uU(176),e.ALo(177,"translate"),e.qZA()()()(),e.TgZ(178,"div",6)(179,"div",11)(180,"label",8)(181,"span",12),e._uU(182,"*"),e.qZA(),e._uU(183),e.ALo(184,"translate"),e.qZA(),e.TgZ(185,"div",13)(186,"input",49,50),e.NdJ("ngModelChange",function(a){return t.form.rateDisplay=a}),e.qZA(),e.YNc(188,pe,3,3,"div",17),e.qZA()(),e.TgZ(189,"div",11)(190,"label",8)(191,"span",12),e._uU(192,"*"),e.qZA(),e._uU(193),e.ALo(194,"translate"),e.qZA(),e.TgZ(195,"div",13)(196,"input",51,52),e.NdJ("ngModelChange",function(a){return t.form.seasonRateDisplay=a}),e.qZA(),e.YNc(198,me,3,3,"div",17),e.qZA()(),e.TgZ(199,"div",11)(200,"label",8)(201,"span",12),e._uU(202,"*"),e.qZA(),e._uU(203),e.ALo(204,"translate"),e.qZA(),e.TgZ(205,"div",13)(206,"input",53,54),e.NdJ("ngModelChange",function(a){return t.form.openingHourDisplay=a}),e.qZA(),e.YNc(208,ce,3,3,"div",17),e.qZA()()(),e.TgZ(209,"div",2)(210,"div",3),e._UZ(211,"hr"),e.TgZ(212,"div",4)(213,"h3",5),e._uU(214," Details "),e.qZA()()()(),e.TgZ(215,"div",6)(216,"div",11)(217,"label",8),e._uU(218),e.ALo(219,"translate"),e.qZA(),e.TgZ(220,"div",13)(221,"nz-textarea-count",55)(222,"textarea",56),e.NdJ("ngModelChange",function(a){return t.form.description=a}),e.qZA()()()()(),e.TgZ(223,"div",57),e.YNc(224,ge,3,1,"button",58),e.TgZ(225,"button",59),e._uU(226),e.qZA()()(),e.YNc(227,ue,2,7,"ng-template",null,60,e.W1O)}if(2&o){const d=e.MAs(1),l=e.MAs(23),a=e.MAs(34),Z=e.MAs(46),q=e.MAs(55),O=e.MAs(65),y=e.MAs(76),F=e.MAs(107),D=e.MAs(137),I=e.MAs(146),J=e.MAs(156),B=e.MAs(165),j=e.MAs(187),Q=e.MAs(197),R=e.MAs(207);e.xp6(6),e.hij(" ",e.lcZ(7,77,"Basic Info")," "),e.xp6(5),e.hij(" ",e.lcZ(12,79,"Profile Picture"),": "),e.xp6(3),e.Q6J("image",null==t.form.images[0]?null:t.form.images[0].carParkImage),e.xp6(5),e.hij(" ",e.lcZ(20,81,"Car Park Owner"),": "),e.xp6(3),e.Q6J("ngModel",t.form.carParkOwnerId)("nzLoading",t.ownerLoading),e.xp6(2),e.Q6J("ngForOf",e.lcZ(25,83,t.owner$)),e.xp6(2),e.Q6J("ngIf",l.invalid&&(l.dirty||l.touched||d.submitted)),e.xp6(4),e.hij(" ",e.lcZ(31,85,"Car Park Operator"),": "),e.xp6(3),e.Q6J("ngModel",t.form.carParkOperatorId)("nzLoading",t.operatorLoading),e.xp6(2),e.Q6J("ngForOf",e.lcZ(36,87,t.operator$)),e.xp6(2),e.Q6J("ngIf",a.invalid&&(a.dirty||a.touched||d.submitted)),e.xp6(5),e.hij(" ",e.lcZ(43,89,"Car Park No."),": "),e.xp6(3),e.Q6J("ngModel",t.form.carParkCode),e.xp6(2),e.Q6J("ngIf",Z.invalid&&(Z.dirty||Z.touched||d.submitted)),e.xp6(4),e.hij(" ",e.lcZ(52,91,"Car Park Name"),": "),e.xp6(3),e.Q6J("ngModel",t.form.name),e.xp6(2),e.Q6J("ngIf",q.invalid&&(q.dirty||q.touched||d.submitted)),e.xp6(5),e.hij(" ",e.lcZ(62,93,"Car Park Type"),": "),e.xp6(3),e.Q6J("ngModel",t.form.carParkTypeId),e.xp6(2),e.Q6J("ngForOf",e.lcZ(67,95,t.carParkTypeOptions$)),e.xp6(2),e.Q6J("ngIf",O.invalid&&(O.dirty||O.touched||d.submitted)),e.xp6(4),e.hij(" ",e.lcZ(73,97,"Car Park Group"),": "),e.xp6(3),e.Q6J("ngModel",t.form.carParkGroupId),e.xp6(2),e.Q6J("ngForOf",e.lcZ(78,99,t.carParkGroupOptions$)),e.xp6(2),e.Q6J("ngIf",y.invalid&&(y.dirty||y.touched||d.submitted)),e.xp6(5),e.hij(" ",e.lcZ(85,101,"Indoor Parking"),": "),e.xp6(4),e.Q6J("ngModel",t.form.indoor),e.xp6(5),e.hij(" ",e.lcZ(94,103,"Charging Parking"),": "),e.xp6(4),e.Q6J("ngModel",t.form.chargingPile),e.xp6(2),e.Q6J("hidden",!t.form.chargingPile),e.xp6(4),e.hij(" ",e.lcZ(104,105,"Total Power Available (A)"),": "),e.xp6(3),e.Q6J("ngModel",t.form.totalPower)("nzMin",0)("nzStep",.1)("nzPrecision",4)("ngModelOptions",e.DdM(135,he))("nzPrecisionMode","cut"),e.xp6(2),e.Q6J("ngIf",F.invalid&&(F.dirty||F.touched||d.submitted)),e.xp6(5),e.hij(" ",e.lcZ(114,107,"Physical cards issued"),": "),e.xp6(3),e.Q6J("ngModel",t.form.physicalCardsIssued),e.xp6(1),e.Q6J("nzValue","Yes")("nzLabel",e.lcZ(118,109,"Yes")),e.xp6(2),e.Q6J("nzValue","No")("nzLabel",e.lcZ(120,111,"No")),e.xp6(7),e.hij(" ",e.lcZ(127,113,"Location")," "),e.xp6(7),e.hij(" ",e.lcZ(134,115,"Address"),": "),e.xp6(3),e.Q6J("ngModel",t.form.address.address),e.xp6(2),e.Q6J("ngIf",D.invalid&&(D.dirty||D.touched||d.submitted)),e.xp6(4),e.hij(" ",e.lcZ(143,117,"Postal Code"),": "),e.xp6(3),e.Q6J("ngModel",t.form.address.postalCode),e.xp6(2),e.Q6J("ngIf",I.invalid&&(I.dirty||I.touched||d.submitted)),e.xp6(5),e.hij(" ",e.lcZ(153,119,"Latitude"),": "),e.xp6(3),e.Q6J("ngModel",t.form.geopoint.lat),e.xp6(2),e.Q6J("ngIf",J.invalid&&(J.dirty||J.touched||d.submitted)),e.xp6(4),e.hij(" ",e.lcZ(162,121,"Longitude"),": "),e.xp6(3),e.Q6J("ngModel",t.form.geopoint.lng),e.xp6(2),e.Q6J("ngIf",B.invalid&&(B.dirty||B.touched||d.submitted)),e.xp6(3),e.Oqu(e.lcZ(170,123,"Pick location")),e.xp6(7),e.hij(" ",e.lcZ(177,125,"Display")," "),e.xp6(7),e.hij(" ",e.lcZ(184,127,"Rate"),": "),e.xp6(3),e.Q6J("ngModel",t.form.rateDisplay),e.xp6(2),e.Q6J("ngIf",j.invalid&&(j.dirty||j.touched||d.submitted)),e.xp6(5),e.hij(" ",e.lcZ(194,129,"Season Rate"),": "),e.xp6(3),e.Q6J("ngModel",t.form.seasonRateDisplay),e.xp6(2),e.Q6J("ngIf",Q.invalid&&(Q.dirty||Q.touched||d.submitted)),e.xp6(5),e.hij(" ",e.lcZ(204,131,"Open Hour"),": "),e.xp6(3),e.Q6J("ngModel",t.form.openingHourDisplay),e.xp6(2),e.Q6J("ngIf",R.invalid&&(R.dirty||R.touched||d.submitted)),e.xp6(10),e.hij(" ",e.lcZ(219,133,"Description"),": "),e.xp6(3),e.Q6J("nzMaxCharacterCount",100),e.xp6(1),e.Q6J("ngModel",t.form.description),e.xp6(2),e.Q6J("ngIf",t.cancelText),e.xp6(1),e.ekj("m--margin-left-30",t.cancelText),e.xp6(1),e.Oqu(t.submitText)}},dependencies:[f.sg,f.O5,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.nD,i.On,i.F,p.F,h.Ip,h.Vq,c.w,c.Zp,g.ix,w.w,W.dQ,S.Ie,N.SA,N.pt,Y._V,H.z,f.Ov,f.rS,z.X$],encapsulation:2}),n})()},78735:(K,b,r)=>{r.d(b,{X:()=>U});var e=r(94650),_=r(38014),M=r(49651),A=r(36895),u=r(24006),P=r(35635),C=r(66616),T=r(47044),v=r(21811),L=r(89383);function x(m,f){1&m&&(e.TgZ(0,"div",26),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&m&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Field is required.")," "))}function k(m,f){1&m&&(e.TgZ(0,"div",26),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&m&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Field is required.")," "))}function E(m,f){if(1&m){const i=e.EpF();e.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"h3",5),e._uU(4),e.ALo(5,"translate"),e.qZA()()()(),e.TgZ(6,"div",6)(7,"div",7)(8,"label",8)(9,"span",9),e._uU(10,"*"),e.qZA(),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",10)(14,"input",27,28),e.NdJ("ngModelChange",function(h){e.CHM(i);const c=e.oxw();return e.KtG(c.form.evTotalLots=h)}),e.qZA(),e.YNc(16,k,3,3,"div",13),e.qZA()()()}if(2&m){const i=e.MAs(15),p=e.oxw(),h=e.MAs(1);e.xp6(4),e.hij(" ",e.lcZ(5,4,"Charge Park Lots")," "),e.xp6(7),e.hij(" ",e.lcZ(12,6,"Total Lots"),": "),e.xp6(3),e.Q6J("ngModel",p.form.evTotalLots),e.xp6(2),e.Q6J("ngIf",i.invalid&&(i.dirty||i.touched||h.submitted))}}function z(m,f){if(1&m){const i=e.EpF();e.TgZ(0,"button",29),e.NdJ("click",function(){e.CHM(i);const h=e.oxw();return e.KtG(h.cancel())}),e._UZ(1,"i",30),e._uU(2),e.qZA()}if(2&m){const i=e.oxw();e.xp6(2),e.hij(" ",i.cancelText," ")}}let U=(()=>{class m{constructor(i){this.message=i,this.submitText="Submit",this.form=(0,_.fo4)(),this.submitted=new e.vpe,this.canceled=new e.vpe,this.firstHeader=""}ngOnInit(){this.firstHeader=this.chargingPile?"General Park Lots":"Lots Settings"}cancel(){this.canceled.emit()}submit(i){return this.chargingPile||(this.form.evTotalLots=null),i.valid||this.message.warning("Ensure all fields are filled"),i.valid&&this.submitted.emit(this.form)}}return m.\u0275fac=function(i){return new(i||m)(e.Y36(M.dD))},m.\u0275cmp=e.Xpm({type:m,selectors:[["app-carpark-form-lots"]],inputs:{submitText:"submitText",cancelText:"cancelText",form:"form",chargingPile:"chargingPile"},outputs:{submitted:"submitted",canceled:"canceled"},decls:50,vars:27,consts:[[1,"m-form","m-form--fit","m-form--label-align-right",3,"ngSubmit"],["formRef","ngForm"],[1,"m-portlet__head"],[1,"m-portlet__head-caption"],[1,"m-portlet__head-title"],[1,"m-portlet__head-text"],[1,"m-portlet__body"],[1,"row","form-group","m-form__group"],[1,"col-form-label","col-lg-2","col-sm-12"],[1,"m--font-danger"],[1,"col-lg-4","col-sm-12"],["nz-input","","type","number","name","totalLots","required","",3,"ngModel","ngModelChange"],["totalLotsRef","ngModel"],["class","form-control-feedback",4,"ngIf"],["nz-input","","type","number","name","visitorLots","required","",3,"ngModel","ngModelChange"],["visitorLots","ngModel"],["nz-input","","type","number","min","0","name","seasonLots","required","",3,"ngModel","ngModelChange"],["seasonLots","ngModel"],["nz-input","","type","number","min","0","name","handicappedLots","required","",3,"ngModel","ngModelChange"],["handicappedLots","ngModel"],["nz-input","","type","number","min","0","name","reservedLots","required","",3,"ngModel","ngModelChange"],["reservedLots","ngModel"],[3,"ngIf"],[1,"m-form__actions","m-form__actions--right"],["nz-button","","nzType","primary","nzSize","large","nzGhost","","class","btn-form-ops","type","button",3,"click",4,"ngIf"],["nz-button","","nzType","primary","nzSize","large","type","submit",1,"btn-form-ops","m--margin-left-30"],[1,"form-control-feedback"],["nz-input","","type","number","name","chargeTotalLots","required","",3,"ngModel","ngModelChange"],["chargeTotalLotsRef","ngModel"],["nz-button","","nzType","primary","nzSize","large","nzGhost","","type","button",1,"btn-form-ops",3,"click"],[1,"la","la-arrow-left"]],template:function(i,p){if(1&i){const h=e.EpF();e.TgZ(0,"form",0,1),e.NdJ("ngSubmit",function(){e.CHM(h);const g=e.MAs(1);return e.KtG(p.submit(g))}),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),e._uU(6),e.ALo(7,"translate"),e.qZA()()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"label",8)(11,"span",9),e._uU(12,"*"),e.qZA(),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"div",10)(16,"input",11,12),e.NdJ("ngModelChange",function(g){return p.form.totalLots=g}),e.qZA(),e.YNc(18,x,3,3,"div",13),e.qZA()(),e.TgZ(19,"div",7)(20,"label",8),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"div",10)(24,"input",14,15),e.NdJ("ngModelChange",function(g){return p.form.visitorLots=g}),e.qZA()(),e.TgZ(26,"label",8),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"div",10)(30,"input",16,17),e.NdJ("ngModelChange",function(g){return p.form.seasonLots=g}),e.qZA()()(),e.TgZ(32,"div",7)(33,"label",8),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.TgZ(36,"div",10)(37,"input",18,19),e.NdJ("ngModelChange",function(g){return p.form.handicappedLots=g}),e.qZA()(),e.TgZ(39,"label",8),e._uU(40),e.ALo(41,"translate"),e.qZA(),e.TgZ(42,"div",10)(43,"input",20,21),e.NdJ("ngModelChange",function(g){return p.form.reservedLots=g}),e.qZA()()()(),e.YNc(45,E,17,8,"ng-template",22),e.TgZ(46,"div",23),e.YNc(47,z,3,1,"button",24),e.TgZ(48,"button",25),e._uU(49),e.qZA()()()}if(2&i){const h=e.MAs(1),c=e.MAs(17);e.xp6(6),e.hij(" ",e.lcZ(7,15,p.firstHeader)," "),e.xp6(7),e.hij(" ",e.lcZ(14,17,"Total Lots"),": "),e.xp6(3),e.Q6J("ngModel",p.form.totalLots),e.xp6(2),e.Q6J("ngIf",c.invalid&&(c.dirty||c.touched||h.submitted)),e.xp6(3),e.hij(" ",e.lcZ(22,19,"Visitor Lots"),":\n"),e.xp6(3),e.Q6J("ngModel",p.form.visitorLots),e.xp6(3),e.hij(" ",e.lcZ(28,21,"Season Lots"),":\n"),e.xp6(3),e.Q6J("ngModel",p.form.seasonLots),e.xp6(4),e.hij(" ",e.lcZ(35,23,"Handicap Lots"),":\n"),e.xp6(3),e.Q6J("ngModel",p.form.handicappedLots),e.xp6(3),e.hij(" ",e.lcZ(41,25,"Reservation Lots"),":\n"),e.xp6(3),e.Q6J("ngModel",p.form.reservedLots),e.xp6(2),e.Q6J("ngIf",p.chargingPile),e.xp6(2),e.Q6J("ngIf",p.cancelText),e.xp6(2),e.Oqu(p.submitText)}},dependencies:[A.O5,u._Y,u.Fj,u.wV,u.JJ,u.JL,u.Q7,u.qQ,u.On,u.F,P.Zp,C.ix,T.w,v.dQ,L.X$],encapsulation:2}),m})()}}]);