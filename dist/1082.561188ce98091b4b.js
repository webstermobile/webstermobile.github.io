"use strict";(self.webpackChunkst_admin=self.webpackChunkst_admin||[]).push([[1082],{67527:(Q,J,s)=>{s.d(J,{Z:()=>o});var c=s(8929),f=s(94650);let o=(()=>{class _{constructor(){this.helpClass=new c.xQ}sentMessages(A){this.helpClass.next(A)}getHelpClassName(){return this.helpClass.asObservable()}}return _.\u0275fac=function(A){return new(A||_)},_.\u0275prov=f.Yz7({token:_,factory:_.\u0275fac}),_})()},31289:(Q,J,s)=>{s.d(J,{K:()=>A});var c=s(94650),f=s(3927),o=s(28555),_=s(80529),M=s(91599);let A=(()=>{class b extends f.su{constructor(C,E,q){super(E,C),this.store=C,this.http=E,this.modelName="Tariff",this.baseUrl="carpark/api/tariffs",this.tariffEventer=new c.vpe,this.handleError=q.createHandleError(`${this.modelName}Service`)}updateModel(C){const E=this.getUrl(this.baseUrl);return this.put(E,C)}addOrUpdateEvTariff(C){const E=this.getUrl("scp-mg-devicemgt/costmode/addOrUpdateEvTariff");return this.post(E,C)}}return b.\u0275fac=function(C){return new(C||b)(c.LFG(o.yh),c.LFG(_.eN),c.LFG(M.k))},b.\u0275prov=c.Yz7({token:b,factory:b.\u0275fac}),b})()},76916:(Q,J,s)=>{s.d(J,{G:()=>P});var c=s(34793),f=s(92198),o=s(94650),_=s(89383),M=s(60097),A=s(36895);function b(e,F){if(1&e&&(o.TgZ(0,"a",14)(1,"span",15),o._uU(2),o.ALo(3,"translate"),o.qZA()()),2&e){const d=o.oxw().$implicit;o.xp6(2),o.hij(" ",o.lcZ(3,1,d.label)," ")}}function z(e,F){if(1&e&&(o.TgZ(0,"a",16)(1,"span",15),o._uU(2),o.ALo(3,"translate"),o.qZA()()),2&e){const d=o.oxw(),h=d.$implicit,T=d.last,x=o.oxw(2);o.Q6J("routerLink",h.url)("queryParams",T&&x.route.snapshot.queryParams),o.xp6(2),o.hij(" ",o.lcZ(3,3,h.label)," ")}}function C(e,F){if(1&e&&(o.ynx(0),o.TgZ(1,"li",10)(2,"span"),o._uU(3," > "),o.qZA()(),o.TgZ(4,"li",11),o.YNc(5,b,4,3,"a",12),o.YNc(6,z,4,5,"a",13),o.qZA(),o.BQk()),2&e){const d=F.first;o.xp6(5),o.Q6J("ngIf",d),o.xp6(1),o.Q6J("ngIf",!d)}}function E(e,F){if(1&e&&(o.TgZ(0,"div",1)(1,"div",2)(2,"div",3),o._UZ(3,"h3",4),o.TgZ(4,"ul",5)(5,"li",6)(6,"a",7),o._UZ(7,"i",8),o.qZA()(),o.YNc(8,C,7,2,"ng-container",9),o.qZA()(),o.TgZ(9,"div"),o.Hsn(10),o.qZA()()()),2&e){const d=o.oxw();o.xp6(3),o.Q6J("innerHTML",d.title,o.oJD),o.xp6(5),o.Q6J("ngForOf",d.breads)}}const q=["*"];let P=(()=>{class e{constructor(d,h,T,x){this.router=d,this.route=h,this.translate=T,this._carparkService=x,this.breads=[],this.loginUser=""}ngOnInit(){let d=JSON.parse(localStorage.getItem("user-roles"))[0];this.loginUser=d,console.log(this.loginUser,"\u4fe1\u606f"),this.breads=this.buildBreadCrumb(this.route.root),this.translate.get(this.breads[0].label).subscribe(T=>{this.label=T}),this.router.events.pipe((0,f.h)(T=>T instanceof c.m2)).subscribe(()=>{this.breads=this.buildBreadCrumb(this.route.root)})}buildBreadCrumb(d,h=[""],T=[]){const x=d.snapshot.url[0]&&d.snapshot.url[0].path,v=[...h,x],U={...this.extractBreadcrumb(d),url:v},O=x&&U.label?[...T,U]:T;return this.title=U.title||this.title||"",this.isMotorist&&"My Vehicle(s)"===U.label&&(this.title="My Vehicle(s)"),d.firstChild?x?this.buildBreadCrumb(d.firstChild,v,O):this.buildBreadCrumb(d.firstChild,h,T):(this.translate.get(this.title).subscribe(y=>{this.title=y}),O)}get isMotorist(){return this._carparkService.isMotorist()}extractBreadcrumb(d){return d.snapshot.data.breadcrumb instanceof Function?d.snapshot.data.breadcrumb(d):d.snapshot.data.breadcrumb}}return e.\u0275fac=function(d){return new(d||e)(o.Y36(c.F0),o.Y36(c.gz),o.Y36(_.sK),o.Y36(M.x))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-title-bar"]],ngContentSelectors:q,decls:1,vars:1,consts:[["class","m-subheader",4,"ngIf"],[1,"m-subheader"],[1,"d-flex","align-items-center"],[1,"mr-auto"],[1,"m-subheader__title","m-subheader__title--separator","text-main",3,"innerHTML"],[1,"m-subheader__breadcrumbs","m-nav","m-nav--inline"],[1,"m-nav__item","m-nav__item--home"],["routerLink","/",1,"m-nav__link","m-nav__link--icon"],[1,"m-nav__link-icon","la","la-home"],[4,"ngFor","ngForOf"],[1,"m-nav__separator"],[1,"m-nav__item"],["class","m-nav__link",4,"ngIf"],["class","m-nav__link",3,"routerLink","queryParams",4,"ngIf"],[1,"m-nav__link"],[1,"m-nav__link-text"],[1,"m-nav__link",3,"routerLink","queryParams"]],template:function(d,h){1&d&&(o.F$t(),o.YNc(0,E,11,2,"div",0)),2&d&&o.Q6J("ngIf","ROLE_TPO_PARTNER"!==h.loginUser)},dependencies:[A.sg,A.O5,c.yS,_.X$],encapsulation:2}),e})()},41082:(Q,J,s)=>{s.r(J),s.d(J,{TariffsModule:()=>$e,createTranslateLoader:()=>R});var c=s(36895),f=s(24006),o=s(34793),_=s(16754),M=s(36511),A=s(91599),b=s(42684),z=s(31289),C=s(30329),E=s(21532),q=s(59501),P=s(22630),e=s(94650),F=s(3947),d=s(42883);function h(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"app-tariffs-form-main",2),e.NdJ("submitted",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.submit(a))})("canceled",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.cancel())}),e.qZA()}}function T(n,r){if(1&n&&e._UZ(0,"app-tariffs-form-evc",3),2&n){const t=e.oxw();e.Q6J("model",t.model)}}let x=(()=>{class n{constructor(t,i,a){this.router=t,this.route=i,this.tariffService=a}ngOnInit(){this.type=this.route.snapshot.queryParams.type,this.model=this.route.snapshot.queryParams.model}submit(t){this.tariffService.createModel(t).subscribe(()=>{this.router.navigate(["/tariffs"])})}cancel(){this.router.navigate(["/tariffs"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(o.F0),e.Y36(o.gz),e.Y36(z.K))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-tariffs-create"]],decls:2,vars:2,consts:[[3,"submitted","canceled",4,"ngIf"],[3,"model",4,"ngIf"],[3,"submitted","canceled"],[3,"model"]],template:function(t,i){1&t&&(e.YNc(0,h,1,0,"app-tariffs-form-main",0),e.YNc(1,T,1,1,"app-tariffs-form-evc",1)),2&t&&(e.Q6J("ngIf","evc"!==i.type),e.xp6(1),e.Q6J("ngIf","evc"===i.type))},dependencies:[c.O5,F.O,d.f],encapsulation:2}),n})();var v=s(38014),U=s(79118),O=s(8929),y=s(89383),I=s(67556),K=s(50007),G=s(76916),Y=s(47423),D=s(66616),j=s(47044),B=s(21811),L=s(38231);const W=function(){return["home-carpark"]};function X(n,r){1&n&&(e.TgZ(0,"li",9)(1,"a",10),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n&&(e.xp6(1),e.Q6J("routerLink",e.DdM(5,W))("routerLinkActive","active"),e.xp6(1),e.hij(" ",e.lcZ(3,3,"Carpark")," "))}function ee(n,r){if(1&n&&(e._UZ(0,"nz-option",19),e.ALo(1,"titlecase")),2&n){const t=r.$implicit;e.Q6J("nzValue",t.value)("nzLabel",e.lcZ(1,2,t.value))}}function te(n,r){if(1&n&&e._UZ(0,"nz-option",19),2&n){const t=r.$implicit;e.Q6J("nzValue",t.value)("nzLabel",t.value)}}function ne(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",15)(1,"span",16),e._uU(2,"*"),e.qZA(),e.TgZ(3,"label"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"nz-select",17),e.NdJ("ngModelChange",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.vehicleType=a)}),e.YNc(7,ee,2,4,"nz-option",18),e._UZ(8,"nz-option",19),e.qZA()(),e.TgZ(9,"div",15)(10,"span",16),e._uU(11,"*"),e.qZA(),e.TgZ(12,"label"),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"nz-select",17),e.NdJ("ngModelChange",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.type=a)}),e.YNc(16,te,1,2,"nz-option",18),e._UZ(17,"nz-option",19),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(4),e.hij("",e.lcZ(5,10,"Vehicle Type"),":"),e.xp6(2),e.Q6J("ngModel",t.vehicleType),e.xp6(1),e.Q6J("ngForOf",t.vehicleTypes$),e.xp6(1),e.Q6J("nzValue",t.vehicleTypeEVC.value)("nzLabel","EVC"),e.xp6(5),e.hij("",e.lcZ(14,12,"Tariff Type"),":"),e.xp6(2),e.Q6J("ngModel",t.type),e.xp6(1),e.Q6J("ngForOf",t.tariffTypes$),e.xp6(1),e.Q6J("nzValue",t.tariffTypeEVC.value)("nzLabel","EVC")}}function ie(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.handleCancel())}),e._uU(1),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",21),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.goNext())}),e._uU(4),e.ALo(5,"translate"),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,3,"Cancel")," "),e.xp6(2),e.Q6J("disabled",!t.vehicleType||!t.type),e.xp6(1),e.hij(" ",e.lcZ(5,5,"Next")," ")}}const ae=function(){return["home-EVC"]},oe=function(){return["ev-tariffs"]};let re=(()=>{class n extends U.Gw{constructor(t,i,a,l,p,g,m){super(),this.router=t,this.route=i,this.tariffService=a,this.codeTablesService=l,this.translate=p,this.evcService=g,this.nzModalService=m,this.tableHeaders=[{text:"#",align:U.iW.Center,width:"40px"},{text:"Tariff ID",width:"120px"},{text:"Tariff Name",width:"100px"},{text:"Vehicle Type",width:"120px"},{text:"Tariff Type",width:"100px"},{text:"Car Parks",width:"100px"},{text:"Date Created",width:"110px"},{text:"Actions",width:"80px"}],this.vehicleIcon=v.mts,this.type=null,this.vehicleType=null,this.vehicleTypeFilter="",this.tariffType="",this.keyword$=new O.xQ,this.interRole="",this.selectCilck="",this.vehicleTypeEVC=v.wxy,this.tariffTypeEVC=v.oJe,this.codeTablesService.filterModelByType(v.BcL.VehicleType).subscribe(u=>{this.vehicleTypes$=u,this.tariffService.tariffEventer.emit([this.vehicleTypes$,this.tariffTypes$])}),this.codeTablesService.filterModelByType(v.BcL.TariffType).subscribe(u=>{this.tariffTypes$=u,this.tariffService.tariffEventer.emit([this.vehicleTypes$,this.tariffTypes$])}),this.keyword$.debounceTime(500).subscribe(()=>{this.reloadData()});const Z=this.tableHeaders.map(u=>u.text);this.translate.get(Z).subscribe(u=>{this.tableHeaders.forEach(N=>{for(const H in u)u.hasOwnProperty(H)&&N.text===H&&(N.text=u[H])})})}get filterParams(){return{vehicleTypeId:this.vehicleTypeFilter,tariffTypeId:this.tariffType,keyword:this.keyword}}onSubmitted(){}onCanceled(){}reloadData(){this.reloadDataService(this.tariffService)}openModal(t,i){let a=this,p=window.location.href.split("//")[1].split("/")[3];a.selectCilck=p;let g=JSON.parse(localStorage.getItem("user-roles"))[0];a.interRole=g,"ROLE_EV_OWNER"==a.interRole||"home-EVC"==a.selectCilck?(a.vehicleType="EVC",a.goNext()):this.modalIns=this.nzModalService.create({nzTitle:"Create Tariff",nzContent:t,nzFooter:i})}pageChanged(t){this.pagination=t,this.reloadData()}handleCancel(){this.modalIns.destroy()}goNext(){this.modalIns&&this.modalIns.destroy(),"EVC"===this.vehicleType?this.router.navigate(["createEvc"],{relativeTo:this.route,queryParams:{type:"evc",vehicleType:"evc",model:"add"}}):this.router.navigate(["create"],{relativeTo:this.route,queryParams:{type:this.type,vehicleType:this.vehicleType}})}get isEvOwner(){return this.evcService.isEvOwner()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(o.F0),e.Y36(o.gz),e.Y36(z.K),e.Y36(M.I),e.Y36(y.sK),e.Y36(I.z$),e.Y36(K.Sf))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-tariffs-home"]],features:[e.qOj],decls:26,vars:13,consts:[[1,"body-wrapper"],["nz-button","","nzType","primary","nzSize","large","nzShape","round",3,"click"],["nz-icon","","nzType","plus","nzTheme","outline"],[1,"m-content"],[1,"m-portlet","m-portlet--tabs"],[1,"m-portlet__head"],[1,"m-portlet__head-tools"],["role","tablist",1,"nav","nav-tabs","m-tabs-line","m-tabs-line--primary","m-tabs-line--2x"],["class","nav-item m-tabs__item",4,"ngIf"],[1,"nav-item","m-tabs__item"],[1,"nav-link","m-tabs__link",3,"routerLink","routerLinkActive"],[1,"m-portlet__body","m-portlet__body--scrollable"],[1,"m-portlet__frame"],["template",""],["tplFooter",""],[1,"form-group","m-form__group"],[1,"m--font-danger"],["nzPlaceHolder","Please Select",2,"width","100%",3,"ngModel","ngModelChange"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[3,"nzValue","nzLabel"],["nz-button","",3,"click"],["nz-button","","nzType","primary",2,"margin-left","16px",3,"disabled","click"]],template:function(t,i){if(1&t){const a=e.EpF();e.TgZ(0,"div",0)(1,"app-title-bar")(2,"button",1),e.NdJ("click",function(){e.CHM(a);const p=e.MAs(23),g=e.MAs(25);return e.KtG(i.openModal(p,g))}),e._UZ(3,"span",2),e._uU(4,"Create Tariff "),e.qZA()(),e.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"ul",7),e.YNc(10,X,4,6,"li",8),e.TgZ(11,"li",9)(12,"a",10),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"li",9)(16,"a",10),e._uU(17),e.ALo(18,"translate"),e.qZA()()()()(),e.TgZ(19,"div",11)(20,"div",12),e._UZ(21,"router-outlet"),e.qZA()()()()(),e.YNc(22,ne,18,14,"ng-template",null,13,e.W1O),e.YNc(24,ie,6,7,"ng-template",null,14,e.W1O)}2&t&&(e.xp6(10),e.Q6J("ngIf",!i.isEvOwner),e.xp6(2),e.Q6J("routerLink",e.DdM(11,ae))("routerLinkActive","active"),e.xp6(1),e.hij(" ",e.lcZ(14,7,"EVC")," "),e.xp6(3),e.Q6J("routerLink",e.DdM(12,oe))("routerLinkActive","active"),e.xp6(1),e.hij(" ",e.lcZ(18,9,"EVC Tariffs")," "))},dependencies:[c.sg,c.O5,o.lC,o.yS,o.Od,G.G,Y.Ls,D.ix,j.w,B.dQ,L.Ip,L.Vq,f.JJ,f.On,c.rS,y.X$],encapsulation:2}),n})(),se=(()=>{class n{constructor(t,i,a){this.router=t,this.route=i,this.tariffService=a}ngOnInit(){this.tariff=this.route.snapshot.data.tariff}submit(t){this.tariffService.updateModel(t).subscribe(()=>{this.router.navigate(["/tariffs"])})}cancel(){this.router.navigate(["/tariffs"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(o.F0),e.Y36(o.gz),e.Y36(z.K))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-tariffs-update"]],decls:1,vars:1,consts:[[3,"form","submitted","canceled"]],template:function(t,i){1&t&&(e.TgZ(0,"app-tariffs-form-main",0),e.NdJ("submitted",function(l){return i.submit(l)})("canceled",function(){return i.cancel()}),e.qZA()),2&t&&e.Q6J("form",i.tariff)},dependencies:[F.O],encapsulation:2}),n})();var le=s(20388),pe=s(80529),de=s(88796),ce=s(19832),V=s(43056),$=s(56776),fe=s(60097),k=s(67527),w=s(35635),me=s(69659);const ue=["childModal"],_e=["evcTable"];let he=(()=>{class n{constructor(t,i,a){this.route=t,this.translate=i,this.communicationWithHeader=a,this.tableHeaders=[{text:"#",align:U.iW.Center,width:"40px"},{text:"Tariff ID",width:"120px"},{text:"Tariff Name",width:"100px"},{text:"Vehicle Type",width:"120px"},{text:"Tariff Type",width:"100px"},{text:"Car Parks",width:"100px"},{text:"Date Created",width:"100px"},{text:"Actions",width:"80px"}],this.vehicleIcon=v.mts,this.type=null,this.vehicleTypeFilter="",this.tariffType="",this.keyword="",this.keyword$=new O.xQ;const l=this.tableHeaders.map(p=>p.text);this.translate.get(l).subscribe(p=>{this.tableHeaders.forEach(g=>{for(const m in p)p.hasOwnProperty(m)&&g.text===m&&(g.text=p[m])})})}alert(t){this.message=t,this.childModal.show()}ngOnInit(){this.route.data.subscribe(t=>{this.communicationWithHeader.sentMessages(t.breadcrumb.title)})}searchTariff(t){this.evcTable.reloadData(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(o.gz),e.Y36(y.sK),e.Y36(k.Z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-tariffs-home-evc"]],viewQuery:function(t,i){if(1&t&&(e.Gf(ue,5),e.Gf(_e,5)),2&t){let a;e.iGM(a=e.CRH())&&(i.childModal=a.first),e.iGM(a=e.CRH())&&(i.evcTable=a.first)}},decls:9,vars:4,consts:[[1,"form-group","m-form__group","m-portlet__filters"],[1,"filter-wrap"],[1,"filter-item"],[1,"filter-label"],["type","text","nz-input","","placeholder","Tariff Name",2,"width","160px",3,"ngModel","ngModelChange"],["evcTable",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"input",4),e.NdJ("ngModelChange",function(l){return i.keyword=l})("ngModelChange",function(l){return i.searchTariff(l)}),e.qZA()()()(),e._UZ(7,"app-evc-tariff-table",null,5)),2&t&&(e.xp6(4),e.hij("",e.lcZ(5,2,"Tariff Name"),":"),e.xp6(2),e.Q6J("ngModel",i.keyword))},dependencies:[w.Zp,me.q,f.Fj,f.JJ,f.On,y.X$],encapsulation:2}),n})();var ge=s(72986),Te=s(49651);function ve(n,r){1&n&&(e.TgZ(0,"div",48),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Field is required.")," "))}function Ce(n,r){1&n&&e._UZ(0,"i",49)}function xe(n,r){1&n&&e._UZ(0,"span",50)}function Ze(n,r){1&n&&(e.TgZ(0,"div",48),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Field is required.")," "))}function ye(n,r){1&n&&(e.TgZ(0,"div",48),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Field is required.")," "))}function Me(n,r){1&n&&(e.TgZ(0,"div",48),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Field is required.")," "))}function Ae(n,r){1&n&&(e.TgZ(0,"div",48),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Field is required.")," "))}function be(n,r){1&n&&(e.TgZ(0,"div",48),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Field is required.")," "))}function ze(n,r){1&n&&(e.TgZ(0,"div",48),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Field is required.")," "))}function Ee(n,r){1&n&&(e.TgZ(0,"div",48),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Field is required.")," "))}function Fe(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"timepicker",71),e.NdJ("ngModelChange",function(a){e.CHM(t);const l=e.oxw().$implicit;return e.KtG(l.from=a)}),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("ngModel",t.from)("showMeridian",!1)}}function Ue(n,r){1&n&&(e.TgZ(0,"div",48),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Field is required.")," "))}function Je(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"timepicker",72),e.NdJ("ngModelChange",function(a){e.CHM(t);const l=e.oxw().$implicit;return e.KtG(l.to=a)}),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("ngModel",t.to)("showMeridian",!1)}}function Oe(n,r){1&n&&(e.TgZ(0,"div",73),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Field is required.")," "))}function He(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",51)(1,"div",52)(2,"h5"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",53),e.NdJ("click",function(){const l=e.CHM(t).index,p=e.oxw();return e.KtG(p.form.timeSlots.splice(l,1))}),e._UZ(6,"span",54),e.qZA()(),e.TgZ(7,"div",17)(8,"div",55)(9,"div",56)(10,"span",10),e._uU(11,"*"),e.qZA(),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"div",57)(15,"div",58)(16,"input",59,60),e.NdJ("ngModelChange",function(a){const p=e.CHM(t).$implicit;return e.KtG(p.from=a)}),e.ALo(18,"date"),e.qZA(),e.YNc(19,Ee,3,3,"div",14),e.qZA(),e.YNc(20,Fe,1,2,"ng-template",null,61,e.W1O),e.TgZ(22,"span",31),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",58),e._UZ(26,"input",62,63),e.ALo(28,"date"),e.YNc(29,Ue,3,3,"div",14),e.qZA(),e.YNc(30,Je,1,2,"ng-template",null,64,e.W1O),e.qZA()(),e.TgZ(32,"div",65)(33,"div",66)(34,"span",10),e._uU(35,"*"),e.qZA(),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"div",67)(39,"nz-input-group",26)(40,"input",68,69),e.NdJ("ngModelChange",function(a){const p=e.CHM(t).$implicit;return e.KtG(p.rate=a)}),e.qZA()()(),e.YNc(42,Oe,3,3,"div",70),e.qZA()()()}if(2&n){const t=r.$implicit,i=r.index,a=e.MAs(17),l=e.MAs(21),p=e.MAs(27),g=e.MAs(31),m=e.MAs(41);e.oxw();const Z=e.MAs(1),u=e.MAs(19);e.xp6(3),e.AsE("",e.lcZ(4,20,"Time Slot"),"",i+1,""),e.xp6(9),e.hij(" ",e.lcZ(13,22,"Time Range"),": "),e.xp6(4),e.MGl("name","fromTime",i,""),e.Q6J("ngModel",e.xi3(18,24,t.from,"shortTime"))("popover",l)("outsideClick",!0),e.xp6(3),e.Q6J("ngIf",a.invalid&&(a.dirty||a.touched||Z.submitted)),e.xp6(4),e.Oqu(e.lcZ(24,27,"to")),e.xp6(3),e.MGl("name","endTime",i,""),e.Q6J("ngModel",e.xi3(28,29,t.to,"shortTime"))("popover",g)("outsideClick",!0),e.xp6(3),e.Q6J("ngIf",p.invalid&&(p.dirty||p.touched||Z.submitted)),e.xp6(4),e.MGl("for","exampleInputEmail",i,""),e.xp6(3),e.hij(" ",e.lcZ(37,32,"Charging tariff"),": "),e.xp6(3),e.Q6J("nzAddOnBefore",u),e.xp6(1),e.MGl("name","rate",i,""),e.Q6J("ngModel",t.rate),e.xp6(2),e.Q6J("ngIf",m.invalid&&(m.dirty||m.touched||Z.submitted))}}let Se=(()=>{class n extends U.Gw{constructor(t,i,a,l){super(),this.router=t,this.tariffService=i,this.codeTablesService=a,this.nzMessageService=l,this.form=(0,v.jqJ)(),this.ownerInput$=new O.xQ,this.operatorInput$=new O.xQ,this.tariffTypes=[],this.vehicleTypes=[],this.weekdays={},this.needRequire=!1,this.updateForm={tariffName:"",tariffDes:"NO",tariffType:1,ownerId:1,ownerName:"NTU",maxChargePerSession:null,miniChargePerSession:null,electricalFee:null,operationsFee:null,operationsFeeRatio:null,idlingGracePeriod:null,idlingFee:null,solts:[]}}get filterParams(){}reloadData(){this.reloadDataService(this.tariffService)}ngOnInit(){this.reloadData(),this.days$=this.codeTablesService.filterModelByType(v.BcL.DayType).pipe((0,ge.q)(1)),this.form.weekdays.forEach(i=>this.weekdays[i]=!0),this.days$.map(i=>i)}changeTariff(){const t=this.tariffTypes.find(a=>a.id===Number(this.form.tariffTypeId)),i=this.vehicleTypes.find(a=>a.id===Number(this.form.vehicleTypeId));t&&i&&this.router.navigate(["/tariffs","create"],{queryParams:{type:t.value,vehicleType:i.value}})}cancel(){console.log("\u5ffd\u7565")}addNewTimeSlot(){this.form.timeSlots.push((0,v.z5G)())}onChangeDay(t,i){this.weekdays[i]=t,this.form.weekdays=Object.keys(this.weekdays).filter(a=>this.weekdays[a])}submit(t){this.needRequire=null==this.updateForm.operationsFeeRatio&&null==this.updateForm.operationsFee;let i=[];this.form.timeSlots.forEach(a=>{i.push({startTime:JSON.stringify(a.from).split("T")[1].split(".")[0],endTime:JSON.stringify(a.to).split("T")[1].split(".")[0],chargingFee:a.rate})}),this.updateForm.solts=i,this.tariffService.addOrUpdateEvTariff(this.updateForm).subscribe(a=>{this.nzMessageService.info("success!"),this.closeModal()})}onInput(t){this.needRequire=!(t.length>0),this.updateForm.operationsFeeRatio=""}onInput2(t){this.needRequire=!(t.length>0),this.updateForm.operationsFee=""}closeModal(){location.reload()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(o.F0),e.Y36(z.K),e.Y36(M.I),e.Y36(Te.dD))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ev-tariffs"]],inputs:{form:"form"},features:[e.qOj],decls:109,vars:40,consts:[[1,"m-form","m-form--fit","m-form--label-align-right",2,"margin-bottom","60px",3,"ngSubmit"],["formRef","ngForm"],[1,"m-portlet"],[1,"m-portlet__head"],[1,"m-portlet__head-caption"],[1,"m-portlet__head-title"],[1,"m-portlet__head-text"],[1,"m-portlet__body"],[1,"row","form-group","col-12"],[1,"col-2","form-label-wrap"],[1,"m--font-danger"],[1,"col-10",2,"padding-right","0"],["nz-input","","type","text","name","tariffName","required","",3,"ngModel","ngModelChange"],["tariffName","ngModel"],["class","form-control-feedback",4,"ngIf"],["addOnBeforeTemplate",""],["addOnPercentTemplate",""],[1,"col-12","every-line"],[1,"col-6"],[1,"input-line"],[1,"form-label-wrap","col-4"],[3,"nzAddOnBefore"],["type","text","nz-input","","name","maxChargePerSession","required","",3,"ngModel","ngModelChange"],["maxChargePerSession","ngModel"],["type","text","nz-input","","name","miniChargePerSession","required","",3,"ngModel","ngModelChange"],["miniChargePerSession","ngModel"],["nzAddOnAfter","/kWh",3,"nzAddOnBefore"],["type","text","nz-input","","name","electricalFee","required","",3,"ngModel","ngModelChange"],["electricalFee","ngModel"],["type","text","nz-input","","name","operationsFee","required","",3,"ngModel","ngModelChange"],["operationsFee","ngModel"],[2,"display","flex","align-items","center","padding","0 4px"],[3,"nzAddOnAfter"],["type","text","nz-input","","name","operationsFeeRatio","required","",3,"ngModel","ngModelChange"],["operationsFeeRatio","ngModel"],["nzAddOnAfter","mins"],["type","text","nz-input","","name","idlingGracePeriod","required","",3,"ngModel","ngModelChange"],["idlingGracePeriod","ngModel"],["nzAddOnAfter","/min",3,"nzAddOnBefore"],["type","text","nz-input","","name","idlingFee","required","",3,"ngModel","ngModelChange"],["idlingFee","ngModel"],["class","m-portlet__body row",4,"ngFor","ngForOf"],[1,"m-portlet__foot"],["nz-button","","nzType","primary","nzGhost","","nzShape","round","type","button",3,"click"],["nz-icon","","nzType","plus","nzTheme","outline"],[1,"d-flex","justify-content-between"],["nz-button","","nzType","primary","nzSize","large","nzGhost","","type","reset",1,"btn-form-ops",3,"click"],["nz-button","","nzType","primary","nzSize","large","type","submit",1,"btn-form-ops",2,"margin-left","30px"],[1,"form-control-feedback"],[1,"la","la-usd"],["nz-icon","","nzType","percentage","nzTheme","outline"],[1,"m-portlet__body","row"],[1,"col-12","d-flex","justify-content-between","m--margin-bottom-20"],["nz-button","","type","button",3,"click"],["nz-icon","","nzType","delete","nzTheme","outline"],[1,"col-6","boxs"],[1,"form-label-wrap","col-3"],[1,"input-group","col-9"],[1,"col","m--padding-0"],["type","text","nz-input","","placeholder","","readonly","","required","",3,"ngModel","name","popover","outsideClick","ngModelChange"],["fromTime","ngModel"],["startTimeTpl",""],["type","text","nz-input","","placeholder","","readonly","","required","",3,"ngModel","name","popover","outsideClick"],["endTime","ngModel"],["endTimeTpl",""],[1,"col-6","boxs",2,"padding-right","0"],[1,"form-label-wrap","col-4",3,"for"],[1,"input-group","col-8",2,"padding-right","0"],["type","text","nz-input","","required","",3,"ngModel","name","ngModelChange"],["rate","ngModel"],["class","form-control-feedback m--font-danger","style","top:35px",4,"ngIf"],["name","fromTimePicker",3,"ngModel","showMeridian","ngModelChange"],["name","endTimePicker",3,"ngModel","showMeridian","ngModelChange"],[1,"form-control-feedback","m--font-danger",2,"top","35px"]],template:function(t,i){if(1&t){const a=e.EpF();e.TgZ(0,"form",0,1),e.NdJ("ngSubmit",function(){e.CHM(a);const p=e.MAs(1);return e.KtG(i.submit(p))}),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h3",6),e._uU(7),e.qZA()()()(),e.TgZ(8,"div",7)(9,"div",8)(10,"div",9)(11,"span",10),e._uU(12,"*"),e.qZA(),e._uU(13),e.qZA(),e.TgZ(14,"div",11)(15,"input",12,13),e.NdJ("ngModelChange",function(p){return i.updateForm.tariffName=p}),e.qZA(),e.YNc(17,ve,3,3,"div",14),e.qZA()(),e.YNc(18,Ce,1,0,"ng-template",null,15,e.W1O),e.YNc(20,xe,1,0,"ng-template",null,16,e.W1O),e.TgZ(22,"div",17)(23,"div",18)(24,"div",19)(25,"div",20)(26,"span")(27,"span",10),e._uU(28,"*"),e.qZA(),e._uU(29),e.qZA()(),e.TgZ(30,"nz-input-group",21)(31,"input",22,23),e.NdJ("ngModelChange",function(p){return i.updateForm.maxChargePerSession=p}),e.qZA()()(),e.YNc(33,Ze,3,3,"div",14),e.qZA(),e.TgZ(34,"div",18)(35,"div",19)(36,"div",20)(37,"span")(38,"span",10),e._uU(39,"*"),e.qZA(),e._uU(40),e.qZA()(),e.TgZ(41,"nz-input-group",21)(42,"input",24,25),e.NdJ("ngModelChange",function(p){return i.updateForm.miniChargePerSession=p}),e.qZA()()(),e.YNc(44,ye,3,3,"div",14),e.qZA()(),e.TgZ(45,"div",17)(46,"div",18)(47,"div",19)(48,"div",20)(49,"span",10),e._uU(50,"*"),e.qZA(),e._uU(51),e.qZA(),e.TgZ(52,"nz-input-group",26)(53,"input",27,28),e.NdJ("ngModelChange",function(p){return i.updateForm.electricalFee=p}),e.qZA()()(),e.YNc(55,Me,3,3,"div",14),e.qZA(),e.TgZ(56,"div",18)(57,"div",19)(58,"div",20)(59,"span",10),e._uU(60,"*"),e.qZA(),e._uU(61),e.qZA(),e.TgZ(62,"nz-input-group",21)(63,"input",29,30),e.NdJ("ngModelChange",function(p){return i.updateForm.operationsFee=p})("ngModelChange",function(p){return i.onInput(p)}),e.qZA()(),e.TgZ(65,"span",31),e._uU(66,"or"),e.qZA(),e.TgZ(67,"nz-input-group",32)(68,"input",33,34),e.NdJ("ngModelChange",function(p){return i.updateForm.operationsFeeRatio=p})("ngModelChange",function(p){return i.onInput2(p)}),e.qZA()()(),e.YNc(70,Ae,3,3,"div",14),e.qZA()(),e.TgZ(71,"div",17)(72,"div",18)(73,"div",19)(74,"div",20)(75,"span",10),e._uU(76,"*"),e.qZA(),e._uU(77),e.qZA(),e.TgZ(78,"nz-input-group",35)(79,"input",36,37),e.NdJ("ngModelChange",function(p){return i.updateForm.idlingGracePeriod=p})("ngModelChange",function(p){return i.onInput2(p)}),e.qZA()()(),e.YNc(81,be,3,3,"div",14),e.qZA(),e.TgZ(82,"div",18)(83,"div",19)(84,"div",20)(85,"span",10),e._uU(86,"*"),e.qZA(),e._uU(87),e.qZA(),e.TgZ(88,"nz-input-group",38)(89,"input",39,40),e.NdJ("ngModelChange",function(p){return i.updateForm.idlingFee=p}),e.qZA()()(),e.YNc(91,ze,3,3,"div",14),e.qZA()()()(),e.ynx(92),e.YNc(93,He,43,34,"div",41),e.TgZ(94,"div",42)(95,"button",43),e.NdJ("click",function(){return i.addNewTimeSlot()}),e._UZ(96,"span",44),e._uU(97),e.ALo(98,"translate"),e.qZA()(),e.BQk(),e.TgZ(99,"div",45)(100,"div"),e._uU(101),e.qZA(),e.TgZ(102,"div")(103,"button",46),e.NdJ("click",function(){return i.cancel()}),e._uU(104),e.ALo(105,"translate"),e.qZA(),e.TgZ(106,"button",47),e._uU(107),e.ALo(108,"translate"),e.qZA()()()()}if(2&t){const a=e.MAs(1),l=e.MAs(16),p=e.MAs(19),g=e.MAs(21),m=e.MAs(32),Z=e.MAs(43),u=e.MAs(54),N=e.MAs(80),H=e.MAs(90);e.xp6(7),e.hij(" ","EV Tariffs"," "),e.xp6(6),e.hij(" ","Tariff Name",": "),e.xp6(2),e.Q6J("ngModel",i.updateForm.tariffName),e.xp6(2),e.Q6J("ngIf",l.invalid&&(l.dirty||l.touched||a.submitted)),e.xp6(12),e.hij(" ","Max. Charge per Session",": "),e.xp6(1),e.Q6J("nzAddOnBefore",p),e.xp6(1),e.Q6J("ngModel",i.updateForm.maxChargePerSession),e.xp6(2),e.Q6J("ngIf",m.invalid&&(m.dirty||m.touched||a.submitted)),e.xp6(7),e.hij(" ","Min. Charge per Session",": "),e.xp6(1),e.Q6J("nzAddOnBefore",p),e.xp6(1),e.Q6J("ngModel",i.updateForm.miniChargePerSession),e.xp6(2),e.Q6J("ngIf",Z.invalid&&(Z.dirty||Z.touched||a.submitted)),e.xp6(7),e.hij(" ","Electrical tariff",": "),e.xp6(1),e.Q6J("nzAddOnBefore",p),e.xp6(1),e.Q6J("ngModel",i.updateForm.electricalFee),e.xp6(2),e.Q6J("ngIf",u.invalid&&(u.dirty||u.touched||a.submitted)),e.xp6(6),e.hij(" ","Operations Fee",": "),e.xp6(1),e.Q6J("nzAddOnBefore",p),e.xp6(1),e.Q6J("ngModel",i.updateForm.operationsFee),e.xp6(4),e.Q6J("nzAddOnAfter",g),e.xp6(1),e.Q6J("ngModel",i.updateForm.operationsFeeRatio),e.xp6(2),e.Q6J("ngIf",1==i.needRequire),e.xp6(7),e.hij(" ","Idling Grace Period",": "),e.xp6(2),e.Q6J("ngModel",i.updateForm.idlingGracePeriod),e.xp6(2),e.Q6J("ngIf",N.invalid&&(N.dirty||N.touched||a.submitted)),e.xp6(6),e.hij(" ","Idling Fee",": "),e.xp6(1),e.Q6J("nzAddOnBefore",p),e.xp6(1),e.Q6J("ngModel",i.updateForm.idlingFee),e.xp6(2),e.Q6J("ngIf",H.invalid&&(H.dirty||H.touched||a.submitted)),e.xp6(2),e.Q6J("ngForOf",i.form.timeSlots),e.xp6(4),e.hij("",e.lcZ(98,34,"Add New Time Slot")," "),e.xp6(4),e.hij(" ",""," "),e.xp6(3),e.hij(" ",e.lcZ(105,36,"Cancel")," "),e.xp6(3),e.hij(" ",e.lcZ(108,38,"Submit")," ")}},dependencies:[c.sg,c.O5,w.Zp,w.gB,Y.Ls,D.ix,j.w,B.dQ,f._Y,f.Fj,f.JJ,f.JL,f.Q7,f.On,f.F,$.EV,V.k5,c.uU,y.X$],styles:[".every-line[_ngcontent-%COMP%]{display:flex;margin-top:2rem}.input-line[_ngcontent-%COMP%]{display:flex}.form-control-feedback[_ngcontent-%COMP%]{text-align:end;color:red}.every-line[_ngcontent-%COMP%]   .boxs[_ngcontent-%COMP%]{display:flex;align-items:center}.form-label-wrap[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;text-align:right}.form-control-feedback[_ngcontent-%COMP%]{position:absolute;right:0}.form-group[_ngcontent-%COMP%]{margin-bottom:2rem}"]}),n})();var Ne=s(52746),S=s(40269);function qe(n,r){if(1&n&&(e._UZ(0,"nz-option",13),e.ALo(1,"titlecase")),2&n){const t=r.$implicit;e.Q6J("nzValue",t.id)("nzLabel",e.lcZ(1,2,t.value))}}function Le(n,r){if(1&n&&(e._UZ(0,"nz-option",13),e.ALo(1,"titlecase")),2&n){const t=r.$implicit;e.Q6J("nzValue",t.id)("nzLabel",e.lcZ(1,2,t.value))}}function we(n,r){if(1&n&&e._uU(0),2&n){const t=r.range;e.lnq(" ",t[0],"-",t[1]," of ",r.$implicit," items\n")}}function Qe(n,r){if(1&n&&(e.TgZ(0,"th",14),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("nzWidth",r.last?"100px":""),e.xp6(1),e.Oqu(t.text)}}function Pe(n,r){1&n&&(e.TgZ(0,"span",24),e._UZ(1,"span",25),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&n&&(e.xp6(2),e.hij(" \xa0",e.lcZ(3,1,"Normal")," "))}function ke(n,r){1&n&&(e.TgZ(0,"span",26),e._UZ(1,"span",27),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&n&&(e.xp6(2),e.hij(" \xa0",e.lcZ(3,1,"Season")," "))}function Ie(n,r){1&n&&(e.TgZ(0,"span",28),e._UZ(1,"span",29),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&n&&(e.xp6(2),e.hij(" \xa0",e.lcZ(3,1,"Adhoc")," "))}function Ye(n,r){if(1&n&&(e.TgZ(0,"span",24),e._UZ(1,"span",25),e._uU(2),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.hij(" \xa0",t.tariffTypeCode," ")}}const De=function(n){return[n]};function je(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"tr")(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td")(5,"span"),e._UZ(6,"img",15),e.qZA(),e.TgZ(7,"span"),e._uU(8),e.qZA()(),e.TgZ(9,"td")(10,"span",16),e.YNc(11,Pe,4,3,"span",17),e.YNc(12,ke,4,3,"span",18),e.YNc(13,Ie,4,3,"span",19),e.YNc(14,Ye,3,1,"span",20),e.qZA()(),e.TgZ(15,"td")(16,"div",21),e._uU(17),e.qZA()(),e.TgZ(18,"td"),e._uU(19),e.ALo(20,"date"),e.qZA(),e.TgZ(21,"td")(22,"a",22),e._UZ(23,"i",23),e.qZA()()(),e.BQk()),2&n){const t=r.$implicit,i=r.index,a=e.oxw();e.xp6(1),e.ekj("ant-table-row-odd",i%2==1),e.xp6(2),e.Oqu(t.name),e.xp6(3),e.Q6J("src",a.vehicleIcon(t.vehicleTypeCode),e.LSH),e.xp6(2),e.Oqu(t.vehicleTypeCode),e.xp6(2),e.Q6J("ngSwitch",t.tariffTypeCode),e.xp6(1),e.Q6J("ngSwitchCase","Normal"),e.xp6(1),e.Q6J("ngSwitchCase","Season"),e.xp6(1),e.Q6J("ngSwitchCase","Adhoc"),e.xp6(4),e.Oqu(null==t?null:t.carParkList.join(", ")),e.xp6(2),e.Oqu(e.xi3(20,12,t.createdDate,"d LLL yyyy")),e.xp6(3),e.Q6J("routerLink",e.VKq(15,De,"/tariffs/"+t.id))}}function R(n){return new ce.w(n,"../assets/i18n/",".json")}const Ve=[{path:"",component:q.f,children:[{path:"",component:re,children:[{path:"",redirectTo:"home-carpark",pathMatch:"full"},{path:"home-EVC",component:he,data:{breadcrumb:{label:"EVC"}}},{path:"ev-tariffs",component:Se,data:{breadcrumb:{label:"EV Tariffs"}}},{path:"home-carpark",component:(()=>{class n extends Ne.t{constructor(t,i,a,l,p){super(),this.route=t,this.tariffService=i,this.codeTablesService=a,this.translate=l,this.communicationWithHeader=p,this.tableHeaders=[{text:"Tariff Name",width:"100px"},{text:"Vehicle Type",width:"120px"},{text:"Tariff Type",width:"100px"},{text:"Car Parks",width:"100px"},{text:"Date Created",width:"100px"},{text:"Actions",width:"80px"}],this.vehicleIcon=v.mts,this.type=null,this.vehicleTypeFilter="",this.tariffType="",this.keyword$=new O.xQ,this.defaultValue="All",this.keyword$.debounceTime(500).subscribe(()=>{this.reloadData()});const g=this.tableHeaders.map(m=>m.text);this.translate.get(g).subscribe(m=>{this.tableHeaders.forEach(Z=>{for(const u in m)m.hasOwnProperty(u)&&Z.text===u&&(Z.text=m[u])})}),i.tariffEventer.subscribe(m=>{this.vehicleTypes$=m[0],this.tariffTypes$=m[1]})}get filterParams(){return{vehicleTypeId:"All"==this.vehicleTypeFilter?"":this.vehicleTypeFilter,tariffTypeId:"All"==this.tariffType?"":this.tariffType,keyword:this.keyword}}onSubmitted(){}onCanceled(){}reloadData(){this.reloadDataService(this.tariffService)}pageChanged(t){this.pagination=t,this.reloadData()}ngOnInit(){this.reloadData(),this.route.data.subscribe(t=>{this.communicationWithHeader.sentMessages(t.breadcrumb.title)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(o.gz),e.Y36(z.K),e.Y36(M.I),e.Y36(y.sK),e.Y36(k.Z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-tariffs-home-carpark"]],features:[e.qOj],decls:34,vars:30,consts:[[1,"form-group","m-form__group","m-portlet__filters"],[1,"filter-wrap"],[1,"filter-item"],[1,"filter-label"],[2,"width","160px",3,"ngModel","ngModelChange"],["nzValue","",3,"nzLabel"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["type","text","nz-input","","placeholder","Tariff Name",2,"width","160px",3,"ngModel","ngModelChange"],["rangeTemplate",""],[3,"nzData","nzFrontPagination","nzLoading","nzTotal","nzPageSize","nzPageIndex","nzShowSizeChanger","nzShowTotal","nzQueryParams"],["basicTable",""],[3,"nzWidth",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[3,"nzValue","nzLabel"],[3,"nzWidth"],["alt","",3,"src"],[1,"m--font-bolder",3,"ngSwitch"],["class","m--font-info",4,"ngSwitchCase"],["class","m--font-primary",4,"ngSwitchCase"],["class","m--font-warning",4,"ngSwitchCase"],["class","m--font-info",4,"ngSwitchDefault"],[2,"max-width","500px"],[1,"btn","btn-outline-primary","m-btn","m-btn--icon","m-btn--icon-only","m-btn--custom","m-btn--pill","no-border",3,"routerLink"],[1,"la","la-edit"],[1,"m--font-info"],[1,"m-badge","m-badge--info","m-badge--dot"],[1,"m--font-primary"],[1,"m-badge","m-badge--primary","m-badge--dot"],[1,"m--font-warning"],[1,"m-badge","m-badge--warning","m-badge--dot"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"nz-select",4),e.NdJ("ngModelChange",function(l){return i.vehicleTypeFilter=l})("ngModelChange",function(){return i.reloadData()}),e._UZ(7,"nz-option",5),e.ALo(8,"translate"),e.YNc(9,qe,2,4,"nz-option",6),e.qZA()()(),e.TgZ(10,"div",1)(11,"div",2)(12,"span",3),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"nz-select",4),e.NdJ("ngModelChange",function(l){return i.tariffType=l})("ngModelChange",function(){return i.reloadData()}),e._UZ(16,"nz-option",5),e.ALo(17,"translate"),e.YNc(18,Le,2,4,"nz-option",6),e.qZA()()(),e.TgZ(19,"div",1)(20,"div",2)(21,"span",3),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"input",7),e.NdJ("ngModelChange",function(l){return i.keyword=l})("ngModelChange",function(l){return i.keyword$.next(l)}),e.qZA()()()(),e.YNc(25,we,1,3,"ng-template",null,8,e.W1O),e.TgZ(27,"nz-table",9,10),e.NdJ("nzQueryParams",function(l){return i.onQueryParamsChange(l)}),e.TgZ(29,"thead")(30,"tr"),e.YNc(31,Qe,2,2,"th",11),e.qZA()(),e.TgZ(32,"tbody"),e.YNc(33,je,24,17,"ng-container",12),e.qZA()()),2&t){const a=e.MAs(26),l=e.MAs(28);e.xp6(4),e.hij("",e.lcZ(5,20,"Vehicle Type"),":"),e.xp6(2),e.Q6J("ngModel",i.vehicleTypeFilter),e.xp6(1),e.Q6J("nzLabel",e.lcZ(8,22,"All")),e.xp6(2),e.Q6J("ngForOf",i.vehicleTypes$),e.xp6(4),e.hij("",e.lcZ(14,24,"Tariff Type"),":"),e.xp6(2),e.Q6J("ngModel",i.tariffType),e.xp6(1),e.Q6J("nzLabel",e.lcZ(17,26,"All")),e.xp6(2),e.Q6J("ngForOf",i.tariffTypes$),e.xp6(4),e.hij("",e.lcZ(23,28,"Tariff Name"),":"),e.xp6(2),e.Q6J("ngModel",i.keyword),e.xp6(3),e.Q6J("nzData",i.listData)("nzFrontPagination",!1)("nzLoading",i.loading)("nzTotal",i.pagination.totalCount)("nzPageSize",i.pagination.rowsPerPage)("nzPageIndex",i.pagination.page)("nzShowSizeChanger",!0)("nzShowTotal",a),e.xp6(4),e.Q6J("ngForOf",i.tableHeaders),e.xp6(2),e.Q6J("ngForOf",l.data)}},dependencies:[c.sg,c.RF,c.n9,c.ED,o.yS,w.Zp,L.Ip,L.Vq,S.N8,S.Uo,S._C,S.Om,S.p0,S.$Z,f.Fj,f.JJ,f.On,c.rS,c.uU,y.X$],encapsulation:2}),n})(),data:{breadcrumb:{label:"Carpark"}}},{path:"create",component:x,data:{breadcrumb:{label:"Create"}}},{path:"createEvc",component:x,data:{breadcrumb:{label:"Create"}}},{path:"edit",component:x,data:{breadcrumb:{label:"Edit"}}},{path:":id",component:se,data:{breadcrumb:{label:"Update"}},resolve:{tariff:_.E}}]}]}];let $e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[A.k,b.e,z.K,_.E,M.I,fe.x,k.Z,I.z$],imports:[c.ez,o.Bz.forChild(Ve),E.x,C.D,P.z,le.zk.forRoot(),f.u5,de.A0,$.Db,V.UU,y.aw.forChild({loader:{provide:y.Zw,useFactory:R,deps:[pe.eN]}}),o.Bz]}),n})()}}]);