(self.webpackChunkst_admin=self.webpackChunkst_admin||[]).push([[8255,9226],{76916:(O,y,r)=>{"use strict";r.d(y,{G:()=>f});var b=r(34793),w=r(92198),n=r(94650),x=r(89383),Z=r(60097),T=r(36895);function t(o,m){if(1&o&&(n.TgZ(0,"a",14)(1,"span",15),n._uU(2),n.ALo(3,"translate"),n.qZA()()),2&o){const s=n.oxw().$implicit;n.xp6(2),n.hij(" ",n.lcZ(3,1,s.label)," ")}}function A(o,m){if(1&o&&(n.TgZ(0,"a",16)(1,"span",15),n._uU(2),n.ALo(3,"translate"),n.qZA()()),2&o){const s=n.oxw(),u=s.$implicit,h=s.last,_=n.oxw(2);n.Q6J("routerLink",u.url)("queryParams",h&&_.route.snapshot.queryParams),n.xp6(2),n.hij(" ",n.lcZ(3,3,u.label)," ")}}function M(o,m){if(1&o&&(n.ynx(0),n.TgZ(1,"li",10)(2,"span"),n._uU(3," > "),n.qZA()(),n.TgZ(4,"li",11),n.YNc(5,t,4,3,"a",12),n.YNc(6,A,4,5,"a",13),n.qZA(),n.BQk()),2&o){const s=m.first;n.xp6(5),n.Q6J("ngIf",s),n.xp6(1),n.Q6J("ngIf",!s)}}function l(o,m){if(1&o&&(n.TgZ(0,"div",1)(1,"div",2)(2,"div",3),n._UZ(3,"h3",4),n.TgZ(4,"ul",5)(5,"li",6)(6,"a",7),n._UZ(7,"i",8),n.qZA()(),n.YNc(8,M,7,2,"ng-container",9),n.qZA()(),n.TgZ(9,"div"),n.Hsn(10),n.qZA()()()),2&o){const s=n.oxw();n.xp6(3),n.Q6J("innerHTML",s.title,n.oJD),n.xp6(5),n.Q6J("ngForOf",s.breads)}}const c=["*"];let f=(()=>{class o{constructor(s,u,h,_){this.router=s,this.route=u,this.translate=h,this._carparkService=_,this.breads=[],this.loginUser=""}ngOnInit(){let s=JSON.parse(localStorage.getItem("user-roles"))[0];this.loginUser=s,console.log(this.loginUser,"\u4fe1\u606f"),this.breads=this.buildBreadCrumb(this.route.root),this.translate.get(this.breads[0].label).subscribe(h=>{this.label=h}),this.router.events.pipe((0,w.h)(h=>h instanceof b.m2)).subscribe(()=>{this.breads=this.buildBreadCrumb(this.route.root)})}buildBreadCrumb(s,u=[""],h=[]){const _=s.snapshot.url[0]&&s.snapshot.url[0].path,C=[...u,_],v={...this.extractBreadcrumb(s),url:C},F=_&&v.label?[...h,v]:h;return this.title=v.title||this.title||"",this.isMotorist&&"My Vehicle(s)"===v.label&&(this.title="My Vehicle(s)"),s.firstChild?_?this.buildBreadCrumb(s.firstChild,C,F):this.buildBreadCrumb(s.firstChild,u,h):(this.translate.get(this.title).subscribe(U=>{this.title=U}),F)}get isMotorist(){return this._carparkService.isMotorist()}extractBreadcrumb(s){return s.snapshot.data.breadcrumb instanceof Function?s.snapshot.data.breadcrumb(s):s.snapshot.data.breadcrumb}}return o.\u0275fac=function(s){return new(s||o)(n.Y36(b.F0),n.Y36(b.gz),n.Y36(x.sK),n.Y36(Z.x))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-title-bar"]],ngContentSelectors:c,decls:1,vars:1,consts:[["class","m-subheader",4,"ngIf"],[1,"m-subheader"],[1,"d-flex","align-items-center"],[1,"mr-auto"],[1,"m-subheader__title","m-subheader__title--separator","text-main",3,"innerHTML"],[1,"m-subheader__breadcrumbs","m-nav","m-nav--inline"],[1,"m-nav__item","m-nav__item--home"],["routerLink","/",1,"m-nav__link","m-nav__link--icon"],[1,"m-nav__link-icon","la","la-home"],[4,"ngFor","ngForOf"],[1,"m-nav__separator"],[1,"m-nav__item"],["class","m-nav__link",4,"ngIf"],["class","m-nav__link",3,"routerLink","queryParams",4,"ngIf"],[1,"m-nav__link"],[1,"m-nav__link-text"],[1,"m-nav__link",3,"routerLink","queryParams"]],template:function(s,u){1&s&&(n.F$t(),n.YNc(0,l,11,2,"div",0)),2&s&&n.Q6J("ngIf","ROLE_TPO_PARTNER"!==u.loginUser)},dependencies:[T.sg,T.O5,b.yS,x.X$],encapsulation:2}),o})()},8255:(O,y,r)=>{"use strict";r.r(y),r.d(y,{FmecaModule:()=>k});var b=r(36895),w=r(79118),n=r(26245),x=r(8929),Z=r(15439),T=r(94327),t=r(94650),M=(r(38014),r(3927)),l=r(27221),c=r(80529),f=r(28555),o=r(91599);let m=(()=>{class d extends M.su{constructor(e,i,a){super(e,i),this.http=e,this.store=i,this.modelName="fmeca",this.baseUrl="maintenance/api/fmeca",this.handleError=a.createHandleError(`${this.modelName}Service`)}filterModel(e,i){const a=(0,n.U8)(`${this.baseUrl}/queryByParam`,{...e,...(0,n.jq)(i)});return this.get(this.getUrl(a)).pipe((0,l.K)(this.handleError(`${this.modelName}Filter`,{}))).map(p=>Array.isArray(p)?(0,M.eC)(p):(0,M.O7)(p))}changeInformation(e){const i=this.getUrl("maintenance/api/fmeca");return this.put(i,e)}clearHandle(e){const i=this.getUrl(`maintenance/api/transaction?id=${e||""}`);return this.delete(i)}exportCondo(e,i){const a=(0,n.U8)(`${this.baseUrl}/exportData`,{...e,...(0,n.jq)(i)});return this.get(this.getUrl(a),{responseType:"blob"})}importCondo(e){const i=this.getUrl("maintenance/api/fmeca/importData");return this.post(i,e)}}return d.\u0275fac=function(e){return new(e||d)(t.LFG(c.eN),t.LFG(f.yh),t.LFG(o.k))},d.\u0275prov=t.Yz7({token:d,factory:d.\u0275fac}),d})();var s=r(89383),u=r(76916),h=r(40269),_=r(24006),C=r(59245);const v=["inputfile"],F=["confirmModal"];function U(d,g){1&d&&(t.TgZ(0,"div",13),t._uU(1," success! "),t.qZA())}function E(d,g){if(1&d){const e=t.EpF();t.TgZ(0,"ul",34)(1,"li",35),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,p=t.oxw(2);return t.KtG(p.editeData(a))}),t.TgZ(2,"a",36)(3,"span"),t._UZ(4,"i",37),t.qZA(),t.TgZ(5,"span"),t._uU(6,"Edit"),t.qZA()()()()}}function P(d,g){if(1&d){const e=t.EpF();t.TgZ(0,"td",25),t.NdJ("click",function(){const p=t.CHM(e).index;t.oxw();const K=t.MAs(19);return t.KtG(K.toggleItem(p))}),t.TgZ(1,"span"),t._UZ(2,"i",26),t.qZA()(),t.TgZ(3,"td",27)(4,"span"),t._uU(5),t.qZA()(),t.TgZ(6,"td",27)(7,"span"),t._uU(8),t.qZA()(),t.TgZ(9,"td",27)(10,"span"),t._uU(11),t.qZA()(),t.TgZ(12,"td",27)(13,"span"),t._uU(14),t.qZA()(),t.TgZ(15,"td",27)(16,"span"),t._uU(17),t.qZA()(),t.TgZ(18,"td",28)(19,"span",29)(20,"div",30)(21,"button",31),t._UZ(22,"i",32),t.qZA(),t.YNc(23,E,7,0,"ul",33),t.qZA()()()}if(2&d){const e=g.$implicit,i=g.expanded,a=t.oxw(2);t.xp6(1),t.Udp("width",a.tableHeaders[0].width),t.xp6(1),t.Q6J("ngClass",i?"fa-caret-down":"fa-caret-right"),t.xp6(2),t.Udp("width",a.tableHeaders[1].width),t.xp6(1),t.hij(" ",e.id," "),t.xp6(2),t.Udp("width",a.tableHeaders[2].width),t.xp6(1),t.hij(" ",e.itemIndex," "),t.xp6(2),t.Udp("width",a.tableHeaders[3].width),t.xp6(1),t.hij(" ",e.itemRef," "),t.xp6(2),t.Udp("width",a.tableHeaders[4].width),t.xp6(1),t.hij(" ",e.functionalFailureMode," "),t.xp6(2),t.Udp("width",a.tableHeaders[5].width),t.xp6(1),t.hij(" ",e.failureCauses," "),t.xp6(2),t.Udp("width",a.tableHeaders[6].width)}}function D(d,g){if(1&d){const e=t.EpF();t.TgZ(0,"div",14)(1,"div",15)(2,"div",16)(3,"label",17),t._uU(4),t.qZA(),t.TgZ(5,"div",18)(6,"input",19),t.NdJ("ngModelChange",function(a){t.CHM(e);const p=t.oxw();return t.KtG(p.itemRef=a)})("ngModelChange",function(a){t.CHM(e);const p=t.oxw();return t.KtG(p.itemRef$.next(a))}),t.qZA(),t.TgZ(7,"span",20)(8,"span"),t._UZ(9,"i",21),t.qZA()()()(),t.TgZ(10,"div",16)(11,"label",17),t._uU(12),t.qZA(),t.TgZ(13,"div",18)(14,"input",19),t.NdJ("ngModelChange",function(a){t.CHM(e);const p=t.oxw();return t.KtG(p.failureCause=a)})("ngModelChange",function(a){t.CHM(e);const p=t.oxw();return t.KtG(p.failureCause$.next(a))}),t.qZA(),t.TgZ(15,"span",20)(16,"span"),t._UZ(17,"i",21),t.qZA()()()()(),t.TgZ(18,"app-datatable",22,23),t.NdJ("pageChanged",function(a){t.CHM(e);const p=t.oxw();return t.KtG(p.pageChanged(a))}),t.YNc(20,P,24,20,"ng-template",null,24,t.W1O),t.qZA()()}if(2&d){const e=t.oxw();t.xp6(4),t.hij(" ","ITEM Ref",": "),t.xp6(2),t.Q6J("ngModel",e.itemRef),t.xp6(6),t.hij(" ","failure cause",": "),t.xp6(2),t.Q6J("ngModel",e.failureCause),t.xp6(4),t.Q6J("headers",e.tableHeaders)("items",e.data)("pagination",e.pagination)}}function H(d,g){if(1&d){const e=t.EpF();t.TgZ(0,"div",38)(1,"h1"),t._uU(2," Change Data "),t.qZA(),t.TgZ(3,"div",39)(4,"div",40),t._uU(5," Item index: "),t.qZA(),t.TgZ(6,"div",41)(7,"input",42),t.NdJ("ngModelChange",function(a){t.CHM(e);const p=t.oxw();return t.KtG(p.changeData.itemIndex=a)}),t.qZA()()(),t.TgZ(8,"div",39)(9,"div",40),t._uU(10," FunctionalFailureMode: "),t.qZA(),t.TgZ(11,"div",41)(12,"input",42),t.NdJ("ngModelChange",function(a){t.CHM(e);const p=t.oxw();return t.KtG(p.changeData.functionalFailureMode=a)}),t.qZA()()(),t.TgZ(13,"div",39)(14,"div",40),t._uU(15," Failure Causes: "),t.qZA(),t.TgZ(16,"div",41)(17,"input",42),t.NdJ("ngModelChange",function(a){t.CHM(e);const p=t.oxw();return t.KtG(p.changeData.failureCauses=a)}),t.qZA()()(),t.TgZ(18,"div",43)(19,"button",44),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.cancelHandle())}),t._uU(20,"CANCEL"),t.qZA(),t.TgZ(21,"button",45),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.saveHandle())}),t._uU(22,"SAVE"),t.qZA()()()}if(2&d){const e=t.oxw();t.xp6(7),t.Q6J("ngModel",e.changeData.itemIndex),t.xp6(5),t.Q6J("ngModel",e.changeData.functionalFailureMode),t.xp6(5),t.Q6J("ngModel",e.changeData.failureCauses)}}let B=(()=>{class d extends w.Gw{constructor(e,i){super(),this.fmeca=e,this.translate=i,this.modalMsg="",this.changeData={},this.keyword="",this.keyword$=new x.xQ,this.itemRef="",this.itemRef$=new x.xQ,this.failureCause="",this.failureCause$=new x.xQ,this.dataShow=!0,this.successShow=!1,this.carPark="",this.carParkss=[{value:1,name:"\u5f20\u4e09"}],this.tableHeaders=[{text:"",width:"20px"},{text:"PCR index",column:"Location",width:"150px"},{text:"Item index",column:"Location",width:"150px"},{text:"Item Ref",column:"Location",width:"150px"},{text:"functionalFailureMode",column:"Location",width:"200px"},{text:"Failure Causes",column:"Location",width:"150px"},{text:"Actions",width:"100px"}],this.loading=!1,this.data=[]}get filterParams(){return{sort:"id,desc",item:this.itemRef,failureCase:this.failureCause}}reloadData(){this.reloadDataService(this.fmeca)}pageChanged(e){this.pagination=e,this.reloadData()}getDaySeasonList(){this.loading=!0}ngOnInit(){this.itemRef$.debounceTime(500).subscribe(()=>{this.reloadData()}),this.failureCause$.debounceTime(500).subscribe(()=>{this.reloadData()}),this.reloadData()}editeData(e){this.changeData=e,this.dataShow=!1}cancelHandle(){this.dataShow=!0,this.changeData={}}saveHandle(){this.dataShow=!0,this.fmeca.changeInformation(this.changeData).subscribe(e=>{this.reloadDataService(this.fmeca)}),this.changeData={}}clearHandle(e){this.fmeca.clearHandle(e).subscribe(i=>{this.reloadDataService(this.fmeca)})}getVisitDate(e){this.startTime=Z(e[0]).format(),this.endTime=Z(e[1]).format(),console.log(this.startTime,this.endTime),this.reloadDataService(this.fmeca)}exportExcel(){this.fmeca.exportCondo(this.filterParams,this.pagination).subscribe(e=>{(0,T.saveAs)(e,"FMECA.csv")})}importExcel(){this.inputfile.nativeElement.click()}importMembers(e){const i=new FormData;i.append("file",e),this.fmeca.importCondo(i).subscribe(a=>{a.total&&(this.successShow=!0,setTimeout(()=>{this.successShow=!1},2e3))})}}return d.\u0275fac=function(e){return new(e||d)(t.Y36(m),t.Y36(s.sK))},d.\u0275cmp=t.Xpm({type:d,selectors:[["app-fmeca"]],viewQuery:function(e,i){if(1&e&&(t.Gf(v,5),t.Gf(F,5)),2&e){let a;t.iGM(a=t.CRH())&&(i.inputfile=a.first),t.iGM(a=t.CRH())&&(i.confirmModal=a.first)}},features:[t.qOj],decls:16,vars:3,consts:[[1,"body-wrapper"],[1,"head-line"],["class","alert alert-success","role","alert",4,"ngIf"],[1,"right-btn"],["type","file","accept",".csv,audio/*,video/*,image/*",2,"display","none",3,"change"],["inputfile",""],["type","button",1,"btn","btn-default","importBtn",3,"click"],["type","button",1,"btn","btn-default","exportBtn",3,"click"],[1,"m-content"],[1,"m-portlet","m-portlet--tabs"],[1,"m-portlet__body","m-portlet__body--scrollable"],["class","m-portlet__frame",4,"ngIf"],["class","m-portlet__frame  create-data-form",4,"ngIf"],["role","alert",1,"alert","alert-success"],[1,"m-portlet__frame"],[1,"form-group"],[1,"m-portlet__filter"],[1,"col-form-label","col-form-label-nowrap"],[1,"m-input-icon","m-input-icon--left"],["type","text","placeholder","",1,"form-control","m-input","selectAreas",3,"ngModel","ngModelChange"],[1,"m-input-icon__icon","m-input-icon__icon--left"],[1,"la","la-search"],[3,"headers","items","pagination","pageChanged"],["driverTable",""],["rowTemplate",""],[1,"m-datatable__cell","text-center",3,"click"],[1,"fa","text-primary",3,"ngClass"],[1,"m-datatable__cell"],[1,"m-datatable__cell","action-cell"],[1,"cell-actions"],["dropdown","","placement","bottom right"],["dropdownToggle","",1,"btn","btn-outline-primary","m-btn","m-btn--icon","m-btn--icon-only","m-btn--custom","m-btn--outline-2x","m-btn--pill","no-border"],[1,"la","la-ellipsis-h"],["class","dropdown-menu dropdown-menu-right","role","menu",4,"dropdownMenu"],["role","menu",1,"dropdown-menu","dropdown-menu-right"],[3,"click"],[1,"dropdown-item"],[1,"la","la-edit"],[1,"m-portlet__frame","create-data-form"],[1,"row"],[1,"col-md-3"],[1,"col-md-8"],["type","text",1,"col-md-12",3,"ngModel","ngModelChange"],[1,"btn-area"],["type","button",1,"btn","btn-default","btn-calcel",3,"click"],["type","button",1,"btn","btn-default","btn-save",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"app-title-bar"),t.YNc(3,U,2,0,"div",2),t.TgZ(4,"div",3)(5,"input",4,5),t.NdJ("change",function(p){return i.importMembers(p.target.files[0])}),t.qZA(),t.TgZ(7,"button",6),t.NdJ("click",function(){return i.importExcel()}),t._uU(8," import"),t.qZA(),t.TgZ(9,"button",7),t.NdJ("click",function(){return i.exportExcel()}),t._uU(10," export"),t.qZA()()(),t.TgZ(11,"div",8)(12,"div",9)(13,"div",10),t.YNc(14,D,22,7,"div",11),t.YNc(15,H,23,3,"div",12),t.qZA()()()()),2&e&&(t.xp6(3),t.Q6J("ngIf",i.successShow),t.xp6(11),t.Q6J("ngIf",1==i.dataShow),t.xp6(1),t.Q6J("ngIf",0==i.dataShow))},dependencies:[b.mk,b.O5,u.G,h.Uo,_.Fj,_.JJ,_.On,w.nE,C.Hz,C.Mq,C.TO],styles:["h1[_ngcontent-%COMP%]{font-weight:500;font-size:24px}.selectAreas[_ngcontent-%COMP%]{width:300px}.head-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end}.create-btn[_ngcontent-%COMP%]{height:40px;width:200px!important}.btnss[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.btnss[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:200px;height:42px;display:flex;justify-content:center;align-items:center;border-radius:5px;border:1px solid #00bdb5;margin-right:20px;font-size:16x;cursor:pointer;font-weight:500}.col-form-label[_ngcontent-%COMP%]{font-weight:500;font-size:16px;width:90px}.btnss[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:120px!important;margin-left:20px}.btnss[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-of-type(1){color:#00bdb5}.btnss[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-of-type(2){color:#fff;background-color:#00bdb5}.form-group[_ngcontent-%COMP%]{display:flex!important;justify-content:space-between}.m-portlet__filter[_ngcontent-%COMP%]{display:flex;margin-right:10px!important;justify-content:center;align-items:center;width:24%}.form-control[_ngcontent-%COMP%]{width:200px!important}.col-form-label-nowrap[_ngcontent-%COMP%]{width:auto;text-align:end}.create-data-form[_ngcontent-%COMP%]{border-radius:20px;height:70vh;box-sizing:border-box;padding:20px}.location[_ngcontent-%COMP%]{font-size:20px}.choose-titles[_ngcontent-%COMP%]{display:flex!important;justify-content:space-between!important}.tit-options[_ngcontent-%COMP%]{width:20%;font-size:20px}.form-control[_ngcontent-%COMP%]{width:20%;height:40px}.big-title[_ngcontent-%COMP%]{margin-top:20px}.tit-options-33[_ngcontent-%COMP%]{width:30%;font-size:20px}.form-control-33[_ngcontent-%COMP%]{width:30%;height:40px}.tit-options-40[_ngcontent-%COMP%]{width:40%;font-size:20px;margin-top:20px}.btn-area[_ngcontent-%COMP%]{display:flex!important;justify-content:flex-end!important}.btn-default[_ngcontent-%COMP%]{width:100px;margin-right:30px}.btn-calcel[_ngcontent-%COMP%]{border-color:#00bdb5;color:#00bdb5}.btn-save[_ngcontent-%COMP%]{color:#fff;background-color:#00bdb5}.selectAreas[_ngcontent-%COMP%]{width:200px}.exportBtn[_ngcontent-%COMP%]{color:#fff;background-color:#00bdb5;height:40px}.right-btn[_ngcontent-%COMP%]{display:flex;width:30%}.importBtn[_ngcontent-%COMP%]{color:#00bdb5;background-color:#fff;height:40px}.row[_ngcontent-%COMP%]{font-size:24px;display:flex!important;margin-top:20px;margin-bottom:20px}.col-md-3[_ngcontent-%COMP%]{text-align:end}.alert-success[_ngcontent-%COMP%]{position:absolute;top:10%;left:50%}"]}),d})();var L=r(59501),R=r(34793),j=r(21532),I=r(88796),J=r(30329),S=r(372);const N=[{path:"",component:L.f,children:[{path:"",component:B}]}];let k=(()=>{class d{}return d.\u0275fac=function(e){return new(e||d)},d.\u0275mod=t.oAB({type:d}),d.\u0275inj=t.cJS({providers:[m],imports:[b.ez,j.x,R.Bz.forChild(N),I.A0,_.u5,_.UX,J.D,S.kn,C.mr]}),d})()},94327:function(O,y){var w;void 0!==(w=function(){"use strict";function x(l,c,f){var o=new XMLHttpRequest;o.open("GET",l),o.responseType="blob",o.onload=function(){M(o.response,c,f)},o.onerror=function(){console.error("could not download file")},o.send()}function Z(l){var c=new XMLHttpRequest;c.open("HEAD",l,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function T(l){try{l.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),l.dispatchEvent(c)}}var t="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,A=t.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),M=t.saveAs||("object"!=typeof window||window!==t?function(){}:"download"in HTMLAnchorElement.prototype&&!A?function(l,c,f){var o=t.URL||t.webkitURL,m=document.createElement("a");m.download=c=c||l.name||"download",m.rel="noopener","string"==typeof l?(m.href=l,m.origin===location.origin?T(m):Z(m.href)?x(l,c,f):T(m,m.target="_blank")):(m.href=o.createObjectURL(l),setTimeout(function(){o.revokeObjectURL(m.href)},4e4),setTimeout(function(){T(m)},0))}:"msSaveOrOpenBlob"in navigator?function(l,c,f){if(c=c||l.name||"download","string"!=typeof l)navigator.msSaveOrOpenBlob(function n(l,c){return typeof c>"u"?c={autoBom:!1}:"object"!=typeof c&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(l.type)?new Blob(["\ufeff",l],{type:l.type}):l}(l,f),c);else if(Z(l))x(l,c,f);else{var o=document.createElement("a");o.href=l,o.target="_blank",setTimeout(function(){T(o)})}}:function(l,c,f,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof l)return x(l,c,f);var m="application/octet-stream"===l.type,s=/constructor/i.test(t.HTMLElement)||t.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||m&&s||A)&&typeof FileReader<"u"){var h=new FileReader;h.onloadend=function(){var v=h.result;v=u?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=v:location=v,o=null},h.readAsDataURL(l)}else{var _=t.URL||t.webkitURL,C=_.createObjectURL(l);o?o.location=C:location.href=C,o=null,setTimeout(function(){_.revokeObjectURL(C)},4e4)}});t.saveAs=M.saveAs=M,O.exports=M}.apply(y,[]))&&(O.exports=w)}}]);