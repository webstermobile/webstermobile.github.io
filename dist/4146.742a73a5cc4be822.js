"use strict";(self.webpackChunkst_admin=self.webpackChunkst_admin||[]).push([[4146],{76916:(f,M,_)=>{_.d(M,{G:()=>C});var m=_(34793),v=_(92198),p=_(38014),t=_(94650),c=_(89383),O=_(60097),E=_(36895);function P(a,r){if(1&a&&(t.TgZ(0,"a",14)(1,"span",15),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&a){const n=t.oxw().$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,1,n.label)," ")}}function g(a,r){if(1&a&&(t.TgZ(0,"a",16)(1,"span",15),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&a){const n=t.oxw(),s=n.$implicit,o=n.last,e=t.oxw(2);t.Q6J("routerLink",s.url)("queryParams",o&&e.route.snapshot.queryParams),t.xp6(2),t.hij(" ",t.lcZ(3,3,s.label)," ")}}function D(a,r){if(1&a&&(t.ynx(0),t.TgZ(1,"li",10)(2,"span"),t._uU(3," > "),t.qZA()(),t.TgZ(4,"li",11),t.YNc(5,P,4,3,"a",12),t.YNc(6,g,4,5,"a",13),t.qZA(),t.BQk()),2&a){const n=r.first;t.xp6(5),t.Q6J("ngIf",n),t.xp6(1),t.Q6J("ngIf",!n)}}function d(a,r){if(1&a){const n=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3),t._UZ(3,"h3",4),t.TgZ(4,"ul",5)(5,"li",6)(6,"a",7),t.NdJ("click",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.jumpHome())}),t._UZ(7,"i",8),t.qZA()(),t.YNc(8,D,7,2,"ng-container",9),t.qZA()(),t.TgZ(9,"div"),t.Hsn(10),t.qZA()()()}if(2&a){const n=t.oxw();t.xp6(3),t.Q6J("innerHTML",n.title,t.oJD),t.xp6(5),t.Q6J("ngForOf",n.breads)}}const T=["*"];let C=(()=>{class a{constructor(n,s,o,e){this.router=n,this.route=s,this.translate=o,this._carparkService=e,this.breads=[],this.loginUser=""}ngOnInit(){let n=JSON.parse(localStorage.getItem("user-roles"))[0];this.loginUser=n,console.log(this.loginUser,"\u4fe1\u606f"),this.breads=this.buildBreadCrumb(this.route.root),this.translate.get(this.breads[0].label).subscribe(o=>{this.label=o}),this.router.events.pipe((0,v.h)(o=>o instanceof m.m2)).subscribe(()=>{this.breads=this.buildBreadCrumb(this.route.root)})}buildBreadCrumb(n,s=[""],o=[]){const e=n.snapshot.url[0]&&n.snapshot.url[0].path,u=[...s,e],l={...this.extractBreadcrumb(n),url:u},h=e&&l.label?[...o,l]:o;return this.title=l.title||this.title||"",this.isMotorist&&"My Vehicle(s)"===l.label&&(this.title="My Vehicle(s)"),n.firstChild?e?this.buildBreadCrumb(n.firstChild,u,h):this.buildBreadCrumb(n.firstChild,s,o):(this.translate.get(this.title).subscribe(B=>{this.title=B}),h)}get isMotorist(){return this._carparkService.isMotorist()}extractBreadcrumb(n){return n.snapshot.data.breadcrumb instanceof Function?n.snapshot.data.breadcrumb(n):n.snapshot.data.breadcrumb}jumpHome(){let n=JSON.parse(localStorage.getItem("user-roles"))[0]??"";this.router.navigate(n.length?[p.gpL[n]]:["/"])}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(m.F0),t.Y36(m.gz),t.Y36(c.sK),t.Y36(O.x))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-title-bar"]],ngContentSelectors:T,decls:1,vars:1,consts:[["class","m-subheader",4,"ngIf"],[1,"m-subheader"],[1,"d-flex","align-items-center"],[1,"mr-auto"],[1,"m-subheader__title","m-subheader__title--separator","text-main",3,"innerHTML"],[1,"m-subheader__breadcrumbs","m-nav","m-nav--inline"],[1,"m-nav__item","m-nav__item--home"],[1,"m-nav__link","m-nav__link--icon",3,"click"],[1,"m-nav__link-icon","la","la-home"],[4,"ngFor","ngForOf"],[1,"m-nav__separator"],[1,"m-nav__item"],["class","m-nav__link",4,"ngIf"],["class","m-nav__link",3,"routerLink","queryParams",4,"ngIf"],[1,"m-nav__link"],[1,"m-nav__link-text"],[1,"m-nav__link",3,"routerLink","queryParams"]],template:function(n,s){1&n&&(t.F$t(),t.YNc(0,d,11,2,"div",0)),2&n&&t.Q6J("ngIf","ROLE_TPO_PARTNER"!==s.loginUser)},dependencies:[E.sg,E.O5,m.yS,c.X$],encapsulation:2}),a})()},85025:(f,M,_)=>{_.d(M,{x:()=>A});var m=_(82174),v=_(61643),p=_(36895),t=_(80529),c=_(24006),O=_(34793),E=_(372),P=_(30329),g=_(21532),D=_(88796),d=_(89383),T=_(19832),C=_(59245),a=_(89518),r=_(3108),n=_(22630),s=_(29252),o=_(34984),e=_(77530),u=_(15455),l=_(94650);function h(i){return new T.w(i,"../assets/i18n/",".json")}let A=(()=>{class i{}return i.\u0275fac=function(L){return new(L||i)},i.\u0275mod=l.oAB({type:i}),i.\u0275inj=l.cJS({imports:[p.ez,c.u5,O.Bz,g.x,P.D,E.kn,m.su,v.r,C.mr,D.A0,a.H3,r._,n.z,c.UX,s.E7,o.Ns.forRoot({echarts:()=>_.e(4734).then(_.bind(_,14734))}),e.v,d.aw.forChild({loader:{provide:d.Zw,useFactory:h,deps:[t.eN]}}),u.e]}),i})()}}]);