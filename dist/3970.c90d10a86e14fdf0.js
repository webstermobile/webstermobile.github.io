"use strict";(self.webpackChunkst_admin=self.webpackChunkst_admin||[]).push([[3970],{33970:(q,p,l)=>{l.r(p),l.d(p,{TenantInformationPageModule:()=>D});var s=l(36895),m=l(34793),x=l(59501),_=l(21532),M=l(88796),r=l(24006),h=l(372),b=l(30329),T=l(20388),P=l(59245),v=l(34984),n=l(94650),f=l(15770),u=l(4483),C=l(49651),O=l(76916),Z=l(35635),c=l(40269);function y(e,g){1&e&&(n.TgZ(0,"div",24),n._uU(1),n.qZA()),2&e&&(n.xp6(1),n.hij(" ","Field is required."," "))}function A(e,g){if(1&e){const t=n.EpF();n.TgZ(0,"div",5)(1,"label",6),n._uU(2),n.qZA(),n.TgZ(3,"div",7)(4,"input",25,26),n.NdJ("ngModelChange",function(o){n.CHM(t);const a=n.oxw();return n.KtG(a.actionTenantData.maxLots=o)}),n.qZA()()()}if(2&e){const t=n.oxw();n.xp6(2),n.hij(" "," Lots assigned to tenant",": "),n.xp6(2),n.Q6J("ngModel",t.actionTenantData.maxLots)}}function I(e,g){if(1&e){const t=n.EpF();n.TgZ(0,"div",5)(1,"label",6),n._uU(2),n.qZA(),n.TgZ(3,"div",7)(4,"input",27,28),n.NdJ("ngModelChange",function(o){n.CHM(t);const a=n.oxw();return n.KtG(a.actionTenantData.maxTickets=o)}),n.qZA()()()}if(2&e){const t=n.oxw();n.xp6(2),n.hij(" "," Tickets assigned to tenant",": "),n.xp6(2),n.Q6J("ngModel",t.actionTenantData.maxTickets)}}function k(e,g){if(1&e){const t=n.EpF();n.TgZ(0,"button",29),n.NdJ("click",function(){n.CHM(t);const o=n.oxw();return n.KtG(o.tenantAddCapark())}),n.TgZ(1,"span"),n._uU(2),n.qZA()()}2&e&&(n.xp6(2),n.hij(" ","Add Carpark"," "))}function J(e,g){if(1&e){const t=n.EpF();n.TgZ(0,"div")(1,"div",30)(2,"label",6),n._uU(3),n.qZA(),n.TgZ(4,"div",7)(5,"input",16),n.NdJ("ngModelChange",function(o){const d=n.CHM(t).$implicit;return n.KtG(d.firstName=o)}),n.qZA()()(),n.TgZ(6,"div",5)(7,"label",6),n._uU(8),n.qZA(),n.TgZ(9,"div",7)(10,"input",31),n.NdJ("ngModelChange",function(o){const d=n.CHM(t).$implicit;return n.KtG(d.email=o)}),n.qZA()()()()}if(2&e){const t=g.$implicit;n.xp6(3),n.hij(" ","Tenant\u2019s admin name",": "),n.xp6(2),n.Q6J("ngModel",t.firstName),n.xp6(3),n.hij(" ","Tenant\u2019s admin email",": "),n.xp6(2),n.Q6J("ngModel",t.email)}}function w(e,g){if(1&e){const t=n.EpF();n.TgZ(0,"tr")(1,"td"),n._uU(2),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.qZA(),n.TgZ(5,"td"),n._uU(6),n.qZA(),n.TgZ(7,"td")(8,"input",32),n.NdJ("ngModelChange",function(o){const d=n.CHM(t).$implicit;return n.KtG(d.ticketsQuota=o)}),n.qZA()()()}if(2&e){const t=g.$implicit;n.xp6(2),n.Oqu(t.id),n.xp6(2),n.Oqu(t.carParkCode),n.xp6(2),n.Oqu(t.totalLots),n.xp6(2),n.Q6J("ngModel",t.ticketsQuota)}}function j(e,g){if(1&e){const t=n.EpF();n.TgZ(0,"button",29),n.NdJ("click",function(){n.CHM(t);const o=n.oxw(2);return n.KtG(o.tenantGotoCreate())}),n.TgZ(1,"span"),n._uU(2),n.qZA()()}2&e&&(n.xp6(2),n.hij(" ","Save "," "))}function z(e,g){if(1&e){const t=n.EpF();n.TgZ(0,"div",33)(1,"button",34),n.NdJ("click",function(){n.CHM(t);const o=n.oxw();return n.KtG(o.tenantGoBack())}),n._uU(2," \u2190 "),n.TgZ(3,"span"),n._uU(4),n.qZA()(),n.YNc(5,j,3,1,"button",18),n.qZA()}if(2&e){const t=n.oxw();n.xp6(4),n.hij(" ","Back"," "),n.xp6(1),n.Q6J("ngIf","View"!==t.TenantActionMethod)}}const U=[{path:"",component:x.f,children:[{path:"",component:(()=>{class e{constructor(t,i,o,a){this.tenantManagementPageservicetService=t,this.ticketManagementPageservicetService=i,this.router=o,this.message=a,this.TenantActionMethod="Edit",this.actionTenantData={tenantId:null,tenantName:"",adminLogin:"",adminEmail:"",tower:"",level:"",maxLots:null,maxTickets:null,status:null,ticketsAssigned:null,unit:"",updateBy:null,updateTime:null,hpNumber:null,debtorAcct:"",businessId:"",tenantAdmins:[]},this.dialogChooseCarparks=[]}ngOnInit(){this.getTenantInfo()}getTenantInfo(){this.ticketManagementPageservicetService.getTenantsInformation().subscribe(t=>{if(200===t.code&&null===t.data)return this.message.info("Please bind the relevant tenant first"),void this.router.navigate(["tenant_login"]);this.actionTenantData={...t.data},this.actionTenantData.tenantAdmins=t.data.tenantAdmins??[],localStorage.setItem("tenantId",t.data.tenantId),this.tenantManagementPageservicetService.getTenantChildCarprk(t.data.tenantId).subscribe(i=>{let o=i.data.carParkLotsList??[];o.forEach(a=>{a.ticketsQuota=a.maxLots,a.id=a.carPark.id,a.carParkCode=a.carPark.carParkCode,a.totalLots=a.carPark.totalLots}),this.dialogChooseCarparks=o})})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(f.D),n.Y36(u.y),n.Y36(m.F0),n.Y36(C.dD))},e.\u0275cmp=n.Xpm({type:e,selectors:[["tenent-information"]],decls:70,vars:19,consts:[[1,"body-wrapper"],[1,"m-content"],[1,"m-portlet","m-portlet--tabs"],[1,"m-portlet__body","m-portlet__body--scrollable"],[2,"display","flex"],[1,"row","form-group","col-6"],[1,"form-input-label","col-5","text-right"],[1,"col-7"],["nz-input","","disabled","","type","text","name","tenantCompanyName","required","",3,"ngModel","ngModelChange"],["tenantCompanyName","ngModel"],["class","form-control-feedback",4,"ngIf"],["nz-input","","disabled","","type","text","name","tower",3,"ngModel","ngModelChange"],["tower","ngModel"],["nz-input","","disabled","","type","text","name","Level",3,"ngModel","ngModelChange"],["nz-input","","disabled","","type","text","name","Unit",3,"ngModel","ngModelChange"],["class","row form-group col-6",4,"ngIf"],["nz-input","","disabled","","type","text",3,"ngModel","ngModelChange"],[2,"display","flex","justify-content","space-between"],["class","btn btn-main m-btn m-btn--custom m-btn--icon m-btn--air m-btn--pill","style","display: flex; align-items: center; height: 44px",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"dialogChooseCarpark"],[1,"list-group"],["nzTemplateMode",""],["style","display: flex; justify-content: flex-end",4,"ngIf"],[1,"form-control-feedback"],["nz-input","","disabled","","type","text","name","Lotsassignedtotenant","required","","type","number","placeholder","number",3,"ngModel","ngModelChange"],["Lotsassignedtotenant","ngModel"],["nz-input","","disabled","","type","text","name","Ticketsassignedtotenant","required","","type","number","placeholder","number",3,"ngModel","ngModelChange"],["Ticketsassignedtotenant","ngModel"],[1,"btn","btn-main","m-btn","m-btn--custom","m-btn--icon","m-btn--air","m-btn--pill",2,"display","flex","align-items","center","height","44px",3,"click"],[1,"row","form-group","col-6","mt-3"],["nz-input","","disabled","","type","text","name","Tenantadminemail",3,"ngModel","ngModelChange"],["nz-input","","type","number","disabled","",3,"ngModel","ngModelChange"],[2,"display","flex","justify-content","flex-end"],[1,"btn","btn-main","m-btn","m-btn--custom","m-btn--icon","m-btn--air","m-btn--pill","backbtn",2,"display","flex","align-items","center","height","44px","background-color","white","border","2px solid #00bdb5","color","#00bdb5",3,"click"]],template:function(t,i){if(1&t&&(n.TgZ(0,"div",0),n._UZ(1,"app-title-bar"),n.TgZ(2,"div",1)(3,"div",2)(4,"section")(5,"div",1)(6,"h4"),n._uU(7,"Tenant Information"),n.qZA(),n.TgZ(8,"div",3)(9,"div",4)(10,"div",5)(11,"label",6),n._uU(12),n.qZA(),n.TgZ(13,"div",7)(14,"input",8,9),n.NdJ("ngModelChange",function(a){return i.actionTenantData.tenantName=a}),n.qZA(),n.YNc(16,y,2,1,"div",10),n.qZA()(),n.TgZ(17,"div",5)(18,"label",6),n._uU(19),n.qZA(),n.TgZ(20,"div",7)(21,"input",11,12),n.NdJ("ngModelChange",function(a){return i.actionTenantData.tower=a}),n.qZA()()()(),n.TgZ(23,"div",4)(24,"div",5)(25,"label",6),n._uU(26),n.qZA(),n.TgZ(27,"div",7)(28,"input",13),n.NdJ("ngModelChange",function(a){return i.actionTenantData.level=a}),n.qZA()()(),n.TgZ(29,"div",5)(30,"label",6),n._uU(31),n.qZA(),n.TgZ(32,"div",7)(33,"input",14),n.NdJ("ngModelChange",function(a){return i.actionTenantData.unit=a}),n.qZA()()()(),n.TgZ(34,"div",4),n.YNc(35,A,6,2,"div",15),n.YNc(36,I,6,2,"div",15),n.qZA(),n.TgZ(37,"div",4)(38,"div",5)(39,"label",6),n._uU(40),n.qZA(),n.TgZ(41,"div",7)(42,"input",16),n.NdJ("ngModelChange",function(a){return i.actionTenantData.debtorAcct=a}),n.qZA()()(),n.TgZ(43,"div",5)(44,"label",6),n._uU(45),n.qZA(),n.TgZ(46,"div",7)(47,"input",16),n.NdJ("ngModelChange",function(a){return i.actionTenantData.businessId=a}),n.qZA()()()(),n._UZ(48,"hr"),n.TgZ(49,"h5",17)(50,"span"),n._uU(51," Tenant Admin information "),n.qZA(),n.YNc(52,k,3,1,"button",18),n.qZA(),n.YNc(53,J,11,4,"div",19),n.TgZ(54,"section",20)(55,"div",21)(56,"nz-table",22)(57,"thead")(58,"tr")(59,"th"),n._uU(60,"#"),n.qZA(),n.TgZ(61,"th"),n._uU(62,"Car Park"),n.qZA(),n.TgZ(63,"th"),n._uU(64,"Lots Quota"),n.qZA(),n.TgZ(65,"th"),n._uU(66,"Tickets Allocated"),n.qZA()()(),n.TgZ(67,"tbody"),n.YNc(68,w,9,4,"tr",19),n.qZA()()()(),n.YNc(69,z,6,2,"div",23),n.qZA()()()()()()),2&t){const o=n.MAs(15);n.xp6(12),n.hij(" ","Tenant company name",": "),n.xp6(2),n.Q6J("ngModel",i.actionTenantData.tenantName),n.xp6(2),n.Q6J("ngIf",o.invalid&&(o.dirty||o.touched)),n.xp6(3),n.hij(" ","Tower",": "),n.xp6(2),n.Q6J("ngModel",i.actionTenantData.tower),n.xp6(5),n.hij(" ","Level",": "),n.xp6(2),n.Q6J("ngModel",i.actionTenantData.level),n.xp6(3),n.hij(" ","Unit",": "),n.xp6(2),n.Q6J("ngModel",i.actionTenantData.unit),n.xp6(2),n.Q6J("ngIf",!1),n.xp6(1),n.Q6J("ngIf",!1),n.xp6(4),n.hij(" ","Debtor Acc.",": "),n.xp6(2),n.Q6J("ngModel",i.actionTenantData.debtorAcct),n.xp6(3),n.hij(" ","Business ID.",": "),n.xp6(2),n.Q6J("ngModel",i.actionTenantData.businessId),n.xp6(5),n.Q6J("ngIf",!1),n.xp6(1),n.Q6J("ngForOf",i.actionTenantData.tenantAdmins),n.xp6(15),n.Q6J("ngForOf",i.dialogChooseCarparks),n.xp6(1),n.Q6J("ngIf",!1)}},dependencies:[s.sg,s.O5,O.G,Z.Zp,c.N8,c.Uo,c._C,c.Om,c.p0,c.$Z,r.Fj,r.wV,r.JJ,r.Q7,r.On],styles:['@charset "UTF-8";.backbtn[_ngcontent-%COMP%]:hover{color:#000!important}.text-right[_ngcontent-%COMP%]{font-weight:500!important;font-size:16px!important}.CilckStyle[_ngcontent-%COMP%]{border-bottom:3px solid #00bdb5}.top-line[_ngcontent-%COMP%]{display:flex}.top-line-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;margin-right:40px}.top-line-right[_ngcontent-%COMP%]{display:flex}.top-line-right-options[_ngcontent-%COMP%]{margin:0 20px;font-weight:500}.action-line[_ngcontent-%COMP%]{margin-bottom:6px;display:flex;align-items:center;justify-content:space-between}.SearchBox[_ngcontent-%COMP%]{display:flex;width:25%;margin:0 20px;font-size:16px;font-weight:500;position:relative;padding-bottom:0!important}.time-search[_ngcontent-%COMP%]{display:flex;width:20%;margin:0 20px 0 0;font-size:16px;font-weight:500;position:relative}.SearchLabel[_ngcontent-%COMP%]{margin-right:16px;font-size:16px;font-weight:500}.addCardTitle[_ngcontent-%COMP%]{margin:0 16px}.actionLineBtn[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.actionLineBtn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:16px}.addCardFooter[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.addCardFooter[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]{margin:0 16px}.assignSelectTitle[_ngcontent-%COMP%]{display:flex;align-items:center}.assignSelect[_ngcontent-%COMP%]{margin-left:20px}.assignSelect-topLine[_ngcontent-%COMP%]{margin:16px 0}.action-btn[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-bottom:16px}.action-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:16px}.editAction[_ngcontent-%COMP%], .view-icon[_ngcontent-%COMP%], .deleteAction[_ngcontent-%COMP%], .lostAction[_ngcontent-%COMP%], .stopUseAction[_ngcontent-%COMP%], .cancellostAction[_ngcontent-%COMP%]{cursor:pointer}.reduceBtn[_ngcontent-%COMP%]{line-height:40px!important;justify-content:center!important;border-radius:40px!important;width:40px!important;height:40px!important;background-color:#fff!important;border:2px solid #00bdb5!important;color:#00bdb5!important;font-size:1px}.border-none[_ngcontent-%COMP%]{box-sizing:border-box;border:none}.border-style[_ngcontent-%COMP%]{border-bottom:1px solid white}.dash-box[_ngcontent-%COMP%]{display:flex;justify-content:space-between;color:#fff}.box-unnormal[_ngcontent-%COMP%]{height:120px;margin-bottom:12px;padding:12px}.box-unnormal[_ngcontent-%COMP%]   .ticket-info[_ngcontent-%COMP%]{box-sizing:border-box;padding:0 1px 0 0;border-right:1px solid white;display:flex;flex-direction:column;justify-content:space-between}.box-unnormal[_ngcontent-%COMP%]   .ticket-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-size:16px}.box-unnormal[_ngcontent-%COMP%]   .ticket-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{font-size:28px}.box-unnormal[_ngcontent-%COMP%]   .assign-info-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-evenly}.box-unnormal[_ngcontent-%COMP%]   .assign-info-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-size:16px}.box-unnormal[_ngcontent-%COMP%]   .assign-info-box[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0}.box-normal[_ngcontent-%COMP%]{height:120px;display:flex;flex-direction:column;justify-content:space-evenly;margin-bottom:12px;padding:15px}.box-normal[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-size:16px}.box-normal[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{text-align:right;font-size:28px}.status-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;width:100%;border-radius:30%;text-align:center;font-weight:600}.modal-header[_ngcontent-%COMP%]{position:relative}.modal-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0 auto}.modal-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:0;right:0;cursor:pointer;font-size:20px;font-weight:700}.tenant-table-action[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.tenant-table-action[_ngcontent-%COMP%]   .tenant-btn-group[_ngcontent-%COMP%]{display:flex;width:auto}.m-font-weight-600[_ngcontent-%COMP%]{font-weight:600}.m-font-weight-500[_ngcontent-%COMP%]{font-weight:500}.td-word-wrap[_ngcontent-%COMP%]{word-break:break-all!important}.action-btn-font[_ngcontent-%COMP%]{font-size:16px}.tenant-admin-info[_ngcontent-%COMP%]{display:flex;align-items:center}.tenant-admin-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:6px}.tenant-info[_ngcontent-%COMP%]{display:flex;align-items:center}.tenant-info[_ngcontent-%COMP%]   .email-act[_ngcontent-%COMP%]{cursor:pointer}.edit-tenant-main[_ngcontent-%COMP%]{position:relative}.edit-tenant-main[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{position:absolute;right:16px;top:16px;cursor:pointer}.btn-form-ops[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.btn-form-ops[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{margin-left:6px}.ticket-tb-act[_ngcontent-%COMP%]{display:flex;align-items:center}.ticket-tb-act[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer}',".form-input-label[_ngcontent-%COMP%]{height:35px;display:flex;align-items:center;justify-content:flex-end}"]}),e})()}]}];let D=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({providers:[u.y,f.D],imports:[s.ez,_.x,m.Bz.forChild(U),M.A0,r.u5,r.UX,b.D,h.kn,P.mr,v.Ns.forRoot({echarts:()=>l.e(4734).then(l.bind(l,14734))}),T.zk,C.gR]}),e})()}}]);