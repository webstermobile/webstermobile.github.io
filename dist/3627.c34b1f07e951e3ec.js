"use strict";(self.webpackChunkst_admin=self.webpackChunkst_admin||[]).push([[3627],{76284:(P,y,t)=>{t.d(y,{z:()=>C});var o=t(3927),_=t(94650),a=t(80529),M=t(28555),O=t(11481),E=t(91599);let C=(()=>{class e extends o.su{constructor(l,f,s,p){super(l,f),this.http=l,this.store=f,this.sanitizer=s,this.modelName="User",this.baseUrl="",this.handleError=p.createHandleError(`${this.modelName}Service`)}uploadImage(l){const f=this.getUrl("carpark/api/assets/img"),s=new FormData;return s.append("file",l,l.name),this.post(f,s).map(({uuid:p})=>this.getImage(p))}getImage(l){return this.getUrl(`carpark/api/resources/${l}`)}getImageByUuid(l,f){return this.get(this.getUrl(`carpark/api/resources/${l}`),{responseType:"blob"}).map(s=>f?this._getSafeFileUrl(s):this.getSafeFileUrl(s))}getSafeFileUrl(l){return this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(l))}_getSafeFileUrl(l){return{imgUrl:this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(l)),type:l.type}}requestSessionImage(l,f){const s=this.getUrl(`carpark/api/anpr/request/${l}/${f}`);return this.get(s,{responseType:"text"})}getSessionImage(l){return this.get(this.getUrl(`carpark/api/anpr/assets/${l}/1`),{responseType:"blob"}).map(f=>this.getSafeFileUrl(f))}}return e.\u0275fac=function(l){return new(l||e)(_.LFG(a.eN),_.LFG(M.yh),_.LFG(O.H7),_.LFG(E.k))},e.\u0275prov=_.Yz7({token:e,factory:e.\u0275fac}),e})()},92935:(P,y,t)=>{t.d(y,{$:()=>x}),t(38014);var _=t(3927),a=t(27221),M=t(26245),O=t(94650),E=t(80529),C=t(28555),e=t(91599);let x=(()=>{class l extends _.su{constructor(s,p,g){super(s,p),this.http=s,this.store=p,this.modelName="WalkInRecord",this.baseUrl="carpark/api/condo/queryVisitorWalkIn",this.handleError=g.createHandleError(`${this.modelName}Service`)}filterModel(s,p){const g=(0,M.U8)(`${this.baseUrl}`,{...s,...(0,M.jq)(p)});return this.get(this.getUrl(g)).pipe((0,a.K)(this.handleError(`${this.modelName}Filter`,{}))).map(i=>Array.isArray(i)?(0,_.eC)(i):(0,_.O7)(i))}clearHandle(s){const p=this.getUrl(`maintenance/api/transaction?id=${s||""}`);return console.log(p,"\u8def\u5f84"),this.delete(p)}exportEecel(s,p){const g=(0,M.U8)("carpark/api/condo/exportWalkIn",{...s,...(0,M.jq)(p)});return this.get(this.getUrl(g),{responseType:"blob"})}}return l.\u0275fac=function(s){return new(s||l)(O.LFG(E.eN),O.LFG(C.yh),O.LFG(e.k))},l.\u0275prov=O.Yz7({token:l,factory:l.\u0275fac}),l})()},52746:(P,y,t)=>{t.d(y,{t:()=>M});var o=t(72986),_=t(591),a=t(94650);let M=(()=>{class O{constructor(){this.loading=!1,this.pagination={totalCount:0,rowsPerPage:20,page:1,sortBy:null,descending:!0,totalPages:1},this.listData=[],this.hadGetData$=new _.X(!1)}get hadGetData(){return this.hadGetData$.getValue()}get filterParams(){return this._filterParams}set filterParams(C){this._filterParams=C}reloadDataService(C,e="filterModel"){this.loading=!0,this.hadGetData$.next(!1),C[e](this.filterParams,this.pagination).pipe((0,o.q)(1)).subscribe(x=>{if(x.pagination.page>x.pagination.totalPages)return this.pagination={...this.pagination,page:x.pagination.totalPages},this.reloadDataService(C);this.loading=!1,this.pagination={...this.pagination,totalCount:x.pagination.totalCount||x.pagination.totalElements},this.listData=x.data,this.hadGetData$.next(!0)},()=>{this.loading=!1,this.listData=[],this.pagination={...this.pagination,totalCount:0}})}onQueryParamsChange(C){const{pageSize:e,pageIndex:x}=C;this.pagination={...this.pagination,rowsPerPage:e,page:x},this.reloadData()}reloadData(){}ngOnInit(){}}return O.\u0275fac=function(C){return new(C||O)},O.\u0275cmp=a.Xpm({type:O,selectors:[["ng-component"]],decls:0,vars:0,template:function(C,e){},encapsulation:2}),O})()},67869:(P,y,t)=>{t.d(y,{F:()=>x});var o=t(94650),_=t(8929),a=t(11481),M=t(76284),O=t(36895),E=t(89383);function C(l,f){if(1&l&&(o.TgZ(0,"div",5)(1,"h3",6),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"span",7),o._uU(5),o.ALo(6,"translate"),o.qZA()()),2&l){const s=o.oxw();o.xp6(2),o.hij("",o.lcZ(3,2,s.textWaysUploading),"."),o.xp6(3),o.hij(" ",o.lcZ(6,4,s.textImageAllowed)," ")}}function e(l,f){if(1&l&&(o.TgZ(0,"div"),o._UZ(1,"img",8),o.qZA()),2&l){const s=o.oxw();o.xp6(1),o.Q6J("src",s.fileToUploadUrl,o.LSH)}}let x=(()=>{class l{constructor(s,p){this.sanitizer=s,this.assetsService=p,this.disableTextDefault=!1,this.checkImage=!1,this.imageChanged=new o.vpe,this.errorMsg=new o.vpe,this.fileToUpload=null,this.dragEvent$=new _.xQ,this.textWaysUploading="Drop files here or click to upload.",this.textImageAllowed="Only image files are allowed for upload",this.limitImage={minWidth:465,maxWidth:480,minHeight:310,maxHeight:320}}ngOnInit(){this.fileToUploadUrl=this.image,this.disableTextDefault&&(this.textWaysUploading="",this.textImageAllowed="")}handleFileInput(s){if(this.fileToUpload=s.item(0),!this.checkImage)return this.fileToUploadUrl=this.fileToUpload?this.assetsService.getSafeFileUrl(this.fileToUpload):this.fileToUpload,void this.imageChanged.emit(this.fileToUpload);this.checkImageDimensions()}onDrop(s){if(s.preventDefault(),this.fileToUpload=s.dataTransfer.files.item(0),!this.checkImage)return this.fileToUploadUrl=this.fileToUpload?this.assetsService.getSafeFileUrl(this.fileToUpload):this.fileToUpload,void this.imageChanged.emit(this.fileToUpload);this.checkImageDimensions()}onDragOver(s){s.stopPropagation(),s.preventDefault()}checkImageDimensions(){if(this.fileToUpload){let s=new FileReader;s.readAsDataURL(this.fileToUpload),s.onload=p=>{const g=new Image;g.src=s.result,g.onload=()=>{const i=g.naturalHeight,r=g.naturalWidth;r>=this.limitImage.minWidth&&r<=this.limitImage.maxWidth&&i>=this.limitImage.minHeight&&i<=this.limitImage.maxHeight?(this.fileToUploadUrl=this.fileToUpload?this.assetsService.getSafeFileUrl(this.fileToUpload):this.fileToUpload,this.imageChanged.emit(this.fileToUpload)):this.errorMsg.emit(!0)}}}}}return l.\u0275fac=function(s){return new(s||l)(o.Y36(a.H7),o.Y36(M.z))},l.\u0275cmp=o.Xpm({type:l,selectors:[["app-image-input"]],inputs:{image:"image",disableTextDefault:"disableTextDefault",checkImage:"checkImage"},outputs:{imageChanged:"imageChanged",errorMsg:"errorMsg"},decls:6,vars:2,consts:[[1,"m-dropzone","m-dropzone--success","dz-clickable","m--padding-0",3,"click","drop","dragover"],["class","m-dropzone__msg dz-message m--margin-50",4,"ngIf","ngIfElse"],["imageTpl",""],["type","file","accept","image/*",3,"change"],["file",""],[1,"m-dropzone__msg","dz-message","m--margin-50"],[1,"m-dropzone__msg-title"],[1,"m-dropzone__msg-desc"],[2,"height","140px","width","auto",3,"src"]],template:function(s,p){if(1&s){const g=o.EpF();o.TgZ(0,"div",0),o.NdJ("click",function(){o.CHM(g);const r=o.MAs(5);return o.KtG(r.click())})("drop",function(r){return p.onDrop(r)})("dragover",function(r){return p.onDragOver(r)}),o.YNc(1,C,7,6,"div",1),o.YNc(2,e,2,1,"ng-template",null,2,o.W1O),o.TgZ(4,"input",3,4),o.NdJ("change",function(r){return p.handleFileInput(r.target.files)}),o.qZA()()}if(2&s){const g=o.MAs(3);o.xp6(1),o.Q6J("ngIf",!p.fileToUploadUrl)("ngIfElse",g)}},dependencies:[O.O5,E.X$],styles:["input[_ngcontent-%COMP%]{display:none}img[_ngcontent-%COMP%]{width:100%}"]}),l})()},76916:(P,y,t)=>{t.d(y,{G:()=>s});var o=t(34793),_=t(92198),a=t(94650),M=t(89383),O=t(60097),E=t(36895);function C(p,g){if(1&p&&(a.TgZ(0,"a",14)(1,"span",15),a._uU(2),a.ALo(3,"translate"),a.qZA()()),2&p){const i=a.oxw().$implicit;a.xp6(2),a.hij(" ",a.lcZ(3,1,i.label)," ")}}function e(p,g){if(1&p&&(a.TgZ(0,"a",16)(1,"span",15),a._uU(2),a.ALo(3,"translate"),a.qZA()()),2&p){const i=a.oxw(),r=i.$implicit,m=i.last,v=a.oxw(2);a.Q6J("routerLink",r.url)("queryParams",m&&v.route.snapshot.queryParams),a.xp6(2),a.hij(" ",a.lcZ(3,3,r.label)," ")}}function x(p,g){if(1&p&&(a.ynx(0),a.TgZ(1,"li",10)(2,"span"),a._uU(3," > "),a.qZA()(),a.TgZ(4,"li",11),a.YNc(5,C,4,3,"a",12),a.YNc(6,e,4,5,"a",13),a.qZA(),a.BQk()),2&p){const i=g.first;a.xp6(5),a.Q6J("ngIf",i),a.xp6(1),a.Q6J("ngIf",!i)}}function l(p,g){if(1&p&&(a.TgZ(0,"div",1)(1,"div",2)(2,"div",3),a._UZ(3,"h3",4),a.TgZ(4,"ul",5)(5,"li",6)(6,"a",7),a._UZ(7,"i",8),a.qZA()(),a.YNc(8,x,7,2,"ng-container",9),a.qZA()(),a.TgZ(9,"div"),a.Hsn(10),a.qZA()()()),2&p){const i=a.oxw();a.xp6(3),a.Q6J("innerHTML",i.title,a.oJD),a.xp6(5),a.Q6J("ngForOf",i.breads)}}const f=["*"];let s=(()=>{class p{constructor(i,r,m,v){this.router=i,this.route=r,this.translate=m,this._carparkService=v,this.breads=[],this.loginUser=""}ngOnInit(){let i=JSON.parse(localStorage.getItem("user-roles"))[0];this.loginUser=i,console.log(this.loginUser,"\u4fe1\u606f"),this.breads=this.buildBreadCrumb(this.route.root),this.translate.get(this.breads[0].label).subscribe(m=>{this.label=m}),this.router.events.pipe((0,_.h)(m=>m instanceof o.m2)).subscribe(()=>{this.breads=this.buildBreadCrumb(this.route.root)})}buildBreadCrumb(i,r=[""],m=[]){const v=i.snapshot.url[0]&&i.snapshot.url[0].path,z=[...r,v],U={...this.extractBreadcrumb(i),url:z},I=v&&U.label?[...m,U]:m;return this.title=U.title||this.title||"",this.isMotorist&&"My Vehicle(s)"===U.label&&(this.title="My Vehicle(s)"),i.firstChild?v?this.buildBreadCrumb(i.firstChild,z,I):this.buildBreadCrumb(i.firstChild,r,m):(this.translate.get(this.title).subscribe(D=>{this.title=D}),I)}get isMotorist(){return this._carparkService.isMotorist()}extractBreadcrumb(i){return i.snapshot.data.breadcrumb instanceof Function?i.snapshot.data.breadcrumb(i):i.snapshot.data.breadcrumb}}return p.\u0275fac=function(i){return new(i||p)(a.Y36(o.F0),a.Y36(o.gz),a.Y36(M.sK),a.Y36(O.x))},p.\u0275cmp=a.Xpm({type:p,selectors:[["app-title-bar"]],ngContentSelectors:f,decls:1,vars:1,consts:[["class","m-subheader",4,"ngIf"],[1,"m-subheader"],[1,"d-flex","align-items-center"],[1,"mr-auto"],[1,"m-subheader__title","m-subheader__title--separator","text-main",3,"innerHTML"],[1,"m-subheader__breadcrumbs","m-nav","m-nav--inline"],[1,"m-nav__item","m-nav__item--home"],["routerLink","/",1,"m-nav__link","m-nav__link--icon"],[1,"m-nav__link-icon","la","la-home"],[4,"ngFor","ngForOf"],[1,"m-nav__separator"],[1,"m-nav__item"],["class","m-nav__link",4,"ngIf"],["class","m-nav__link",3,"routerLink","queryParams",4,"ngIf"],[1,"m-nav__link"],[1,"m-nav__link-text"],[1,"m-nav__link",3,"routerLink","queryParams"]],template:function(i,r){1&i&&(a.F$t(),a.YNc(0,l,11,2,"div",0)),2&i&&a.Q6J("ngIf","ROLE_TPO_PARTNER"!==r.loginUser)},dependencies:[E.sg,E.O5,o.yS,M.X$],encapsulation:2}),p})()},93627:(P,y,t)=>{t.r(y),t.d(y,{OperatorProfileModule:()=>ie});var o=t(36895),_=t(59501),a=t(21532),M=t(34793),O=t(52746),E=t(8929),C=t(38014),e=t(94650),x=t(92935),l=t(89383),f=t(76284),s=t(3927),p=t(27221),g=t(26245),i=t(80529),r=t(28555),m=t(91599);let v=(()=>{class u extends s.su{constructor(n,c,h){super(n,c),this.http=n,this.store=c,this.modelName="operator-profile",this.baseUrl="carpark/api/publicEvOperator",this.handleError=h.createHandleError(`${this.modelName}Service`)}filterModel(n,c){const h=(0,g.U8)(`${this.baseUrl}/list`,{...n,...(0,g.jq)(c)});return this.get(this.getUrl(h)).pipe((0,p.K)(this.handleError(`${this.modelName}Filter`,{}))).map(d=>Array.isArray(d)?(0,s.eC)(d):(0,s.O7)(d))}addHandle(n){const c=this.getUrl("carpark/api/publicEvOperator/insert");return this.post(c,n)}deleteOne(n){const c=this.getUrl(`carpark/api/publicEvOperator/delete/${n}`);return this.delete(c)}editHandle(n){const c=this.getUrl("carpark/api/publicEvOperator/update");return this.put(c,n)}}return u.\u0275fac=function(n){return new(n||u)(e.LFG(i.eN),e.LFG(r.yh),e.LFG(m.k))},u.\u0275prov=e.Yz7({token:u,factory:u.\u0275fac}),u})();var z=t(50007),U=t(49651),I=t(76916),D=t(35635),F=t(47423),L=t(73325),N=t(29562),B=t(66616),H=t(47044),K=t(21811),S=t(38231),R=t(48521),b=t(40269),A=t(24006),J=t(67869);function W(u,T){1&u&&e._UZ(0,"span",25)}function G(u,T){if(1&u&&e._uU(0),2&u){const n=T.range;e.lnq(" ",n[0],"-",n[1]," of ",T.$implicit," items ")}}function j(u,T){if(1&u&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&u){const n=T.$implicit;e.xp6(1),e.Oqu(n.text)}}function Q(u,T){if(1&u){const n=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"button",26),e._UZ(13,"i",27),e.qZA(),e.TgZ(14,"nz-dropdown-menu",null,28)(16,"ul",29)(17,"li",30),e.NdJ("click",function(){const d=e.CHM(n).$implicit,Z=e.oxw(2);return e.KtG(Z.editOneData(d))}),e._UZ(18,"span",31),e._uU(19," Edit "),e.qZA(),e.TgZ(20,"li",30),e.NdJ("click",function(){const d=e.CHM(n).$implicit,Z=e.oxw(2);return e.KtG(Z.deleteHandle(d))}),e._UZ(21,"span",32),e._uU(22," Delete "),e.qZA()()()()()}if(2&u){const n=T.$implicit,c=T.index,h=e.MAs(15);e.ekj("ant-table-row-odd",c%2==1),e.xp6(2),e.Oqu(c+1),e.xp6(2),e.Oqu(n.operatorName),e.xp6(2),e.Oqu(n.companyName),e.xp6(2),e.Oqu(n.hotline),e.xp6(2),e.Oqu(n.email),e.xp6(2),e.Q6J("nzDropdownMenu",h)("nzPlacement","topCenter")}}const w=function(){return["overview"]};function $(u,T){if(1&u){const n=e.EpF();e.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"ul",6)(5,"li",7)(6,"a",8),e._uU(7),e.qZA()()()()(),e.TgZ(8,"div",9)(9,"div",10)(10,"div",11)(11,"label",12),e._uU(12),e.qZA(),e.TgZ(13,"div",13)(14,"nz-input-group",14)(15,"input",15),e.NdJ("ngModelChange",function(h){e.CHM(n);const d=e.oxw();return e.KtG(d.keyword=h)})("ngModelChange",function(h){e.CHM(n);const d=e.oxw();return e.KtG(d.keyword$.next(h))}),e.qZA()(),e.YNc(16,W,1,0,"ng-template",null,16,e.W1O),e.qZA()(),e.TgZ(18,"div",17)(19,"button",18),e.NdJ("click",function(){e.CHM(n);const h=e.oxw();return e.KtG(h.addDataHandle())}),e._UZ(20,"span",19),e._uU(21,"New Operator"),e.qZA()()(),e.YNc(22,G,1,3,"ng-template",null,20,e.W1O),e.TgZ(24,"nz-table",21,22),e.NdJ("nzQueryParams",function(h){e.CHM(n);const d=e.oxw();return e.KtG(d.onQueryParamsChange(h))}),e.TgZ(26,"thead")(27,"tr"),e.YNc(28,j,2,1,"th",23),e.qZA()(),e.TgZ(29,"tbody"),e.YNc(30,Q,23,9,"tr",24),e.qZA()()()()()}if(2&u){const n=e.MAs(17),c=e.MAs(23),h=e.MAs(25),d=e.oxw();e.xp6(6),e.Q6J("routerLink",e.DdM(15,w))("routerLinkActive","active"),e.xp6(1),e.hij(" ","Operator Profile"," "),e.xp6(5),e.hij(" ","Operator",": "),e.xp6(2),e.Q6J("nzPrefix",n),e.xp6(1),e.Q6J("ngModel",d.keyword),e.xp6(9),e.Q6J("nzData",d.listData)("nzFrontPagination",!1)("nzLoading",d.loading)("nzTotal",d.pagination.totalCount)("nzPageSize",d.pagination.rowsPerPage)("nzPageIndex",d.pagination.page)("nzShowTotal",c),e.xp6(4),e.Q6J("ngForOf",d.tableHeaders),e.xp6(2),e.Q6J("ngForOf",h.data)}}function Y(u,T){if(1&u&&e._UZ(0,"nz-option",59),2&u){const n=T.$implicit;e.Q6J("nzValue",n)("nzLabel",n)}}function k(u,T){1&u&&(e.TgZ(0,"span",35),e._uU(1,"*"),e.qZA())}function V(u,T){if(1&u){const n=e.EpF();e.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"ul",6)(5,"li",7)(6,"a",8),e._uU(7),e.qZA()()()()(),e.TgZ(8,"div",9)(9,"div",33)(10,"label",34)(11,"span",35),e._uU(12,"*"),e.qZA(),e._uU(13),e.qZA(),e.TgZ(14,"div",36)(15,"app-image-input",37),e.NdJ("imageChanged",function(h){e.CHM(n);const d=e.oxw();return e.KtG(d.onImageChanged(h))}),e.qZA()()(),e.TgZ(16,"div",38)(17,"div",39)(18,"span",40)(19,"span",35),e._uU(20,"*"),e.qZA(),e._uU(21," Business:"),e.qZA(),e.TgZ(22,"nz-select",41),e.NdJ("ngModelChange",function(h){e.CHM(n);const d=e.oxw();return e.KtG(d.upform.business=h)}),e.YNc(23,Y,1,2,"nz-option",42),e.qZA()(),e.TgZ(24,"div",39)(25,"span",40)(26,"span",35),e._uU(27,"*"),e.qZA(),e._uU(28," Company Full Name:"),e.qZA(),e.TgZ(29,"input",43),e.NdJ("ngModelChange",function(h){e.CHM(n);const d=e.oxw();return e.KtG(d.upform.companyName=h)}),e.qZA()()(),e.TgZ(30,"div",38)(31,"div",39)(32,"span",40)(33,"span",35),e._uU(34,"*"),e.qZA(),e._uU(35," UEN No.:"),e.qZA(),e.TgZ(36,"input",44),e.NdJ("ngModelChange",function(h){e.CHM(n);const d=e.oxw();return e.KtG(d.upform.uenNo=h)}),e.qZA()(),e.TgZ(37,"div",39)(38,"span",40)(39,"span",35),e._uU(40,"*"),e.qZA(),e._uU(41," Operator Name:"),e.qZA(),e.TgZ(42,"input",45),e.NdJ("ngModelChange",function(h){e.CHM(n);const d=e.oxw();return e.KtG(d.upform.operatorName=h)}),e.qZA()()(),e.TgZ(43,"div",38)(44,"div",39)(45,"span",40)(46,"span",35),e._uU(47,"*"),e.qZA(),e._uU(48," GST Registered:"),e.qZA(),e.TgZ(49,"span",46)(50,"nz-radio-group",47),e.NdJ("ngModelChange",function(h){e.CHM(n);const d=e.oxw();return e.KtG(d.upform.gstRegistered=h)}),e.TgZ(51,"label",48),e._uU(52,"Yes"),e.qZA(),e.TgZ(53,"label",49),e._uU(54,"NO"),e.qZA()()()(),e.TgZ(55,"div",39)(56,"span",40),e.YNc(57,k,2,0,"span",50),e._uU(58," GST Reg NO.:"),e.qZA(),e.TgZ(59,"input",51),e.NdJ("ngModelChange",function(h){e.CHM(n);const d=e.oxw();return e.KtG(d.upform.gstRegNo=h)}),e.qZA()()(),e.TgZ(60,"div",38)(61,"div",39)(62,"span",40),e._uU(63," Hotline:"),e.qZA(),e.TgZ(64,"input",52),e.NdJ("ngModelChange",function(h){e.CHM(n);const d=e.oxw();return e.KtG(d.upform.hotline=h)}),e.qZA()(),e.TgZ(65,"div",39)(66,"span",40),e._uU(67,"Hotline Operating Hours:"),e.qZA(),e.TgZ(68,"input",53),e.NdJ("ngModelChange",function(h){e.CHM(n);const d=e.oxw();return e.KtG(d.upform.hotlineOperatingHours=h)}),e.qZA()()(),e.TgZ(69,"div",38)(70,"div",39)(71,"span",40),e._uU(72," Email:"),e.qZA(),e.TgZ(73,"input",54),e.NdJ("ngModelChange",function(h){e.CHM(n);const d=e.oxw();return e.KtG(d.upform.email=h)}),e.qZA()(),e.TgZ(74,"div",39)(75,"span",40)(76,"span",35),e._uU(77,"*"),e.qZA(),e._uU(78," Website:"),e.qZA(),e.TgZ(79,"input",55),e.NdJ("ngModelChange",function(h){e.CHM(n);const d=e.oxw();return e.KtG(d.upform.website=h)}),e.qZA()()(),e.TgZ(80,"div",56)(81,"button",57),e.NdJ("click",function(){e.CHM(n);const h=e.oxw();return e.KtG(h.cancelHandle())}),e._uU(82,"\u2190 Cancel"),e.qZA(),e.TgZ(83,"button",58),e.NdJ("click",function(){e.CHM(n);const h=e.oxw();return e.KtG(h.submitHandle())}),e._uU(84,"Submit"),e.qZA()()()()()}if(2&u){const n=e.oxw();e.xp6(6),e.Q6J("routerLink",e.DdM(17,w))("routerLinkActive","active"),e.xp6(1),e.hij(" ","Operator Information"," "),e.xp6(6),e.hij(" ","Company Logo",": "),e.xp6(2),e.Q6J("image",n.upform.logo),e.xp6(7),e.Q6J("ngModel",n.upform.business),e.xp6(1),e.Q6J("ngForOf",n.businessArr),e.xp6(6),e.Q6J("ngModel",n.upform.companyName),e.xp6(7),e.Q6J("ngModel",n.upform.uenNo),e.xp6(6),e.Q6J("ngModel",n.upform.operatorName),e.xp6(8),e.Q6J("ngModel",n.upform.gstRegistered),e.xp6(7),e.Q6J("ngIf","yes"==n.upform.gstRegistered),e.xp6(2),e.Q6J("ngModel",n.upform.gstRegNo),e.xp6(5),e.Q6J("ngModel",n.upform.hotline),e.xp6(4),e.Q6J("ngModel",n.upform.hotlineOperatingHours),e.xp6(5),e.Q6J("ngModel",n.upform.email),e.xp6(6),e.Q6J("ngModel",n.upform.website)}}let q=(()=>{class u extends O.t{constructor(n,c,h,d,Z,oe){super(),this.walkInRecordService=n,this.translate=c,this.assetsService=h,this.operatorProfileService=d,this.nzModalService=Z,this.nzMessageService=oe,this.keyword="",this.keyword$=new E.xQ,this.upform={operatorId:"",business:"",companyName:"",uenNo:"",operatorName:"",gstRegistered:"",gstRegNo:"",hotline:"",hotlineOperatingHours:"",email:"",website:"",logo:""},this.errMsg="",this.dataOrAdd=!0,this.businessArr=["EV Charging","Parking"],this.actionData={},this.form=(0,C.aq7)(),this.tableHeaders=[{text:"#",width:"100px"},{text:"Name",column:"",width:"200px"},{text:"Company",column:"",width:"200px"},{text:"Hotline",column:"",width:"200px"},{text:"Email",column:"",width:"200px"},{text:"Actions",width:"100px"}],this.keyword$.debounceTime(500).subscribe(()=>{this.reloadData()})}get filterParams(){return{operatorName:this.keyword}}addDataHandle(){this.dataOrAdd=!1}insearchHandle(n){console.log(n,"\u8f93\u5165\u7684\u503c"),this.reloadData()}ngOnInit(){this.reloadData()}reloadData(){this.reloadDataService(this.operatorProfileService)}pageChanged(){}lostDialog(){}onImageChanged(n){this.assetsService.uploadImage(n).subscribe(c=>{this.upform.logo=`/proxy${c}`})}cancelHandle(){this.dataOrAdd=!0,this.upform={operatorId:"",business:"",companyName:"",uenNo:"",operatorName:"",gstRegistered:"",gstRegNo:"",hotline:"",hotlineOperatingHours:"",email:"",website:"",logo:""},this.reloadData()}submitHandle(){this.upform.operatorId?"yes"==this.upform.gstRegistered?this.upform.logo&&this.upform.business&&this.upform.companyName&&this.upform.uenNo&&this.upform.operatorName&&this.upform.gstRegNo&&this.upform.website?this.operatorProfileService.editHandle(this.upform).subscribe(n=>{this.errMsg="Success !",this.nzMessageService.success(this.errMsg),this.upform={operatorId:"",business:"",companyName:"",uenNo:"",operatorName:"",gstRegistered:"",gstRegNo:"",hotline:"",hotlineOperatingHours:"",email:"",website:"",logo:""}}):(this.errMsg="Required fields are missing",this.nzMessageService.warning(this.errMsg)):"no"==this.upform.gstRegistered&&this.upform.logo&&this.upform.business&&this.upform.companyName&&this.upform.uenNo&&this.upform.operatorName&&this.upform.website?this.operatorProfileService.editHandle(this.upform).subscribe(n=>{this.errMsg="Success !",this.nzMessageService.success(this.errMsg),this.upform={operatorId:"",business:"",companyName:"",uenNo:"",operatorName:"",gstRegistered:"",gstRegNo:"",hotline:"",hotlineOperatingHours:"",email:"",website:"",logo:""}}):(this.errMsg="Required fields are missing",this.nzMessageService.warning(this.errMsg)):"yes"==this.upform.gstRegistered?this.upform.logo&&this.upform.business&&this.upform.companyName&&this.upform.uenNo&&this.upform.operatorName&&this.upform.gstRegNo&&this.upform.website?this.operatorProfileService.addHandle(this.upform).subscribe(n=>{this.errMsg="Success !",this.nzMessageService.success(this.errMsg),this.upform={operatorId:"",business:"",companyName:"",uenNo:"",operatorName:"",gstRegistered:"",gstRegNo:"",hotline:"",hotlineOperatingHours:"",email:"",website:"",logo:""}}):(this.errMsg="Required fields are missing",this.nzMessageService.warning(this.errMsg)):"no"==this.upform.gstRegistered&&this.upform.logo&&this.upform.business&&this.upform.companyName&&this.upform.uenNo&&this.upform.operatorName&&this.upform.website?this.operatorProfileService.addHandle(this.upform).subscribe(n=>{this.errMsg="Success !",this.nzMessageService.success(this.errMsg),this.upform={operatorId:"",business:"",companyName:"",uenNo:"",operatorName:"",gstRegistered:"",gstRegNo:"",hotline:"",hotlineOperatingHours:"",email:"",website:"",logo:""}}):(this.errMsg="Required fields are missing",this.nzMessageService.warning(this.errMsg))}deleteHandle(n){this.nzModalService.confirm({nzTitle:"<i>Are you sure you want to delete it?</i>",nzContent:`name: ${n.operatorName}`,nzOnOk:()=>this.sureDelete(n)})}sureDelete(n){this.operatorProfileService.deleteOne(n.operatorId).subscribe(c=>{this.errMsg="Delete Success !",this.nzMessageService.success(this.errMsg),this.reloadData()},c=>{this.nzMessageService.error(c)})}editOneData(n){this.upform=n,this.dataOrAdd=!1}}return u.\u0275fac=function(n){return new(n||u)(e.Y36(x.$),e.Y36(l.sK),e.Y36(f.z),e.Y36(v),e.Y36(z.Sf),e.Y36(U.dD))},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-oparator-profile"]],inputs:{form:"form"},features:[e.qOj],decls:4,vars:2,consts:[[1,"body-wrapper"],["class","m-content",4,"ngIf"],[1,"m-content"],[1,"m-portlet","m-portlet--tabs"],[1,"m-portlet__head"],[1,"m-portlet__head-tools"],["role","tablist",1,"nav","nav-tabs","m-tabs-line","m-tabs-line--primary","m-tabs-line--2x"],[1,"nav-item","m-tabs__item"],[1,"nav-link","m-tabs__link",2,"border-bottom","3px solid #00bdb5",3,"routerLink","routerLinkActive"],[1,"m-portlet__body","m-portlet__body--scrollable"],[1,"search-line"],[1,"m-portlet__filter","search-line50"],[1,"col-form-label","col-form-label-nowrap"],[1,"m-input-icon","m-input-icon--left","inputSearchBox"],[3,"nzPrefix"],["nz-input","","type","text","placeholder","Please Enter Operator",3,"ngModel","ngModelChange"],["suffixIconSearch",""],[1,"search-line50","search-line50Right"],["nz-button","","nzShape","round","nzType","primary",3,"click"],["nz-icon","","nzType","plus"],["rangeTemplate",""],[3,"nzData","nzFrontPagination","nzLoading","nzTotal","nzPageSize","nzPageIndex","nzShowTotal","nzQueryParams"],["basicTable",""],[4,"ngFor","ngForOf"],[3,"ant-table-row-odd",4,"ngFor","ngForOf"],["nz-icon","","nzType","search"],["nz-dropdown","","nzTrigger","click",1,"btn","btn-outline-primary","m-btn","m-btn--icon","m-btn--icon-only","m-btn--custom","m-btn--outline-2x","m-btn--pill","no-border",3,"nzDropdownMenu","nzPlacement"],[1,"la","la-ellipsis-h"],["menu","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","",3,"click"],["nz-icon","","nzType","edit","nzTheme","outline",2,"margin-right","4px"],["nz-icon","","nzType","delete","nzTheme","outline",2,"margin-right","4px"],[1,"form-group","m-form__group","row"],[1,"col-form-label","col-lg-2","col-sm-12"],[2,"color","red"],[1,"col-md-10","col-sm-12","addImage"],[3,"image","imageChanged"],[1,"every-line"],[1,"half50"],[1,"everyName"],["id","business","name","business","nzPlaceHolder","Please Select",2,"width","100%",3,"ngModel","ngModelChange"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nz-input","","type","text","placeholder","Please Enter Company Full Name",3,"ngModel","ngModelChange"],["nz-input","","type","text","placeholder","Please Enter UEN No.",3,"ngModel","ngModelChange"],["nz-input","","type","text","placeholder","Please Enter Operator Name",3,"ngModel","ngModelChange"],[2,"width","100%","text-align","center"],["nzSize","large",3,"ngModel","ngModelChange"],["nz-radio","","nzValue","yes"],["nz-radio","","nzValue","no"],["style","color: red;",4,"ngIf"],["nz-input","","type","text","placeholder","Please Enter GST Reg NO.",3,"ngModel","ngModelChange"],["nz-input","","type","text","placeholder","Please Enter Hotline",3,"ngModel","ngModelChange"],["nz-input","","type","text","placeholder","Please Enter Hotline Operating Hours",3,"ngModel","ngModelChange"],["nz-input","","type","text","placeholder","Please Enter Email",3,"ngModel","ngModelChange"],["nz-input","","type","text","placeholder","Please Enter Website",3,"ngModel","ngModelChange"],[1,"actionBtn"],["nz-button","","nzType","primary","nzSize","large","nzGhost","",1,"btn-form-ops",3,"click"],["nz-button","","nzType","primary","nzSize","large",1,"btn-form-ops",2,"margin-left","30px",3,"click"],[3,"nzValue","nzLabel"]],template:function(n,c){1&n&&(e.TgZ(0,"div",0),e._UZ(1,"app-title-bar"),e.YNc(2,$,31,16,"div",1),e.YNc(3,V,85,18,"div",1),e.qZA()),2&n&&(e.xp6(2),e.Q6J("ngIf",c.dataOrAdd),e.xp6(1),e.Q6J("ngIf",!c.dataOrAdd))},dependencies:[o.sg,o.O5,I.G,D.Zp,D.gB,D.ke,F.Ls,L.wO,L.r9,N.cm,N.RR,B.ix,H.w,K.dQ,S.Ip,S.Vq,R.Of,R.Dg,b.N8,b.Uo,b._C,b.Om,b.p0,b.$Z,M.yS,M.Od,A.Fj,A.JJ,A.On,J.F],styles:[".search-line[_ngcontent-%COMP%]{display:flex;margin-bottom:40px}.search-line50[_ngcontent-%COMP%]{width:50%;display:flex;align-items:center}.inputSearchBox[_ngcontent-%COMP%]{width:50%;margin-left:10px}.search-line50Right[_ngcontent-%COMP%]{justify-content:flex-end}.form-control[_ngcontent-%COMP%]{padding:.4rem 1rem!important}.addOneData[_ngcontent-%COMP%]{background-color:#00bdb5;color:#fff;font-weight:500;cursor:pointer;height:40px;display:flex;justify-content:center;align-items:center;width:200px;border-radius:20px}.every-line[_ngcontent-%COMP%]{display:flex;margin:16px -16px 16px auto}.half50[_ngcontent-%COMP%]{display:flex;align-items:center;width:50%;justify-content:space-between;padding-right:16px;box-sizing:border-box}.radio-area[_ngcontent-%COMP%]{width:70%;display:flex;justify-content:space-evenly}.radioInput[_ngcontent-%COMP%]{margin-right:16px;width:20px;height:20px}.everyName[_ngcontent-%COMP%]{width:30%;margin:0 10px}.half50-input[_ngcontent-%COMP%]{display:flex;align-items:center;width:60%}.actionBtn[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.submit[_ngcontent-%COMP%]{margin-left:20px;width:140px;height:40px;border:2px solid #00bdb5;border-radius:5px;display:flex;justify-content:center;align-items:center;cursor:pointer;color:#fff;background-color:#00bdb5}.cancel[_ngcontent-%COMP%]{background-color:#fff;color:#00bdb5}"]}),u})();var X=t(88796),ee=t(30329),te=t(372),ne=t(59245),re=t(34984);const ae=[{path:"",component:_.f,children:[{path:"",component:q}]}];let ie=(()=>{class u{}return u.\u0275fac=function(n){return new(n||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({providers:[x.$,l.sK,f.z,v],imports:[o.ez,a.x,M.Bz.forChild(ae),X.A0,A.u5,A.UX,ee.D,te.kn,ne.mr,re.Ns.forRoot({echarts:()=>t.e(4734).then(t.bind(t,14734))})]}),u})()},34984:(P,y,t)=>{t.d(y,{Ns:()=>p,_w:()=>s});var o=t(15861),_=t(94650),a=t(21086),M=t(68896),O=t(8929),E=t(20353),C=t(34202),e=t(66753),x=t(87545);class l{constructor(i){this.changes=i}static of(i){return new l(i)}notEmpty(i){if(this.changes[i]){const r=this.changes[i].currentValue;if(null!=r)return(0,a.of)(r)}return M.E}has(i){return this.changes[i]?(0,a.of)(this.changes[i].currentValue):M.E}notFirst(i){return this.changes[i]&&!this.changes[i].isFirstChange()?(0,a.of)(this.changes[i].currentValue):M.E}notFirstAndEmpty(i){if(this.changes[i]&&!this.changes[i].isFirstChange()){const r=this.changes[i].currentValue;if(null!=r)return(0,a.of)(r)}return M.E}}const f=new _.OlP("NGX_ECHARTS_CONFIG");let s=(()=>{class g{constructor(r,m,v){this.el=m,this.ngZone=v,this.autoResize=!0,this.loadingType="default",this.chartInit=new _.vpe,this.optionsError=new _.vpe,this.chartClick=this.createLazyEvent("click"),this.chartDblClick=this.createLazyEvent("dblclick"),this.chartMouseDown=this.createLazyEvent("mousedown"),this.chartMouseMove=this.createLazyEvent("mousemove"),this.chartMouseUp=this.createLazyEvent("mouseup"),this.chartMouseOver=this.createLazyEvent("mouseover"),this.chartMouseOut=this.createLazyEvent("mouseout"),this.chartGlobalOut=this.createLazyEvent("globalout"),this.chartContextMenu=this.createLazyEvent("contextmenu"),this.chartLegendSelectChanged=this.createLazyEvent("legendselectchanged"),this.chartLegendSelected=this.createLazyEvent("legendselected"),this.chartLegendUnselected=this.createLazyEvent("legendunselected"),this.chartLegendScroll=this.createLazyEvent("legendscroll"),this.chartDataZoom=this.createLazyEvent("datazoom"),this.chartDataRangeSelected=this.createLazyEvent("datarangeselected"),this.chartTimelineChanged=this.createLazyEvent("timelinechanged"),this.chartTimelinePlayChanged=this.createLazyEvent("timelineplaychanged"),this.chartRestore=this.createLazyEvent("restore"),this.chartDataViewChanged=this.createLazyEvent("dataviewchanged"),this.chartMagicTypeChanged=this.createLazyEvent("magictypechanged"),this.chartPieSelectChanged=this.createLazyEvent("pieselectchanged"),this.chartPieSelected=this.createLazyEvent("pieselected"),this.chartPieUnselected=this.createLazyEvent("pieunselected"),this.chartMapSelectChanged=this.createLazyEvent("mapselectchanged"),this.chartMapSelected=this.createLazyEvent("mapselected"),this.chartMapUnselected=this.createLazyEvent("mapunselected"),this.chartAxisAreaSelected=this.createLazyEvent("axisareaselected"),this.chartFocusNodeAdjacency=this.createLazyEvent("focusnodeadjacency"),this.chartUnfocusNodeAdjacency=this.createLazyEvent("unfocusnodeadjacency"),this.chartBrush=this.createLazyEvent("brush"),this.chartBrushEnd=this.createLazyEvent("brushend"),this.chartBrushSelected=this.createLazyEvent("brushselected"),this.chartRendered=this.createLazyEvent("rendered"),this.chartFinished=this.createLazyEvent("finished"),this.animationFrameID=null,this.resize$=new O.xQ,this.echarts=r.echarts}ngOnChanges(r){const m=l.of(r);m.notFirstAndEmpty("options").subscribe(v=>this.onOptionsChange(v)),m.notFirstAndEmpty("merge").subscribe(v=>this.setOption(v)),m.has("loading").subscribe(v=>this.toggleLoading(!!v)),m.notFirst("theme").subscribe(()=>this.refreshChart())}ngOnInit(){if(!window.ResizeObserver)throw new Error("please install a polyfill for ResizeObserver");this.resizeSub=this.resize$.pipe((0,e.p)(100,E.z,{leading:!1,trailing:!0})).subscribe(()=>this.resize()),this.autoResize&&(this.resizeOb=this.ngZone.runOutsideAngular(()=>new window.ResizeObserver(()=>{this.animationFrameID=window.requestAnimationFrame(()=>this.resize$.next())})),this.resizeOb.observe(this.el.nativeElement))}ngOnDestroy(){window.clearTimeout(this.initChartTimer),this.resizeSub&&this.resizeSub.unsubscribe(),this.animationFrameID&&window.cancelAnimationFrame(this.animationFrameID),this.resizeOb&&this.resizeOb.unobserve(this.el.nativeElement),this.dispose()}ngAfterViewInit(){this.initChartTimer=window.setTimeout(()=>this.initChart())}dispose(){this.chart&&(this.chart.isDisposed()||this.chart.dispose(),this.chart=null)}resize(){this.chart&&this.chart.resize()}toggleLoading(r){this.chart&&(r?this.chart.showLoading(this.loadingType,this.loadingOpts):this.chart.hideLoading())}setOption(r,m){if(this.chart)try{this.chart.setOption(r,m)}catch(v){console.error(v),this.optionsError.emit(v)}}refreshChart(){var r=this;return(0,o.Z)(function*(){r.dispose(),yield r.initChart()})()}createChart(){const r=this.el.nativeElement;if(window&&window.getComputedStyle){const m=window.getComputedStyle(r,null).getPropertyValue("height");(!m||"0px"===m)&&(!r.style.height||"0px"===r.style.height)&&(r.style.height="400px")}return this.ngZone.runOutsideAngular(()=>("function"==typeof this.echarts?this.echarts:()=>Promise.resolve(this.echarts))().then(({init:v})=>v(r,this.theme,this.initOpts)))}initChart(){var r=this;return(0,o.Z)(function*(){yield r.onOptionsChange(r.options),r.merge&&r.chart&&r.setOption(r.merge)})()}onOptionsChange(r){var m=this;return(0,o.Z)(function*(){!r||(m.chart||(m.chart=yield m.createChart(),m.chartInit.emit(m.chart)),m.setOption(m.options,!0))})()}createLazyEvent(r){return this.chartInit.pipe((0,x.w)(m=>new C.y(v=>(m.on(r,z=>this.ngZone.run(()=>v.next(z))),()=>{this.chart&&(this.chart.isDisposed()||m.off(r))}))))}}return g.\u0275fac=function(r){return new(r||g)(_.Y36(f),_.Y36(_.SBq),_.Y36(_.R0b))},g.\u0275dir=_.lG2({type:g,selectors:[["echarts"],["","echarts",""]],inputs:{options:"options",theme:"theme",loading:"loading",initOpts:"initOpts",merge:"merge",autoResize:"autoResize",loadingType:"loadingType",loadingOpts:"loadingOpts"},outputs:{chartInit:"chartInit",optionsError:"optionsError",chartClick:"chartClick",chartDblClick:"chartDblClick",chartMouseDown:"chartMouseDown",chartMouseMove:"chartMouseMove",chartMouseUp:"chartMouseUp",chartMouseOver:"chartMouseOver",chartMouseOut:"chartMouseOut",chartGlobalOut:"chartGlobalOut",chartContextMenu:"chartContextMenu",chartLegendSelectChanged:"chartLegendSelectChanged",chartLegendSelected:"chartLegendSelected",chartLegendUnselected:"chartLegendUnselected",chartLegendScroll:"chartLegendScroll",chartDataZoom:"chartDataZoom",chartDataRangeSelected:"chartDataRangeSelected",chartTimelineChanged:"chartTimelineChanged",chartTimelinePlayChanged:"chartTimelinePlayChanged",chartRestore:"chartRestore",chartDataViewChanged:"chartDataViewChanged",chartMagicTypeChanged:"chartMagicTypeChanged",chartPieSelectChanged:"chartPieSelectChanged",chartPieSelected:"chartPieSelected",chartPieUnselected:"chartPieUnselected",chartMapSelectChanged:"chartMapSelectChanged",chartMapSelected:"chartMapSelected",chartMapUnselected:"chartMapUnselected",chartAxisAreaSelected:"chartAxisAreaSelected",chartFocusNodeAdjacency:"chartFocusNodeAdjacency",chartUnfocusNodeAdjacency:"chartUnfocusNodeAdjacency",chartBrush:"chartBrush",chartBrushEnd:"chartBrushEnd",chartBrushSelected:"chartBrushSelected",chartRendered:"chartRendered",chartFinished:"chartFinished"},exportAs:["echarts"],features:[_.TTD]}),g})(),p=(()=>{class g{static forRoot(r){return{ngModule:g,providers:[{provide:f,useValue:r}]}}static forChild(){return{ngModule:g}}}return g.\u0275fac=function(r){return new(r||g)},g.\u0275mod=_.oAB({type:g}),g.\u0275inj=_.cJS({}),g})()}}]);