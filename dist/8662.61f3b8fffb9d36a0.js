"use strict";(self.webpackChunkst_admin=self.webpackChunkst_admin||[]).push([[8662],{76916:(T,u,n)=>{n.d(u,{G:()=>C});var l=n(34793),h=n(92198),a=n(38014),t=n(94650),m=n(89383),g=n(60097),p=n(36895);function _(s,o){if(1&s&&(t.TgZ(0,"a",14)(1,"span",15),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&s){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,1,e.label)," ")}}function E(s,o){if(1&s&&(t.TgZ(0,"a",16)(1,"span",15),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&s){const e=t.oxw(),i=e.$implicit,r=e.last,c=t.oxw(2);t.Q6J("routerLink",i.url)("queryParams",r&&c.route.snapshot.queryParams),t.xp6(2),t.hij(" ",t.lcZ(3,3,i.label)," ")}}function d(s,o){if(1&s&&(t.ynx(0),t.TgZ(1,"li",10)(2,"span"),t._uU(3," > "),t.qZA()(),t.TgZ(4,"li",11),t.YNc(5,_,4,3,"a",12),t.YNc(6,E,4,5,"a",13),t.qZA(),t.BQk()),2&s){const e=o.first;t.xp6(5),t.Q6J("ngIf",e),t.xp6(1),t.Q6J("ngIf",!e)}}function v(s,o){if(1&s){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3),t._UZ(3,"h3",4),t.TgZ(4,"ul",5)(5,"li",6)(6,"a",7),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.jumpHome())}),t._UZ(7,"i",8),t.qZA()(),t.YNc(8,d,7,2,"ng-container",9),t.qZA()(),t.TgZ(9,"div"),t.Hsn(10),t.qZA()()()}if(2&s){const e=t.oxw();t.xp6(3),t.Q6J("innerHTML",e.title,t.oJD),t.xp6(5),t.Q6J("ngForOf",e.breads)}}const y=["*"];let C=(()=>{class s{constructor(e,i,r,c){this.router=e,this.route=i,this.translate=r,this._carparkService=c,this.breads=[],this.loginUser=""}ngOnInit(){let e=JSON.parse(localStorage.getItem("user-roles"))[0];this.loginUser=e,console.log(this.loginUser,"\u4fe1\u606f"),this.breads=this.buildBreadCrumb(this.route.root),this.translate.get(this.breads[0].label).subscribe(r=>{this.label=r}),this.router.events.pipe((0,h.h)(r=>r instanceof l.m2)).subscribe(()=>{this.breads=this.buildBreadCrumb(this.route.root)})}buildBreadCrumb(e,i=[""],r=[]){const c=e.snapshot.url[0]&&e.snapshot.url[0].path,b=[...i,c],f={...this.extractBreadcrumb(e),url:b},M=c&&f.label?[...r,f]:r;return this.title=f.title||this.title||"",this.isMotorist&&"My Vehicle(s)"===f.label&&(this.title="My Vehicle(s)"),e.firstChild?c?this.buildBreadCrumb(e.firstChild,b,M):this.buildBreadCrumb(e.firstChild,i,r):(this.translate.get(this.title).subscribe(O=>{this.title=O}),M)}get isMotorist(){return this._carparkService.isMotorist()}extractBreadcrumb(e){return e.snapshot.data.breadcrumb instanceof Function?e.snapshot.data.breadcrumb(e):e.snapshot.data.breadcrumb}jumpHome(){let e=JSON.parse(localStorage.getItem("user-roles"))[0]??"";this.router.navigate(e.length?[a.gpL[e]]:["/"])}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(l.F0),t.Y36(l.gz),t.Y36(m.sK),t.Y36(g.x))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-title-bar"]],ngContentSelectors:y,decls:1,vars:1,consts:[["class","m-subheader",4,"ngIf"],[1,"m-subheader"],[1,"d-flex","align-items-center"],[1,"mr-auto"],[1,"m-subheader__title","m-subheader__title--separator","text-main",3,"innerHTML"],[1,"m-subheader__breadcrumbs","m-nav","m-nav--inline"],[1,"m-nav__item","m-nav__item--home"],[1,"m-nav__link","m-nav__link--icon",3,"click"],[1,"m-nav__link-icon","la","la-home"],[4,"ngFor","ngForOf"],[1,"m-nav__separator"],[1,"m-nav__item"],["class","m-nav__link",4,"ngIf"],["class","m-nav__link",3,"routerLink","queryParams",4,"ngIf"],[1,"m-nav__link"],[1,"m-nav__link-text"],[1,"m-nav__link",3,"routerLink","queryParams"]],template:function(e,i){1&e&&(t.F$t(),t.YNc(0,v,11,2,"div",0)),2&e&&t.Q6J("ngIf","ROLE_TPO_PARTNER"!==i.loginUser)},dependencies:[p.sg,p.O5,l.yS,m.X$],encapsulation:2}),s})()},68662:(T,u,n)=>{n.r(u),n.d(u,{MaintenanceDashBroadModule:()=>e});var l=n(36895),h=n(14734),a=n(94650),t=n(76916);let m=(()=>{class i{constructor(){}ngOnInit(){this.initCharts()}initCharts(){const c=h;c.init(document.getElementById("mainbox")).setOption({title:{text:"Latest Active Incidents"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:["Email","Union Ads","Video Ads","Direct","Search Engine"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]}],yAxis:[{type:"value"}],series:[{name:"Email",type:"line",stack:"Total",areaStyle:{},emphasis:{focus:"series"},data:[120,132,101,134,90,230,210]},{name:"Union Ads",type:"line",stack:"Total",areaStyle:{},emphasis:{focus:"series"},data:[220,182,191,234,290,330,310]}]}),c.init(document.getElementById("mainbox2")).setOption({tooltip:{trigger:"item"},title:{text:"Problems by category"},legend:{top:"5%",left:"center"},series:[{name:"Access From",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"40",fontWeight:"bold"}},labelLine:{show:!1},data:[{value:1048,name:"A"},{value:735,name:"B"},{value:580,name:"C"},{value:484,name:"D"},{value:300,name:"E"}]}]}),c.init(document.getElementById("mainbox3")).setOption({tooltip:{trigger:"item"},title:{text:"Incidents by category"},legend:{top:"5%",left:"center"},series:[{name:"Access From",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"40",fontWeight:"bold"}},labelLine:{show:!1},data:[{value:1048,name:"A"},{value:735,name:"B"},{value:580,name:"C"},{value:484,name:"D"},{value:300,name:"E"}]}]})}}return i.\u0275fac=function(c){return new(c||i)},i.\u0275cmp=a.Xpm({type:i,selectors:[["maintenance-dash-broad"]],decls:61,vars:6,consts:[[1,"body-wrapper"],[1,"m-content"],[1,"m-portlet","m-portlet--tabs"],[1,"m-portlet__body","m-portlet__body--scrollable"],[1,"m-portlet__frame"],[1,"row","col-sm-12"],[1,"col-sm-4","m--padding-left-10"],[1,"m-portlet","m--margin-bottom-20"],[1,"m-portlet__body"],[1,"card-statistics"],[1,"stats-title"],[1,"stats-value","text-f1"],["id","mainbox",1,"col-sm-6",2,"height","400px"],["id","mainbox2",1,"col-sm-3",2,"height","400px"],["id","mainbox3",1,"col-sm-3",2,"height","400px"]],template:function(c,b){1&c&&(a.TgZ(0,"div",0),a._UZ(1,"app-title-bar"),a.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10),a._uU(12," New WSO "),a.qZA(),a.TgZ(13,"div",11),a._uU(14),a.qZA()()()()(),a.TgZ(15,"div",6)(16,"div",7)(17,"div",8)(18,"div",9)(19,"div",10),a._uU(20," WSO Closed "),a.qZA(),a.TgZ(21,"div",11),a._uU(22),a.qZA()()()()(),a.TgZ(23,"div",6)(24,"div",7)(25,"div",8)(26,"div",9)(27,"div",10),a._uU(28," New Problems "),a.qZA(),a.TgZ(29,"div",11),a._uU(30),a.qZA()()()()()(),a.TgZ(31,"div",5)(32,"div",6)(33,"div",7)(34,"div",8)(35,"div",9)(36,"div",10),a._uU(37," Devices "),a.qZA(),a.TgZ(38,"div",11),a._uU(39),a.qZA()()()()(),a.TgZ(40,"div",6)(41,"div",7)(42,"div",8)(43,"div",9)(44,"div",10),a._uU(45," Notable Alerts "),a.qZA(),a.TgZ(46,"div",11),a._uU(47),a.qZA()()()()(),a.TgZ(48,"div",6)(49,"div",7)(50,"div",8)(51,"div",9)(52,"div",10),a._uU(53," Remote Connection "),a.qZA(),a.TgZ(54,"div",11),a._uU(55),a.qZA()()()()()(),a.TgZ(56,"div",5),a._UZ(57,"div",12)(58,"div",13)(59,"div",14),a.qZA(),a._UZ(60,"div",5),a.qZA()()()()()),2&c&&(a.xp6(14),a.hij(" ",42," "),a.xp6(8),a.hij(" ",17," "),a.xp6(8),a.hij(" ",34," "),a.xp6(9),a.hij(" ",77," "),a.xp6(8),a.hij(" ",86," "),a.xp6(8),a.hij(" ",621," "))},dependencies:[t.G],styles:[".row[_ngcontent-%COMP%]{display:flex!important;justify-content:space-evenly!important}"]}),i})();var g=n(24006),p=n(34793),_=n(88796),E=n(59245),d=n(30329),v=n(372),y=n(59501),C=n(21532),s=n(34984);const o=[{path:"",component:y.f,children:[{path:"",component:m}]}];let e=(()=>{class i{}return i.\u0275fac=function(c){return new(c||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[l.ez,C.x,p.Bz.forChild(o),_.A0,g.u5,g.UX,s.Ns.forRoot({echarts:()=>Promise.resolve().then(n.bind(n,14734))}),d.D,v.kn,E.mr]}),i})()},34984:(T,u,n)=>{n.d(u,{Ns:()=>C,_w:()=>y});var l=n(15861),h=n(94650),a=n(21086),t=n(68896),m=n(8929),g=n(20353),p=n(34202),_=n(66753),E=n(87545);class d{constructor(o){this.changes=o}static of(o){return new d(o)}notEmpty(o){if(this.changes[o]){const e=this.changes[o].currentValue;if(null!=e)return(0,a.of)(e)}return t.E}has(o){return this.changes[o]?(0,a.of)(this.changes[o].currentValue):t.E}notFirst(o){return this.changes[o]&&!this.changes[o].isFirstChange()?(0,a.of)(this.changes[o].currentValue):t.E}notFirstAndEmpty(o){if(this.changes[o]&&!this.changes[o].isFirstChange()){const e=this.changes[o].currentValue;if(null!=e)return(0,a.of)(e)}return t.E}}const v=new h.OlP("NGX_ECHARTS_CONFIG");let y=(()=>{class s{constructor(e,i,r){this.el=i,this.ngZone=r,this.autoResize=!0,this.loadingType="default",this.chartInit=new h.vpe,this.optionsError=new h.vpe,this.chartClick=this.createLazyEvent("click"),this.chartDblClick=this.createLazyEvent("dblclick"),this.chartMouseDown=this.createLazyEvent("mousedown"),this.chartMouseMove=this.createLazyEvent("mousemove"),this.chartMouseUp=this.createLazyEvent("mouseup"),this.chartMouseOver=this.createLazyEvent("mouseover"),this.chartMouseOut=this.createLazyEvent("mouseout"),this.chartGlobalOut=this.createLazyEvent("globalout"),this.chartContextMenu=this.createLazyEvent("contextmenu"),this.chartLegendSelectChanged=this.createLazyEvent("legendselectchanged"),this.chartLegendSelected=this.createLazyEvent("legendselected"),this.chartLegendUnselected=this.createLazyEvent("legendunselected"),this.chartLegendScroll=this.createLazyEvent("legendscroll"),this.chartDataZoom=this.createLazyEvent("datazoom"),this.chartDataRangeSelected=this.createLazyEvent("datarangeselected"),this.chartTimelineChanged=this.createLazyEvent("timelinechanged"),this.chartTimelinePlayChanged=this.createLazyEvent("timelineplaychanged"),this.chartRestore=this.createLazyEvent("restore"),this.chartDataViewChanged=this.createLazyEvent("dataviewchanged"),this.chartMagicTypeChanged=this.createLazyEvent("magictypechanged"),this.chartPieSelectChanged=this.createLazyEvent("pieselectchanged"),this.chartPieSelected=this.createLazyEvent("pieselected"),this.chartPieUnselected=this.createLazyEvent("pieunselected"),this.chartMapSelectChanged=this.createLazyEvent("mapselectchanged"),this.chartMapSelected=this.createLazyEvent("mapselected"),this.chartMapUnselected=this.createLazyEvent("mapunselected"),this.chartAxisAreaSelected=this.createLazyEvent("axisareaselected"),this.chartFocusNodeAdjacency=this.createLazyEvent("focusnodeadjacency"),this.chartUnfocusNodeAdjacency=this.createLazyEvent("unfocusnodeadjacency"),this.chartBrush=this.createLazyEvent("brush"),this.chartBrushEnd=this.createLazyEvent("brushend"),this.chartBrushSelected=this.createLazyEvent("brushselected"),this.chartRendered=this.createLazyEvent("rendered"),this.chartFinished=this.createLazyEvent("finished"),this.animationFrameID=null,this.resize$=new m.xQ,this.echarts=e.echarts}ngOnChanges(e){const i=d.of(e);i.notFirstAndEmpty("options").subscribe(r=>this.onOptionsChange(r)),i.notFirstAndEmpty("merge").subscribe(r=>this.setOption(r)),i.has("loading").subscribe(r=>this.toggleLoading(!!r)),i.notFirst("theme").subscribe(()=>this.refreshChart())}ngOnInit(){if(!window.ResizeObserver)throw new Error("please install a polyfill for ResizeObserver");this.resizeSub=this.resize$.pipe((0,_.p)(100,g.z,{leading:!1,trailing:!0})).subscribe(()=>this.resize()),this.autoResize&&(this.resizeOb=this.ngZone.runOutsideAngular(()=>new window.ResizeObserver(()=>{this.animationFrameID=window.requestAnimationFrame(()=>this.resize$.next())})),this.resizeOb.observe(this.el.nativeElement))}ngOnDestroy(){window.clearTimeout(this.initChartTimer),this.resizeSub&&this.resizeSub.unsubscribe(),this.animationFrameID&&window.cancelAnimationFrame(this.animationFrameID),this.resizeOb&&this.resizeOb.unobserve(this.el.nativeElement),this.dispose()}ngAfterViewInit(){this.initChartTimer=window.setTimeout(()=>this.initChart())}dispose(){this.chart&&(this.chart.isDisposed()||this.chart.dispose(),this.chart=null)}resize(){this.chart&&this.chart.resize()}toggleLoading(e){this.chart&&(e?this.chart.showLoading(this.loadingType,this.loadingOpts):this.chart.hideLoading())}setOption(e,i){if(this.chart)try{this.chart.setOption(e,i)}catch(r){console.error(r),this.optionsError.emit(r)}}refreshChart(){var e=this;return(0,l.Z)(function*(){e.dispose(),yield e.initChart()})()}createChart(){const e=this.el.nativeElement;if(window&&window.getComputedStyle){const i=window.getComputedStyle(e,null).getPropertyValue("height");(!i||"0px"===i)&&(!e.style.height||"0px"===e.style.height)&&(e.style.height="400px")}return this.ngZone.runOutsideAngular(()=>("function"==typeof this.echarts?this.echarts:()=>Promise.resolve(this.echarts))().then(({init:r})=>r(e,this.theme,this.initOpts)))}initChart(){var e=this;return(0,l.Z)(function*(){yield e.onOptionsChange(e.options),e.merge&&e.chart&&e.setOption(e.merge)})()}onOptionsChange(e){var i=this;return(0,l.Z)(function*(){!e||(i.chart||(i.chart=yield i.createChart(),i.chartInit.emit(i.chart)),i.setOption(i.options,!0))})()}createLazyEvent(e){return this.chartInit.pipe((0,E.w)(i=>new p.y(r=>(i.on(e,c=>this.ngZone.run(()=>r.next(c))),()=>{this.chart&&(this.chart.isDisposed()||i.off(e))}))))}}return s.\u0275fac=function(e){return new(e||s)(h.Y36(v),h.Y36(h.SBq),h.Y36(h.R0b))},s.\u0275dir=h.lG2({type:s,selectors:[["echarts"],["","echarts",""]],inputs:{options:"options",theme:"theme",loading:"loading",initOpts:"initOpts",merge:"merge",autoResize:"autoResize",loadingType:"loadingType",loadingOpts:"loadingOpts"},outputs:{chartInit:"chartInit",optionsError:"optionsError",chartClick:"chartClick",chartDblClick:"chartDblClick",chartMouseDown:"chartMouseDown",chartMouseMove:"chartMouseMove",chartMouseUp:"chartMouseUp",chartMouseOver:"chartMouseOver",chartMouseOut:"chartMouseOut",chartGlobalOut:"chartGlobalOut",chartContextMenu:"chartContextMenu",chartLegendSelectChanged:"chartLegendSelectChanged",chartLegendSelected:"chartLegendSelected",chartLegendUnselected:"chartLegendUnselected",chartLegendScroll:"chartLegendScroll",chartDataZoom:"chartDataZoom",chartDataRangeSelected:"chartDataRangeSelected",chartTimelineChanged:"chartTimelineChanged",chartTimelinePlayChanged:"chartTimelinePlayChanged",chartRestore:"chartRestore",chartDataViewChanged:"chartDataViewChanged",chartMagicTypeChanged:"chartMagicTypeChanged",chartPieSelectChanged:"chartPieSelectChanged",chartPieSelected:"chartPieSelected",chartPieUnselected:"chartPieUnselected",chartMapSelectChanged:"chartMapSelectChanged",chartMapSelected:"chartMapSelected",chartMapUnselected:"chartMapUnselected",chartAxisAreaSelected:"chartAxisAreaSelected",chartFocusNodeAdjacency:"chartFocusNodeAdjacency",chartUnfocusNodeAdjacency:"chartUnfocusNodeAdjacency",chartBrush:"chartBrush",chartBrushEnd:"chartBrushEnd",chartBrushSelected:"chartBrushSelected",chartRendered:"chartRendered",chartFinished:"chartFinished"},exportAs:["echarts"],features:[h.TTD]}),s})(),C=(()=>{class s{static forRoot(e){return{ngModule:s,providers:[{provide:v,useValue:e}]}}static forChild(){return{ngModule:s}}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=h.oAB({type:s}),s.\u0275inj=h.cJS({}),s})()}}]);