"use strict";(self.webpackChunkst_admin=self.webpackChunkst_admin||[]).push([[4146],{76916:(B,v,_)=>{_.d(v,{G:()=>T});var l=_(34793),O=_(92198),t=_(94650),E=_(89383),d=_(60097),h=_(36895);function P(a,r){if(1&a&&(t.TgZ(0,"a",14)(1,"span",15),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&a){const n=t.oxw().$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,1,n.label)," ")}}function p(a,r){if(1&a&&(t.TgZ(0,"a",16)(1,"span",15),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&a){const n=t.oxw(),s=n.$implicit,o=n.last,e=t.oxw(2);t.Q6J("routerLink",s.url)("queryParams",o&&e.route.snapshot.queryParams),t.xp6(2),t.hij(" ",t.lcZ(3,3,s.label)," ")}}function D(a,r){if(1&a&&(t.ynx(0),t.TgZ(1,"li",10)(2,"span"),t._uU(3," > "),t.qZA()(),t.TgZ(4,"li",11),t.YNc(5,P,4,3,"a",12),t.YNc(6,p,4,5,"a",13),t.qZA(),t.BQk()),2&a){const n=r.first;t.xp6(5),t.Q6J("ngIf",n),t.xp6(1),t.Q6J("ngIf",!n)}}function g(a,r){if(1&a&&(t.TgZ(0,"div",1)(1,"div",2)(2,"div",3),t._UZ(3,"h3",4),t.TgZ(4,"ul",5)(5,"li",6)(6,"a",7),t._UZ(7,"i",8),t.qZA()(),t.YNc(8,D,7,2,"ng-container",9),t.qZA()(),t.TgZ(9,"div"),t.Hsn(10),t.qZA()()()),2&a){const n=t.oxw();t.xp6(3),t.Q6J("innerHTML",n.title,t.oJD),t.xp6(5),t.Q6J("ngForOf",n.breads)}}const u=["*"];let T=(()=>{class a{constructor(n,s,o,e){this.router=n,this.route=s,this.translate=o,this._carparkService=e,this.breads=[],this.loginUser=""}ngOnInit(){let n=JSON.parse(localStorage.getItem("user-roles"))[0];this.loginUser=n,console.log(this.loginUser,"\u4fe1\u606f"),this.breads=this.buildBreadCrumb(this.route.root),this.translate.get(this.breads[0].label).subscribe(o=>{this.label=o}),this.router.events.pipe((0,O.h)(o=>o instanceof l.m2)).subscribe(()=>{this.breads=this.buildBreadCrumb(this.route.root)})}buildBreadCrumb(n,s=[""],o=[]){const e=n.snapshot.url[0]&&n.snapshot.url[0].path,M=[...s,e],m={...this.extractBreadcrumb(n),url:M},c=e&&m.label?[...o,m]:o;return this.title=m.title||this.title||"",this.isMotorist&&"My Vehicle(s)"===m.label&&(this.title="My Vehicle(s)"),n.firstChild?e?this.buildBreadCrumb(n.firstChild,M,c):this.buildBreadCrumb(n.firstChild,s,o):(this.translate.get(this.title).subscribe(C=>{this.title=C}),c)}get isMotorist(){return this._carparkService.isMotorist()}extractBreadcrumb(n){return n.snapshot.data.breadcrumb instanceof Function?n.snapshot.data.breadcrumb(n):n.snapshot.data.breadcrumb}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(l.F0),t.Y36(l.gz),t.Y36(E.sK),t.Y36(d.x))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-title-bar"]],ngContentSelectors:u,decls:1,vars:1,consts:[["class","m-subheader",4,"ngIf"],[1,"m-subheader"],[1,"d-flex","align-items-center"],[1,"mr-auto"],[1,"m-subheader__title","m-subheader__title--separator","text-main",3,"innerHTML"],[1,"m-subheader__breadcrumbs","m-nav","m-nav--inline"],[1,"m-nav__item","m-nav__item--home"],["routerLink","/",1,"m-nav__link","m-nav__link--icon"],[1,"m-nav__link-icon","la","la-home"],[4,"ngFor","ngForOf"],[1,"m-nav__separator"],[1,"m-nav__item"],["class","m-nav__link",4,"ngIf"],["class","m-nav__link",3,"routerLink","queryParams",4,"ngIf"],[1,"m-nav__link"],[1,"m-nav__link-text"],[1,"m-nav__link",3,"routerLink","queryParams"]],template:function(n,s){1&n&&(t.F$t(),t.YNc(0,g,11,2,"div",0)),2&n&&t.Q6J("ngIf","ROLE_TPO_PARTNER"!==s.loginUser)},dependencies:[h.sg,h.O5,l.yS,E.X$],encapsulation:2}),a})()},85025:(B,v,_)=>{_.d(v,{x:()=>f});var l=_(82174),O=_(61643),t=_(36895),E=_(80529),d=_(24006),h=_(34793),P=_(372),p=_(30329),D=_(21532),g=_(88796),u=_(89383),T=_(19832),a=_(59245),r=_(89518),n=_(3108),s=_(22630),o=_(29252),e=_(34984),M=_(77530),m=_(15455),c=_(94650);function C(i){return new T.w(i,"../assets/i18n/",".json")}let f=(()=>{class i{}return i.\u0275fac=function(U){return new(U||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[t.ez,d.u5,h.Bz,D.x,p.D,P.kn,l.su,O.r,a.mr,g.A0,r.H3,n._,s.z,d.UX,o.E7,e.Ns.forRoot({echarts:()=>_.e(4734).then(_.bind(_,14734))}),M.v,u.aw.forChild({loader:{provide:u.Zw,useFactory:C,deps:[E.eN]}}),m.e]}),i})()}}]);