"use strict";(self.webpackChunkst_admin=self.webpackChunkst_admin||[]).push([[2010],{76916:(w,P,a)=>{a.d(P,{G:()=>I});var g=a(34793),_=a(92198),f=a(38014),r=a(94650),t=a(89383),D=a(60097),b=a(36895);function N(m,T){if(1&m&&(r.TgZ(0,"a",14)(1,"span",15),r._uU(2),r.ALo(3,"translate"),r.qZA()()),2&m){const l=r.oxw().$implicit;r.xp6(2),r.hij(" ",r.lcZ(3,1,l.label)," ")}}function U(m,T){if(1&m&&(r.TgZ(0,"a",16)(1,"span",15),r._uU(2),r.ALo(3,"translate"),r.qZA()()),2&m){const l=r.oxw(),p=l.$implicit,c=l.last,A=r.oxw(2);r.Q6J("routerLink",p.url)("queryParams",c&&A.route.snapshot.queryParams),r.xp6(2),r.hij(" ",r.lcZ(3,3,p.label)," ")}}function M(m,T){if(1&m&&(r.ynx(0),r.TgZ(1,"li",10)(2,"span"),r._uU(3," > "),r.qZA()(),r.TgZ(4,"li",11),r.YNc(5,N,4,3,"a",12),r.YNc(6,U,4,5,"a",13),r.qZA(),r.BQk()),2&m){const l=T.first;r.xp6(5),r.Q6J("ngIf",l),r.xp6(1),r.Q6J("ngIf",!l)}}function y(m,T){if(1&m){const l=r.EpF();r.TgZ(0,"div",1)(1,"div",2)(2,"div",3),r._UZ(3,"h3",4),r.TgZ(4,"ul",5)(5,"li",6)(6,"a",7),r.NdJ("click",function(){r.CHM(l);const c=r.oxw();return r.KtG(c.jumpHome())}),r._UZ(7,"i",8),r.qZA()(),r.YNc(8,M,7,2,"ng-container",9),r.qZA()(),r.TgZ(9,"div"),r.Hsn(10),r.qZA()()()}if(2&m){const l=r.oxw();r.xp6(3),r.Q6J("innerHTML",l.title,r.oJD),r.xp6(5),r.Q6J("ngForOf",l.breads)}}const L=["*"];let I=(()=>{class m{constructor(l,p,c,A){this.router=l,this.route=p,this.translate=c,this._carparkService=A,this.breads=[],this.loginUser=""}ngOnInit(){let l=JSON.parse(localStorage.getItem("user-roles"))[0];this.loginUser=l,console.log(this.loginUser,"\u4fe1\u606f"),this.breads=this.buildBreadCrumb(this.route.root),this.translate.get(this.breads[0].label).subscribe(c=>{this.label=c}),this.router.events.pipe((0,_.h)(c=>c instanceof g.m2)).subscribe(()=>{this.breads=this.buildBreadCrumb(this.route.root)})}buildBreadCrumb(l,p=[""],c=[]){const A=l.snapshot.url[0]&&l.snapshot.url[0].path,E=[...p,A],z={...this.extractBreadcrumb(l),url:E},C=A&&z.label?[...c,z]:c;return this.title=z.title||this.title||"",this.isMotorist&&"My Vehicle(s)"===z.label&&(this.title="My Vehicle(s)"),l.firstChild?A?this.buildBreadCrumb(l.firstChild,E,C):this.buildBreadCrumb(l.firstChild,p,c):(this.translate.get(this.title).subscribe(O=>{this.title=O}),C)}get isMotorist(){return this._carparkService.isMotorist()}extractBreadcrumb(l){return l.snapshot.data.breadcrumb instanceof Function?l.snapshot.data.breadcrumb(l):l.snapshot.data.breadcrumb}jumpHome(){let l=JSON.parse(localStorage.getItem("user-roles"))[0]??"";this.router.navigate(l.length?[f.gpL[l]]:["/"])}}return m.\u0275fac=function(l){return new(l||m)(r.Y36(g.F0),r.Y36(g.gz),r.Y36(t.sK),r.Y36(D.x))},m.\u0275cmp=r.Xpm({type:m,selectors:[["app-title-bar"]],ngContentSelectors:L,decls:1,vars:1,consts:[["class","m-subheader",4,"ngIf"],[1,"m-subheader"],[1,"d-flex","align-items-center"],[1,"mr-auto"],[1,"m-subheader__title","m-subheader__title--separator","text-main",3,"innerHTML"],[1,"m-subheader__breadcrumbs","m-nav","m-nav--inline"],[1,"m-nav__item","m-nav__item--home"],[1,"m-nav__link","m-nav__link--icon",3,"click"],[1,"m-nav__link-icon","la","la-home"],[4,"ngFor","ngForOf"],[1,"m-nav__separator"],[1,"m-nav__item"],["class","m-nav__link",4,"ngIf"],["class","m-nav__link",3,"routerLink","queryParams",4,"ngIf"],[1,"m-nav__link"],[1,"m-nav__link-text"],[1,"m-nav__link",3,"routerLink","queryParams"]],template:function(l,p){1&l&&(r.F$t(),r.YNc(0,y,11,2,"div",0)),2&l&&r.Q6J("ngIf","ROLE_TPO_PARTNER"!==p.loginUser)},dependencies:[b.sg,b.O5,g.yS,t.X$],encapsulation:2}),m})()},22010:(w,P,a)=>{a.r(P),a.d(P,{AdminModule:()=>vt,createTranslateLoader:()=>k});var g=a(36895),_=a(24006),f=a(34793),r=a(72986),t=a(94650),D=a(3927),b=a(80529),N=a(28555),U=a(91599);let M=(()=>{class n extends D.su{constructor(e,o,s){super(e,o),this.http=e,this.store=o,this.modelName="User",this.baseUrl="api/adminUsers",this.handleError=s.createHandleError(`${this.modelName}Service`)}createModel(e){const o=this.getUrl("api/register");return this.post(o,e)}getModel(e){const o=this.getUrl(`api/users/getById/${e}`);return this.get(o)}updateModel(e){const o=this.getUrl("api/users");return this.put(o,e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(b.eN),t.LFG(N.yh),t.LFG(U.k))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),y=(()=>{class n{constructor(e,o){this.adminUserService=e,this.router=o}resolve(e){return this.adminUserService.getModel(e.paramMap.get("id")).pipe((0,r.q)(1))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(M),t.LFG(f.F0))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();var L=a(42684),I=a(30329),m=a(51013),T=a(59501),l=a(59245),p=a(21532),c=a(60097),A=a(36511),E=a(73071),z=a(88796),C=a(89383),O=a(19832);function J(n){return new O.w(n,"../assets/i18n/",".json")}let B=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[U.k,L.e,c.x,E.K,A.I],imports:[f.Bz,g.ez,p.x,_.u5,I.D,z.A0,C.aw.forChild({loader:{provide:C.Zw,useFactory:J,deps:[b.eN]}})]}),n})();var Z=a(76916),v=a(38014);const Q={singleSelection:!1,text:"Select Car Parks",selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,classes:"m-multiselect"};var R=a(8929),Y=a(1059),j=a(80013),H=a(75778),F=a(2994),W=a(87545),$=a(88117),K=a(35635),q=a(66616),G=a(47044),V=a(21811),S=a(38231);function tt(n,d){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.form.id," ")}}function et(n,d){if(1&n&&t._UZ(0,"nz-option",27),2&n){const e=d.$implicit;t.Q6J("nzValue",e.value)("nzLabel",e.name)}}function nt(n,d){1&n&&(t.TgZ(0,"div",28),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Field is required.")," "))}function ot(n,d){1&n&&(t.TgZ(0,"div",28),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Field is required.")," "))}function at(n,d){1&n&&(t.TgZ(0,"div",28),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Field is required.")," "))}function rt(n,d){if(1&n){const e=t.EpF();t.TgZ(0,"nz-input-group",29)(1,"nz-select",30),t.NdJ("ngModelChange",function(s){t.CHM(e);const i=t.oxw();return t.KtG(i.mobileCode=s)}),t._UZ(2,"nz-option",31),t.qZA(),t.TgZ(3,"input",32,33),t.NdJ("ngModelChange",function(s){t.CHM(e);const i=t.oxw();return t.KtG(i.mobileNo=s)}),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngModel",e.mobileCode),t.xp6(1),t.Q6J("nzLabel","+65")("nzValue","+65"),t.xp6(1),t.Q6J("ngModel",e.mobileNo)}}function it(n,d){if(1&n){const e=t.EpF();t.TgZ(0,"input",34,35),t.NdJ("ngModelChange",function(s){t.CHM(e);const i=t.oxw();return t.KtG(i.form.hpNumber=s)}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("ngModel",e.form.hpNumber)}}let X=(()=>{class n{constructor(e,o,s,i,u){this.router=e,this.carparkService=o,this.userService=s,this.codeTablesService=i,this.translate=u,this.canceled=new t.vpe,this.submitted=new t.vpe,this.form=(0,v.qpA)(),this.showPassword=!1,this.genderOptions=v.mbI,this.identityTypeOptions=v.KiP,this.carparkOptions=[],this.selectedCarParks=[],this.carParkSelectSettings=Q,this.mobileCode="+65",this.ownerInput$=new R.xQ,this.operatorInput$=new R.xQ,this.roleobj=""}ngOnInit(){this.roleobj=JSON.parse(localStorage.getItem("user-roles"))[0],this.owner$=this.ownerInput$.pipe((0,Y.O)(""),(0,j.b)(200),(0,H.x)(),(0,F.b)(()=>this.ownerLoading=!0),(0,W.w)(e=>this.userService.searchOwners(e).pipe((0,F.b)(()=>this.ownerLoading=!1))),(0,$.B)()),this.owner$.pipe((0,r.q)(1)).subscribe(e=>this.form.ownerId=this.form.ownerId||e[0]&&e[0].id),this.operator$=this.operatorInput$.pipe((0,Y.O)(""),(0,j.b)(200),(0,H.x)(),(0,F.b)(()=>this.operatorLoading=!0),(0,W.w)(e=>this.userService.searchOperators(e).pipe((0,F.b)(()=>this.operatorLoading=!1))),(0,$.B)()),this.operator$.pipe((0,r.q)(1)).subscribe(e=>this.form.operatorId=this.form.operatorId||e[0]&&e[0].id),this.roles$=this.codeTablesService.filterModelByType(v.BcL.UserAuthority,this.roleobj)}togglePassword(){this.showPassword=!this.showPassword}cancel(){this.canceled.emit()}submit(){this.form.hpNumber=this.form.id?this.form.hpNumber:`${this.mobileCode}${this.mobileNo}`,this.submitted.emit(this.form)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.F0),t.Y36(c.x),t.Y36(E.K),t.Y36(A.I),t.Y36(C.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-admins-form"]],inputs:{form:"form"},outputs:{canceled:"canceled",submitted:"submitted"},decls:66,vars:37,consts:[[1,"m-form","m-form--fit","m-form--label-align-right"],[1,"m-portlet"],[1,"m-portlet__head"],[1,"m-portlet__head-caption"],[1,"m-portlet__head-title"],[1,"m-portlet__head-text"],[4,"ngIf"],[1,"m-portlet__body"],[1,"row","form-group","m-form__group"],[1,"col-form-label","col-lg-2","col-sm-12"],[1,"m--font-danger"],[1,"col-lg-4","col-sm-12"],["name","userRole","nzPlaceHolder","Please Select",2,"width","100%",3,"ngModel","ngModelChange"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nz-input","","type","text","name","firstName","placeholder","","required","",3,"ngModel","ngModelChange"],["firstName","ngModel"],["class","form-control-feedback",4,"ngIf"],["nz-input","","type","text","name","lastName","placeholder","","required","",3,"ngModel","ngModelChange"],["lastName","ngModel"],["nz-input","","type","text","name","email","placeholder","","required","",3,"ngModel","ngModelChange"],["email","ngModel"],["nzCompact","",4,"ngIf","ngIfElse"],["editMobile",""],[1,"m-portlet__foot","bg-light-gray"],[1,"m-form__actions","m-form__actions--right"],["nz-button","","nzType","primary","nzSize","large","nzGhost","",1,"btn-form-ops",3,"click"],["nz-button","","nzType","primary","nzSize","large",1,"btn-form-ops","m--margin-left-30",3,"click"],[3,"nzValue","nzLabel"],[1,"form-control-feedback"],["nzCompact",""],["name","mobileCodeControl",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue"],["type","text","nz-input","","name","mobileNumberControl","required","",2,"width","calc(100% - 70px)",3,"ngModel","ngModelChange"],["mobileNumberControl","ngModel"],["nz-input","","type","text","name","hpNumber","placeholder","","required","",3,"ngModel","ngModelChange"],["hpNumber","ngModel"]],template:function(e,o){if(1&e&&(t.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),t._uU(6),t.ALo(7,"translate"),t.YNc(8,tt,2,1,"span",6),t.qZA()()()(),t.TgZ(9,"div",7)(10,"div",8)(11,"label",9)(12,"span",10),t._uU(13,"*"),t.qZA(),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"div",11)(17,"nz-select",12),t.NdJ("ngModelChange",function(i){return o.form.authorities[0]=i}),t.YNc(18,et,1,2,"nz-option",13),t.ALo(19,"async"),t.qZA()()(),t.TgZ(20,"div",8)(21,"label",9)(22,"span",10),t._uU(23,"*"),t.qZA(),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"div",11)(27,"input",14,15),t.NdJ("ngModelChange",function(i){return o.form.firstName=i}),t.qZA(),t.YNc(29,nt,3,3,"div",16),t.qZA(),t.TgZ(30,"label",9)(31,"span",10),t._uU(32,"*"),t.qZA(),t._uU(33),t.ALo(34,"translate"),t.qZA(),t.TgZ(35,"div",11)(36,"input",17,18),t.NdJ("ngModelChange",function(i){return o.form.lastName=i}),t.qZA(),t.YNc(38,ot,3,3,"div",16),t.qZA()(),t.TgZ(39,"div",8)(40,"label",9)(41,"span",10),t._uU(42,"*"),t.qZA(),t._uU(43),t.ALo(44,"translate"),t.qZA(),t.TgZ(45,"div",11)(46,"input",19,20),t.NdJ("ngModelChange",function(i){return o.form.email=i}),t.qZA(),t.YNc(48,at,3,3,"div",16),t.qZA(),t.TgZ(49,"label",9)(50,"span",10),t._uU(51,"*"),t.qZA(),t._uU(52),t.ALo(53,"translate"),t.qZA(),t.TgZ(54,"div",11),t.YNc(55,rt,5,4,"nz-input-group",21),t.YNc(56,it,2,1,"ng-template",null,22,t.W1O),t.qZA()()(),t.TgZ(58,"div",23)(59,"div",24)(60,"button",25),t.NdJ("click",function(){return o.cancel()}),t._uU(61),t.ALo(62,"translate"),t.qZA(),t.TgZ(63,"button",26),t.NdJ("click",function(){return o.submit()}),t._uU(64),t.ALo(65,"translate"),t.qZA()()()()()),2&e){const s=t.MAs(28),i=t.MAs(37),u=t.MAs(47),h=t.MAs(57);t.xp6(6),t.hij(" ",t.lcZ(7,19,"Account")," "),t.xp6(2),t.Q6J("ngIf",o.form.id),t.xp6(6),t.hij(" ",t.lcZ(15,21,"User Role"),": "),t.xp6(3),t.Q6J("ngModel",o.form.authorities[0]),t.xp6(1),t.Q6J("ngForOf",t.lcZ(19,23,o.roles$)),t.xp6(6),t.hij(" ",t.lcZ(25,25,"First Name"),": "),t.xp6(3),t.Q6J("ngModel",o.form.firstName),t.xp6(2),t.Q6J("ngIf",s.invalid&&(s.dirty||s.touched)),t.xp6(4),t.hij(" ",t.lcZ(34,27,"Last Name"),": "),t.xp6(3),t.Q6J("ngModel",o.form.lastName),t.xp6(2),t.Q6J("ngIf",i.invalid&&(i.dirty||i.touched)),t.xp6(5),t.hij(" ",t.lcZ(44,29,"Email"),": "),t.xp6(3),t.Q6J("ngModel",o.form.email),t.xp6(2),t.Q6J("ngIf",u.invalid&&(u.dirty||u.touched)),t.xp6(4),t.hij(" ",t.lcZ(53,31,"Mobile"),": "),t.xp6(3),t.Q6J("ngIf",!o.form.id)("ngIfElse",h),t.xp6(6),t.hij(" ",t.lcZ(62,33,"Cancel")," "),t.xp6(3),t.hij(" ",t.lcZ(65,35,"Submit")," ")}},dependencies:[g.sg,g.O5,K.Zp,K.gB,q.ix,G.w,V.dQ,S.Ip,S.Vq,_._Y,_.Fj,_.JJ,_.JL,_.Q7,_.On,_.F,g.Ov,C.X$],encapsulation:2}),n})(),st=(()=>{class n{constructor(e,o){this.router=e,this.adminUserService=o,this.breadcrumbs=[{text:"Admin",href:"/admins"},{text:"Create Admin"}]}ngOnInit(){}cancel(){this.router.navigate(["/admins"])}submit(e){this.adminUserService.createModel(e).subscribe(()=>{this.router.navigate(["/admins"])})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.F0),t.Y36(M))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-admins-create"]],decls:4,vars:0,consts:[[1,"body-wrapper"],[1,"m-content"],[3,"canceled","submitted"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-title-bar"),t.TgZ(2,"div",1)(3,"app-admins-form",2),t.NdJ("canceled",function(){return o.cancel()})("submitted",function(i){return o.submit(i)}),t.qZA()()())},dependencies:[Z.G,X],encapsulation:2}),n})();a(79118);var lt=a(52746),dt=a(47423),x=a(40269);function mt(n,d){if(1&n&&t._UZ(0,"nz-option",20),2&n){const e=d.$implicit;t.Q6J("nzValue",e.value)("nzLabel",e.text)}}function pt(n,d){if(1&n&&t._UZ(0,"nz-option",20),2&n){const e=d.$implicit;t.Q6J("nzValue",e.value)("nzLabel",e.text)}}function ct(n,d){if(1&n&&t._uU(0),2&n){const e=d.range;t.lnq(" ",e[0],"-",e[1]," of ",d.$implicit," items ")}}function _t(n,d){if(1&n&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&n){const e=d.$implicit;t.xp6(1),t.Oqu(e.text)}}function ut(n,d){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"tr")(2,"td",21),t.NdJ("nzExpandChange",function(s){const u=t.CHM(e).$implicit,h=t.oxw();return t.KtG(h.onExpandChange(u.id,s))}),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._UZ(10,"span",22),t.TgZ(11,"span",23),t._uU(12),t.qZA()(),t.TgZ(13,"td"),t._uU(14),t.ALo(15,"date"),t.qZA(),t.TgZ(16,"td")(17,"span",24),t._uU(18),t.qZA()(),t.TgZ(19,"td")(20,"a",25),t._UZ(21,"i",26),t.qZA()()(),t.TgZ(22,"tr",27)(23,"nz-table",28)(24,"thead")(25,"tr")(26,"th"),t._uU(27,"Identity Type"),t.qZA(),t.TgZ(28,"th"),t._uU(29,"Identity No."),t.qZA(),t.TgZ(30,"th"),t._uU(31,"Gender"),t.qZA(),t.TgZ(32,"th"),t._uU(33,"Car Park"),t.qZA()()(),t.TgZ(34,"tbody")(35,"tr")(36,"td"),t._uU(37),t.qZA(),t.TgZ(38,"td"),t._uU(39),t.qZA(),t.TgZ(40,"td"),t._uU(41),t.qZA(),t.TgZ(42,"td"),t._uU(43),t.qZA()()()()(),t.BQk()}if(2&n){const e=d.$implicit,o=d.index,s=t.oxw();t.xp6(1),t.ekj("ant-table-row-odd",o%2==1),t.xp6(1),t.Q6J("nzExpand",s.expandSet.has(e.id)),t.xp6(2),t.Oqu(e.id),t.xp6(2),t.AsE("",e.firstName," ",e.lastName,""),t.xp6(2),t.Oqu(e.email),t.xp6(2),t.Q6J("ngClass","m-badge-"+s.roleProp(e.authorities,"color")),t.xp6(2),t.hij(" ",s.roleProp(e.authorities,"text")," "),t.xp6(2),t.Oqu(t.lcZ(15,19,e.createdDate)),t.xp6(3),t.Q6J("ngClass","m-badge--"+s.statusProp(e.status,"color")),t.xp6(1),t.hij(" ",s.statusProp(e.status,"text")," "),t.xp6(2),t.Q6J("routerLink","/admins/"+e.id+"/update"),t.xp6(2),t.Q6J("nzExpand",s.expandSet.has(e.id)),t.xp6(1),t.Q6J("nzShowPagination",!1),t.xp6(14),t.Oqu(e.identityType||"-"),t.xp6(2),t.Oqu(e.identityNo||"-"),t.xp6(2),t.Oqu(s.genderProp(e.gender,"text")),t.xp6(2),t.Oqu(s.carParkText(e))}}function k(n){return new O.w(n,"../assets/i18n/",".json")}const ft=[{path:"",component:T.f,children:[{path:"",component:(()=>{class n extends lt.t{constructor(e,o,s){super(),this.router=e,this.adminService=o,this.translate=s,this.roleId="",this.status="",this.keyword="",this.statusOptions=v.ZND,this.roleOptions=v.kI8,this.keyword$=new R.xQ,this.expandSet=new Set,this.tableHeaders=[{text:"ID",column:"id",width:"80px"},{text:"Name",column:"name",width:"150px"},{text:"Email",column:"email",width:"120px"},{text:"User Role",column:"roleId",width:"130px"},{text:"Created Date",column:"createdAt",width:"120px"},{text:"Status",column:"status",width:"120px"},{text:"Actions",width:"100px"}]}gotoCreate(){this.router.navigate(["/admins/create"])}get filterParams(){return{roleId:this.roleId,status:this.status,key:this.keyword,remarks:this.intoRole}}carParkText(){return"N/A"}genderProp(e,o){return(0,v.e9Z)(v.mbI,e,o)}roleProp(e,o){return(0,v.YRf)(v.kI8,e,o)}statusProp(e,o){return(0,v.e9Z)(v.ZND,e,o)}pageChanged(e){this.pagination=e,this.reloadData()}reloadData(){this.reloadDataService(this.adminService)}ngOnDestroy(){this.keywordListener?.unsubscribe()}ngOnInit(){this.intoRole=JSON.parse(localStorage.getItem("user-roles"))[0],this.keywordListener=this.keyword$?.debounceTime(500).subscribe(()=>{this.reloadData()}),this.reloadData();const e=this.tableHeaders.map(i=>i.text);this.translate.get(e).subscribe(i=>{this.tableHeaders.forEach(u=>{for(let h in i)i.hasOwnProperty(h)&&u.text===h&&(u.text=i[h])})});const o=this.roleOptions.map(i=>i.text);this.translate.get(o).subscribe(i=>{this.roleOptions.forEach(u=>{for(let h in i)i.hasOwnProperty(h)&&u.text===h&&(u.text=i[h])})});const s=this.statusOptions.map(i=>i.text);this.translate.get(s).subscribe(i=>{this.statusOptions.forEach(u=>{for(let h in i)i.hasOwnProperty(h)&&u.text===h&&(u.text=i[h])})})}onExpandChange(e,o){o?this.expandSet.add(e):this.expandSet.delete(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.F0),t.Y36(M),t.Y36(C.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-admins-home"]],features:[t.qOj],decls:41,vars:21,consts:[[1,"body-wrapper"],["nz-button","","nzType","primary","nzSize","large","nzShape","round",3,"click"],["nz-icon","","nzType","plus","nzTheme","outline"],[1,"m-content"],[1,"m-portlet"],[1,"m-portlet__body","m-portlet__body--scrollable"],[1,"m-portlet__frame"],[1,"form-group","m-form__group","m-portlet__filters"],[1,"filter-wrap"],[1,"filter-item"],[1,"filter-label"],["nzPlaceHolder","Please Select",2,"width","160px",3,"ngModel","ngModelChange"],["nzValue","","nzLabel","All"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nz-input","","type","text","placeholder","Name / Mobile / Email",2,"width","190px",3,"ngModel","ngModelChange"],["rangeTemplate",""],[3,"nzData","nzFrontPagination","nzLoading","nzTotal","nzPageSize","nzPageIndex","nzShowSizeChanger","nzShowTotal","nzQueryParams"],["basicTable",""],["nzWidth","60px"],[4,"ngFor","ngForOf"],[3,"nzValue","nzLabel"],[3,"nzExpand","nzExpandChange"],[1,"m-badge","m-badge--info","m-badge--dot",3,"ngClass"],[1,"m--font-bold","m--font-info"],[1,"m-badge","m-badge--wide",3,"ngClass"],[1,"btn","btn-outline-primary","m-btn","m-btn--icon","m-btn--icon-only","m-btn--custom","m-btn--pill","no-border",3,"routerLink"],[1,"la","la-edit"],[3,"nzExpand"],["nzSize","small","nzTemplateMode","",3,"nzShowPagination"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"app-title-bar")(2,"button",1),t.NdJ("click",function(){return o.gotoCreate()}),t._UZ(3,"span",2),t._uU(4,"Create Account"),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"span",10),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"nz-select",11),t.NdJ("ngModelChange",function(i){return o.roleId=i})("ngModelChange",function(){return o.reloadData()}),t._UZ(16,"nz-option",12),t.YNc(17,mt,1,2,"nz-option",13),t.qZA()()(),t.TgZ(18,"div",8)(19,"div",9)(20,"span",10),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"nz-select",11),t.NdJ("ngModelChange",function(i){return o.status=i})("ngModelChange",function(){return o.reloadData()}),t._UZ(24,"nz-option",12),t.YNc(25,pt,1,2,"nz-option",13),t.qZA()()(),t.TgZ(26,"div",8)(27,"div",9)(28,"span",10),t._uU(29,"Name / Mobile / Email:"),t.qZA(),t.TgZ(30,"input",14),t.NdJ("ngModelChange",function(i){return o.keyword=i})("ngModelChange",function(i){return o.keyword$.next(i)}),t.qZA()()()(),t.YNc(31,ct,1,3,"ng-template",null,15,t.W1O),t.TgZ(33,"nz-table",16,17),t.NdJ("nzQueryParams",function(i){return o.onQueryParamsChange(i)}),t.TgZ(35,"thead")(36,"tr"),t._UZ(37,"th",18),t.YNc(38,_t,2,1,"th",19),t.qZA()(),t.TgZ(39,"tbody"),t.YNc(40,ut,44,21,"ng-container",19),t.qZA()()()()()()()),2&e){const s=t.MAs(32),i=t.MAs(34);t.xp6(13),t.hij("",t.lcZ(14,17,"User Role"),":"),t.xp6(2),t.Q6J("ngModel",o.roleId),t.xp6(2),t.Q6J("ngForOf",o.roleOptions),t.xp6(4),t.hij("",t.lcZ(22,19,"Status"),":"),t.xp6(2),t.Q6J("ngModel",o.status),t.xp6(2),t.Q6J("ngForOf",o.statusOptions),t.xp6(5),t.Q6J("ngModel",o.keyword),t.xp6(3),t.Q6J("nzData",o.listData)("nzFrontPagination",!1)("nzLoading",o.loading)("nzTotal",o.pagination.totalCount)("nzPageSize",o.pagination.rowsPerPage)("nzPageIndex",o.pagination.page)("nzShowSizeChanger",!0)("nzShowTotal",s),t.xp6(5),t.Q6J("ngForOf",o.tableHeaders),t.xp6(2),t.Q6J("ngForOf",i.data)}},dependencies:[g.mk,g.sg,_.Fj,_.JJ,_.On,f.yS,Z.G,K.Zp,dt.Ls,q.ix,G.w,V.dQ,S.Ip,S.Vq,x.N8,x.Uo,x._C,x.h7,x.Om,x.p0,x.$Z,x.d3,x.Vk,g.uU,C.X$],encapsulation:2}),n})()},{path:"create",component:st,data:{breadcrumb:{label:"Create"}}},{path:":id/update",component:(()=>{class n{constructor(e,o,s){this.router=e,this.route=o,this.adminUserService=s}ngOnInit(){this.item=this.route.snapshot.data.admin}delete(){this.adminUserService.deleteModel(this.item.id).subscribe(()=>{this.router.navigate(["/admins"])})}cancel(){this.router.navigate(["/admins"])}submit(e){this.adminUserService.updateModel(e).subscribe(()=>{this.router.navigate(["/admins"])})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.F0),t.Y36(f.gz),t.Y36(M))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-admins-update"]],decls:4,vars:1,consts:[[1,"body-wrapper"],[1,"m-content"],[3,"form","canceled","submitted"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-title-bar"),t.TgZ(2,"div",1)(3,"app-admins-form",2),t.NdJ("canceled",function(){return o.cancel()})("submitted",function(i){return o.submit(i)}),t.qZA()()()),2&e&&(t.xp6(3),t.Q6J("form",o.item))},dependencies:[Z.G,X],encapsulation:2}),n})(),data:{breadcrumb:{label:"Update"}},resolve:{admin:y}}]}];let vt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[U.k,L.e,M,y],imports:[g.ez,_.u5,f.Bz.forChild(ft),p.x,I.D,B,m.P,l.mr,C.aw.forChild({loader:{provide:C.Zw,useFactory:k,deps:[b.eN]}}),f.Bz]}),n})()},51013:(w,P,a)=>{a.d(P,{P:()=>B});var g=a(82174),_=a(61643),f=a(36895),r=a(24006),t=a(76284),D=a(64870),b=a(30329),N=a(34793),U=a(372),M=a(36511),y=a(24277),L=a(3108),I=a(88796),m=a(80529),T=a(89383),l=a(19832),p=a(22630),c=a(67556),A=a(61396),E=a(37096),z=a(44466),C=a(49651),O=a(94650);function J(Z){return new l.w(Z,"../assets/i18n/",".json")}let B=(()=>{class Z{}return Z.\u0275fac=function(Q){return new(Q||Z)},Z.\u0275mod=O.oAB({type:Z}),Z.\u0275inj=O.cJS({providers:[M.I,t.z,D.P,c.z$],imports:[f.ez,r.u5,b.D,U.kn,A.b,g.su,_.r,L._,N.Bz,I.A0,y.p,p.z,T.aw.forChild({loader:{provide:T.Zw,useFactory:J,deps:[m.eN]}}),E.Zf,z.m,C.gR]}),Z})()}}]);