"use strict";(self.webpackChunkst_admin=self.webpackChunkst_admin||[]).push([[4135],{80330:(H,T,l)=>{l.d(T,{d:()=>D});var C=l(36895),_=l(94650);let D=(()=>{class u{}return u.\u0275fac=function(U){return new(U||u)},u.\u0275mod=_.oAB({type:u}),u.\u0275inj=_.cJS({imports:[C.ez]}),u})()},24135:(H,T,l)=>{l.r(T),l.d(T,{EvOwnerDashboardModule:()=>ke,createTranslateLoader:()=>Y});var C=l(36895),_=l(80529),D=l(24006),u=l(34793),S=l(372),U=l(60097),M=l(77407),$=l(30329),I=l(88796),E=l(89383),z=l(19832),R=l(70853),G=l(97640),j=l(20388),q=l(34984),W=l(21532),V=l(80330),X=l(59501),d=l(38014),L=l(21837),K=l(8929),ee=l(72986),k=l(15439);function A(a,o){a.data.forEach((t,n)=>{t.value=o[n]})}function B(a,o,t){return`${a}`.length>=o?a:`${t}${a}`}function F(a){return(a=(9301*a+49297)%233280)/233280}function N(a,o){let n=(new Date).getTime();return o&&(n=o),Math.ceil(F(n)*a)}function J(a,o){let t=0;return a.forEach(n=>t+=n),+(t/o).toFixed(2)}function P(a,o,t,n={}){return{...n,title:{text:a},legend:{orient:"vertical",right:10,top:10},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c}$ ({d}%)",textStyle:{fontFamily:"Poppins"}},series:[{name:o,type:"pie",radius:"55%",center:["50%","60%"],data:t,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"},normal:{label:{textStyle:{fontFamily:"Poppins"}}}},label:{normal:{show:!1,position:"inside",formatter:"{b} : {c}$ ({d}%)"}}}]}}function b(a,o,t,n,s={legend:{},xAxis:{},grid:{}}){return{title:{text:a},tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},legend:{...s.legend,data:o,bottom:0},xAxis:[{...s.xAxis,type:"category",data:t,axisPointer:{type:"shadow"}}],yAxis:[{type:"value"}],series:n,grid:{...s.grid}}}function Q(a,o,t,n={areaStyle:{},itemStyle:{}}){return{xAxis:{type:"category",boundaryGap:!1,data:a},yAxis:{type:"value"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},series:[{data:t,type:"line",name:o,lineStyle:{width:0},itemStyle:{...n.itemStyle},showSymbol:!1,areaStyle:{...n.areaStyle}}]}}var e=l(94650),ie=l(76916),Z=l(40269),se=l(96599);const oe=["barChartElement"];function re(a,o){if(1&a&&(e.TgZ(0,"div")(1,"div",12)(2,"div",28)(3,"div",29),e._UZ(4,"div",30),e.TgZ(5,"div",30)(6,"p"),e._uU(7,"Transactions"),e.qZA(),e.TgZ(8,"p"),e._uU(9,"Energy(kWh)"),e.qZA(),e.TgZ(10,"p"),e._uU(11,"Revenue"),e.qZA()(),e.TgZ(12,"div",30)(13,"P"),e._uU(14),e.qZA(),e.TgZ(15,"P"),e._uU(16),e.qZA(),e.TgZ(17,"P"),e._uU(18),e.qZA()()()(),e.TgZ(19,"div",28)(20,"div",29)(21,"div",31),e._uU(22," Chargers "),e.qZA(),e.TgZ(23,"div",30)(24,"p"),e._uU(25,"Up"),e.qZA(),e.TgZ(26,"p"),e._uU(27,"Down"),e.qZA()(),e.TgZ(28,"div",30)(29,"p"),e._uU(30),e.qZA(),e.TgZ(31,"p"),e._uU(32),e.qZA()()()(),e.TgZ(33,"div",28)(34,"div",29),e._UZ(35,"div",30),e.TgZ(36,"div",30)(37,"p"),e._uU(38,"Unique "),e._UZ(39,"br"),e._uU(40," Vehicles"),e.qZA(),e.TgZ(41,"p"),e._uU(42,"Active"),e._UZ(43,"br"),e._uU(44," users"),e.qZA(),e.TgZ(45,"p"),e._uU(46,"New"),e._UZ(47,"br"),e._uU(48," Users"),e.qZA()(),e.TgZ(49,"div",30)(50,"p"),e._uU(51,"1680"),e.qZA(),e.TgZ(52,"p"),e._uU(53,"1680"),e.qZA(),e.TgZ(54,"p"),e._uU(55,"6"),e.qZA()()()(),e.TgZ(56,"div",28)(57,"div",29)(58,"div",31),e._uU(59," Connectors "),e.qZA(),e.TgZ(60,"div",30)(61,"p"),e._uU(62,"Total"),e.qZA(),e.TgZ(63,"p"),e._uU(64,"Available"),e.qZA(),e.TgZ(65,"p"),e._uU(66,"In-use"),e.qZA(),e.TgZ(67,"p"),e._uU(68,"Down"),e.qZA()(),e.TgZ(69,"div",30)(70,"p"),e._uU(71),e.qZA(),e.TgZ(72,"p"),e._uU(73),e.qZA(),e.TgZ(74,"p"),e._uU(75),e.qZA(),e.TgZ(76,"p"),e._uU(77),e.qZA()()()()()()),2&a){const t=e.oxw();e.Gre("m--padding-right-10 flex-column ",t.showDashbord.parking?"col-lg-6":"col-lg-12",""),e.xp6(14),e.hij(" ",t.TransactionsEnergyRevenue.totalTransactions||0," "),e.xp6(2),e.hij(" ",t.TransactionsEnergyRevenue.totalEnergy||0," "),e.xp6(2),e.hij(" ",t.TransactionsEnergyRevenue.totalRevenue||0," "),e.xp6(12),e.Oqu(t.ChargersUpDown.up||0),e.xp6(2),e.Oqu(t.ChargersUpDown.down||0),e.xp6(39),e.Oqu(t.ConnectorsTotalAvailableInuseDown.total||0),e.xp6(2),e.Oqu(t.ConnectorsTotalAvailableInuseDown.available||0),e.xp6(2),e.Oqu(t.ConnectorsTotalAvailableInuseDown.inUse||0),e.xp6(2),e.Oqu(t.ConnectorsTotalAvailableInuseDown.down||0)}}function le(a,o){if(1&a&&(e.TgZ(0,"div")(1,"div",12)(2,"div",28)(3,"div",29),e._UZ(4,"div",30),e.TgZ(5,"div",30)(6,"p"),e._uU(7,"Energy/session"),e._UZ(8,"br"),e._uU(9," (kWh)"),e.qZA(),e.TgZ(10,"p"),e._uU(11,"Revenue/session"),e._UZ(12,"br"),e._uU(13,"($)"),e.qZA()(),e.TgZ(14,"div",30)(15,"p"),e._uU(16),e.qZA(),e.TgZ(17,"p"),e._uU(18),e.qZA()()()(),e.TgZ(19,"div",28)(20,"div",29),e._UZ(21,"div",30),e.TgZ(22,"div",30)(23,"p"),e._uU(24,"Idle time"),e._UZ(25,"br"),e._uU(26,"\uff08mins\uff09"),e.qZA(),e.TgZ(27,"p"),e._uU(28,"downtime"),e._UZ(29,"br"),e._uU(30,"\uff08mins\uff09"),e.qZA()(),e.TgZ(31,"div",30)(32,"p"),e._uU(33,"103"),e.qZA(),e.TgZ(34,"p"),e._uU(35,"32"),e.qZA()()()(),e.TgZ(36,"div",28)(37,"div",29),e._UZ(38,"div",30),e.TgZ(39,"div",30)(40,"p"),e._uU(41,"Peak arrival time"),e.qZA(),e.TgZ(42,"p"),e._uU(43,"peak departure time"),e.qZA()(),e.TgZ(44,"div",30)(45,"p"),e._uU(46,"19:50"),e.qZA(),e.TgZ(47,"p"),e._uU(48,"12:50"),e.qZA()()()(),e.TgZ(49,"div",28)(50,"div",29),e._UZ(51,"div",30),e.TgZ(52,"div",30)(53,"p"),e._uU(54,"Serviceability ratio"),e._UZ(55,"br"),e._uU(56," (%)"),e.qZA(),e.TgZ(57,"p"),e._uU(58,"Charging time"),e._UZ(59,"br"),e._uU(60,"(mins)"),e.qZA()(),e.TgZ(61,"div",30)(62,"p"),e._uU(63,"99"),e.qZA(),e.TgZ(64,"p"),e._uU(65,"303"),e.qZA()()()()()()),2&a){const t=e.oxw();e.Gre("",t.showDashbord.totalBoard?"col-lg-6":"col-lg-12"," flex-column"),e.xp6(16),e.Oqu(t.averageAnalysisFirst.averageEnergy||0),e.xp6(2),e.Oqu(t.averageAnalysisFirst.averageRevenue||0)}}function ce(a,o){if(1&a&&(e.TgZ(0,"div",32)(1,"div",33)(2,"div",34)(3,"div",35,36),e._UZ(5,"div",37),e.qZA(),e.TgZ(6,"div",38),e._UZ(7,"div",37),e.qZA()()()()),2&a){const t=e.oxw();e.xp6(5),e.Q6J("options",t.energyCostOption),e.xp6(2),e.Q6J("options",t.energyCostChargedOption)}}function de(a,o){if(1&a&&(e.TgZ(0,"div",32)(1,"div",33)(2,"div",34)(3,"div",42),e._UZ(4,"div",37),e.qZA()()()()),2&a){const t=e.oxw(2);e.xp6(4),e.Q6J("options",t.transactionCompletionAnalysisOption)}}function ge(a,o){if(1&a&&(e.TgZ(0,"div",32)(1,"div",33)(2,"div",34)(3,"div",42),e._UZ(4,"div",37),e.qZA()()()()),2&a){const t=e.oxw(2);e.xp6(4),e.Q6J("options",t.energyConsumptioSourceOption)}}function pe(a,o){if(1&a&&(e.TgZ(0,"div",39)(1,"div",40)(2,"div",14)(3,"div",20)(4,"div",21)(5,"div",22)(6,"h3",41),e._uU(7," Transaction Completion Analysis "),e.qZA()()()(),e.YNc(8,de,5,1,"div",24),e.qZA()(),e.TgZ(9,"div",40)(10,"div",14)(11,"div",20)(12,"div",21)(13,"div",22)(14,"h3",41),e._uU(15," Usage over Time Analysis "),e.qZA()()()(),e.YNc(16,ge,5,1,"div",24),e.qZA()()()),2&a){const t=e.oxw();e.xp6(8),e.Q6J("ngIf",!t.parkingOccupancy.hidden),e.xp6(8),e.Q6J("ngIf",!t.parkingOccupancy.hidden)}}function he(a,o){if(1&a&&(e.TgZ(0,"div",32)(1,"div",33)(2,"div",34)(3,"div",42),e._UZ(4,"div",37),e.qZA()()()()),2&a){const t=e.oxw(2);e.xp6(4),e.Q6J("options",t.usageOverTimeAnalysisOption)}}function ue(a,o){if(1&a&&(e.TgZ(0,"div",32)(1,"div",33)(2,"div",34)(3,"div",42),e._UZ(4,"div",37),e.qZA()()()()),2&a){const t=e.oxw(2);e.xp6(4),e.Q6J("options",t.carparkHighestRevenueOption)}}function ve(a,o){if(1&a&&(e.TgZ(0,"div",39)(1,"div",40)(2,"div",14)(3,"div",20)(4,"div",21)(5,"div",22)(6,"h3",41),e._uU(7," Average Service time analysis "),e.qZA()()()(),e.YNc(8,he,5,1,"div",24),e.qZA()(),e.TgZ(9,"div",40)(10,"div",14)(11,"div",20)(12,"div",21)(13,"div",22)(14,"h3",41),e._uU(15," Top 10 Carpark with Highest Revenue "),e.qZA()()()(),e.YNc(16,ue,5,1,"div",24),e.qZA()()()),2&a){const t=e.oxw();e.xp6(8),e.Q6J("ngIf",!t.parkingOccupancy.hidden),e.xp6(8),e.Q6J("ngIf",!t.parkingOccupancy.hidden)}}function me(a,o){if(1&a&&(e.TgZ(0,"th",53),e._uU(1),e.qZA()),2&a){const t=o.$implicit;e.xp6(1),e.hij(" ",t.text," ")}}function ye(a,o){if(1&a&&(e.ynx(0),e.TgZ(1,"td",55),e._uU(2),e.qZA(),e.BQk()),2&a){const t=o.$implicit,n=e.oxw().$implicit;e.xp6(2),e.hij(" ",n[t.key]," ")}}function xe(a,o){if(1&a&&(e.ynx(0),e.TgZ(1,"tr",54),e.YNc(2,ye,3,1,"ng-container",52),e.qZA(),e.BQk()),2&a){const t=e.oxw(3);e.xp6(2),e.Q6J("ngForOf",t.highestEnergyUsageHeaders)}}function fe(a,o){if(1&a&&(e.TgZ(0,"div",47)(1,"div",33)(2,"table",48)(3,"thead",49)(4,"tr",50),e.YNc(5,me,2,1,"th",51),e.qZA()(),e.TgZ(6,"tbody"),e.YNc(7,xe,3,1,"ng-container",52),e.qZA()()()()),2&a){const t=e.oxw(2);e.xp6(5),e.Q6J("ngForOf",t.highestEnergyUsageHeaders),e.xp6(2),e.Q6J("ngForOf",t.energyUsageData)}}function Ae(a,o){if(1&a&&(e.TgZ(0,"div",43)(1,"div",44)(2,"div",45)(3,"div",21)(4,"div",22)(5,"h3",23),e._uU(6," Top 10 Stations with Highest Energy Usage "),e.qZA()()()(),e.YNc(7,fe,8,2,"div",46),e.qZA()()),2&a){const t=e.oxw();e.xp6(7),e.Q6J("ngIf",!t.parkingOccupancy.hidden)}}function be(a,o){if(1&a&&(e.TgZ(0,"div",32)(1,"div",33)(2,"div",34)(3,"div",56),e._UZ(4,"div",37),e.qZA(),e.TgZ(5,"div",57),e._UZ(6,"div",37),e.qZA()()()()),2&a){const t=e.oxw(2);e.xp6(4),e.Q6J("options",t.evEnergyConsumedAnalysisOption),e.xp6(2),e.Q6J("options",t.evEnergyConsumedAvgAnalysisOption)}}function Ce(a,o){if(1&a&&(e.TgZ(0,"div",39)(1,"div",42)(2,"div",14)(3,"div",20)(4,"div",21)(5,"div",22)(6,"h3",41),e._uU(7," Energy Consumed Overview "),e.qZA()()()(),e.YNc(8,be,7,2,"div",24),e.qZA()()()),2&a){const t=e.oxw();e.xp6(8),e.Q6J("ngIf",!t.parkingOccupancy.hidden)}}function we(a,o){if(1&a&&(e.TgZ(0,"div",32)(1,"div",33)(2,"div",34)(3,"div",56),e._UZ(4,"div",37),e.qZA(),e.TgZ(5,"div",57),e._UZ(6,"div",37),e.qZA()()()()),2&a){const t=e.oxw(2);e.xp6(4),e.Q6J("options",t.dailyEvEnergyConsumedOption),e.xp6(2),e.Q6J("options",t.dailyEvEnergyConsumedAvgOption)}}function Oe(a,o){if(1&a&&(e.TgZ(0,"div",39)(1,"div",42)(2,"div",14)(3,"div",20)(4,"div",21)(5,"div",22)(6,"h3",41),e._uU(7," Daily Transactior / Energy consumed Analysis "),e.qZA()()()(),e.YNc(8,we,7,2,"div",24),e.qZA()()()),2&a){const t=e.oxw();e.xp6(8),e.Q6J("ngIf",!t.parkingOccupancy.hidden)}}function De(a,o){if(1&a&&(e.TgZ(0,"div",32)(1,"div",33)(2,"div",34)(3,"div",42),e._UZ(4,"div",37),e.qZA()()()()),2&a){const t=e.oxw(2);e.xp6(4),e.Q6J("options",t.eVRevenueAnalysisOption)}}function Ze(a,o){if(1&a&&(e.TgZ(0,"div",39)(1,"div",42)(2,"div",14)(3,"div",20)(4,"div",21)(5,"div",22)(6,"h3",41),e._uU(7," EV Revenue Analysis "),e.qZA()()()(),e.YNc(8,De,5,1,"div",24),e.qZA()()()),2&a){const t=e.oxw();e.xp6(8),e.Q6J("ngIf",!t.parkingOccupancy.hidden)}}function Te(a,o){if(1&a&&(e.TgZ(0,"div",32)(1,"div",33)(2,"div",34)(3,"div",42),e._UZ(4,"div",37),e.qZA()()()()),2&a){const t=e.oxw(2);e.xp6(4),e.Q6J("options",t.newUsersAnalysisOption)}}function _e(a,o){if(1&a&&(e.TgZ(0,"div",39)(1,"div",42)(2,"div",14)(3,"div",20)(4,"div",21)(5,"div",22)(6,"h3",41),e._uU(7," New Users Analysis "),e.qZA()()()(),e.YNc(8,Te,5,1,"div",24),e.qZA()()()),2&a){const t=e.oxw();e.xp6(8),e.Q6J("ngIf",!t.parkingOccupancy.hidden)}}function Ue(a,o){if(1&a&&(e.TgZ(0,"div",58)(1,"div",14)(2,"div",20)(3,"div",21)(4,"div",22)(5,"h3",23),e._uU(6," Heat Map Based on Revenue Collected "),e.qZA(),e.TgZ(7,"button",59),e._UZ(8,"i",60),e.qZA(),e.TgZ(9,"button",61),e._UZ(10,"i"),e.qZA()()()(),e.TgZ(11,"div",32)(12,"div",33),e._UZ(13,"div",62),e.qZA()()()()),2&a){const t=e.oxw();e.xp6(10),e.Gre("la ",t.carParkTransactionsHidden?"la-arrows":"la-minus-square","")}}function Y(a){return new z.w(a,"../assets/i18n/",".json")}const Ee=[{path:"",component:X.f,children:[{path:"",component:(()=>{class a{constructor(t,n,s,i,r){this.router=t,this.statisticService=n,this.carparkService=s,this.translate=i,this.busService=r,this.resizeEvent$=new K.xQ,this.selectedCarParkId=null,this.timeRange={value:[L.ou.local().minus({weeks:1}).toJSDate(),new Date],type:d.Nxg.Day},this.dashBoardstartDate="",this.dashBoardendDate="",this.TransactionsEnergyRevenue={},this.ChargersUpDown={},this.ConnectorsTotalAvailableInuseDown={},this.averageAnalysisFirst={},this.RevenueAnalysis={},this.top10CarparwithHighestxAxisData=[],this.top10CarparwithHighestseriesData=[],this.barPadding=30,this.barDefaultWidth=12,this.fromCarParks=[],this.toCarParks=[],this.fromCarParkId=null,this.toCarParkId=null,this.dashBoardItem=null,this.compareTimeRange={value:[new Date,new Date],type:d.Nxg.Month},this.MaxTemperatureOperation={series:[{type:"gauge",center:["50%","40%"],startAngle:200,endAngle:-20,min:0,max:100,itemStyle:{color:"#000"},pointer:{show:!1},axisLine:{lineStyle:{width:15,color:[[1,"#ccc"]]}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1},anchor:{show:!1},title:{show:!1},detail:{show:!1}},{type:"gauge",center:["50%","40%"],startAngle:200,endAngle:-20,min:0,max:100,itemStyle:{color:"#000"},pointer:{show:!1},axisLine:{lineStyle:{width:15,color:[[.36,"#00c875"]]}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1},anchor:{show:!1},title:{show:!1},detail:{valueAnimation:!0,width:"60%",lineHeight:20,height:"15%",borderRadius:8,offsetCenter:[0,"-15%"],fontSize:34,fontWeight:"bolder",formatter:"{value} \xb0C",color:"#777"},data:[{value:36}]}]},this.MaxTemperatureCharging={series:[{type:"gauge",center:["50%","40%"],startAngle:200,endAngle:-20,min:0,max:100,itemStyle:{color:"#000"},pointer:{show:!1},axisLine:{lineStyle:{width:15,color:[[1,"#ccc"]]}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1},anchor:{show:!1},title:{show:!1},detail:{show:!1}},{type:"gauge",center:["50%","40%"],startAngle:200,endAngle:-20,min:0,max:100,itemStyle:{color:"#000"},pointer:{show:!1},axisLine:{lineStyle:{width:15,color:[[.36,"#00b0f0"]]}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1},anchor:{show:!1},title:{show:!1},detail:{valueAnimation:!0,width:"60%",lineHeight:20,height:"15%",borderRadius:8,offsetCenter:[0,"-15%"],fontSize:34,fontWeight:"bolder",formatter:"{value} \xb0C",color:"#777"},data:[{value:36.5}]}]},this.displayPercentLegend=d.$lo,this.colorScheme={domain:d.DMY},this.occupancyColorScheme={domain:[d.F1,d.Ms$]},this.lineChartColorScheme={domain:[d.Ms$]},this.lineChartVioletScheme={domain:[d.F1]},this.faultChartColorScheme={domain:[d.cEj]},this.occupancyLegend=[{name:"Hourly",color:d.Ms$},{name:"Season",color:d.F1}],this.dailyOccupancyLegend=[{name:"Hourly",color:d.Ms$},{name:"Season",color:d.F1}],this.maxYAxisOccupancy=100,this.chartView=[140,140],this.bsConfig={containerClass:"theme-light",showWeekNumbers:!1},this.vehicleIcon=d.mts,this.overallStatistic=null,this.parkingDurations=null,this.parkingVehicleTypes=[{name:"aa",value:1},{name:"aa1",value:3},{name:"aa2",value:6}],this.carParkTransactions=null,this.carParkRevenue=null,this.carParkFaults=null,this.parkingOccupancy={parkingOccupancyAverage:null,parkingOccupancy:null,maxYAxisOccupancy:null,barPadding:30,lines:[],lineSchema:{domain:[d.F1,d.Ms$,d.K8l]},hidden:!1},this.dailyOccupancy={date:this.timeRange.value[1],parkingOccupancyAverage:null,parkingOccupancy:null,maxYAxisOccupancy:null,barPadding:30,lines:[],lineSchema:{domain:[d.F1,d.Ms$,d.K8l,d.cEj]},hidden:!1},this.maxNormalSeasonalLots={parkingOccupancyAverage:null,parkingOccupancy:null,maxYAxisOccupancy:null,barPadding:30,loading:!1,occupancyLegend:[{name:"Hourly",color:d.Ms$},{name:"Season",color:d.F1}],referenceLines:[],hidden:!1},this.showDashbord={totalBoard:!0,parking:!0,status:!0,analysis:!0,transactions:!0,revenue:!0,seasonal:!0,dailyOccupancy:!0,carparkOccupancy:!0},this.selectList=[],this.content={stakeStatus:{chargingCnt:1,freeCnt:0,notAvailable:49}},this.energyConsumptionHeaders=d.g$7,this.energyReport=d.w1C,this.highestEnergyUsageHeaders=d.fyY,this.energyUsageData=d.QeH,this.dashboardData={totalAnalysis:{data:[{text:"Transactions",unit:"",value:0,class:"text-main"},{text:"Energy(kWh)",value:0,unit:"",class:"text-f4"},{text:"Revenue",value:0,unit:"",class:"text-f5"}]},totalChargers:{title:"Chargers",data:[{text:"Up",value:0,class:"text-f5"},{text:"Down",value:0,class:"text-f3"}]},vehicleAndUser:{data:[{text:"Unique Vehicles ",value:0,class:"text-f4"},{text:"Active users",value:0,class:"text-f4"},{text:"New Users",value:0,class:"text-f4"}]},totalConnectors:{title:"Connectors",data:[{text:"Total",value:0},{text:"Available",value:0,class:"text-f5"},{text:"In-use",value:0,class:"text-f6"},{text:"Down",value:0,class:"text-f3"}]},averageAnalysis:{data:[{text:"Energy/session",value:0,unit:"kWh",class:"text-f4"},{text:"Revenue/session",value:0,unit:"$"}]},timeAnalysis:{data:[{text:"Idle time",value:0,unit:"mins"},{text:"downtime",value:0,unit:"mins",class:"text-f4"}]},averagePeekData:{data:[{text:"Peak arrival time",value:0},{text:"peak departure time",value:0}]},averageRatioData:{data:[{text:"Serviceability ratio (%)",value:0,percent:!0,class:"text-f6"},{text:"Charging time",value:0,unit:"mins"}]}}}get params(){return{carParkIds:this.selectedCarParkId?this.selectedCarParkId:0,from:this.timeRange.value[0].toISOString(),to:this.timeRange.value[1].toISOString(),rangeType:this.timeRange.type}}onResize(t){this.resizeEvent$.next(t)}lineLegend(t){return t.name}calcBarPadding(t){return t?this.barChartElement.nativeElement.clientWidth/t-this.barDefaultWidth:0}calcMaxYAxisOccupancy(t){return 10*Math.ceil(Math.max(...t.map(n=>n.season+n.normal))/10)}reloadData(){this.busService.getDashboardData().subscribe(t=>{!function te(a,o){const{totalTransactions:t,energyUsed:n,uniqueVehicles:s,activeUsers:i,newUsers:r,averageAnalysis:c,chargers:g,connectors:h,idleTime:p,averageDownTime:w,averagePeek:v,averageSericeabilityRatio:m,chargingTime:y,totalRevenue:O}=o;A(a.totalAnalysis,[t,n.value,O]),A(a.vehicleAndUser,[s,i,r]),A(a.averageAnalysis,[c.energyConsumedPerCharge,c.costPerSession]),A(a.totalChargers,[g.total,g.up,g.down]),A(a.totalConnectors,[h.total,h.available,h.use,h.down]),A(a.timeAnalysis,[p,w]),A(a.averagePeekData,[v.arrivalTime,v.departureTime]),A(a.averageRatioData,[m,y])}(this.dashboardData,t.statisticsData)})}parkingOccupancyYAxisFormat(t){return t+"%"}changeDateRange(t){Array.isArray(t)||(this.timeRange=t,this.dashBoardstartDate=k(this.timeRange.value[0]).format().split("T")[0],this.dashBoardendDate=k(this.timeRange.value[1]).format().split("T")[0],this.getTransactionsEnergyRevenue(),this.getChargersUpDown(),this.getConnectorsTotalAvailableInuseDown(),this.getAverageFirst(),this.getevRevenueAnalysis(),this.dailyOccupancy.date=t.value[1])}changeCompareDateRange(t){this.compareTimeRange=t}getChargingAnalysis(){this.statisticService.dashboardGetData().subscribe(t=>{if("10"===t.messageCode.slice(0,2)){this.content=t.data;const n=[],s=[],i=[],r=[],c=[],g=this.content.chargeAnalyze,h=["Charging","Idle","Unavailable"],p=["Power consumption","Charging Degree","Charging Amount","Charging Time"];for(let x=0;x<g.length;x++)n.push(g[x].xaxis),s.push(g[x].chargeCostAmount),r.push(g[x].chargeEnergy),i.push(g[x].chargeCount),c.push(g[x].chargeTime);const{chargingCnt:w,freeCnt:v,notAvailable:m}=this.content.stakeStatus,O=[{name:p[0],type:"line",data:i},{name:p[1],type:"line",data:r},{name:p[2],type:"line",data:s},{name:p[3],type:"line",data:c}];this.option={color:["#2EC7C9","#5AB1EF","#D87A80"],legend:{orient:"horizontal",itemGap:70,itemHeight:6,top:0,bottom:20,data:h,height:50,textStyle:{fontFamily:"Poppins",fontSize:13,color:"#868aa8"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)",textStyle:{fontFamily:"Poppins"}},series:[{name:"Evc Pile Status",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:w,name:"Charging"},{value:v,name:"Idle"},{value:m,name:"Unavailable"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"},normal:{label:{textStyle:{fontFamily:"Poppins"}}}},label:{normal:{formatter:"{b} : {c} ({d}%)"}}}]},this.analysisOption={tooltip:{trigger:"axis"},legend:{data:p},toolbox:{show:!0},xAxis:{type:"category",boundaryGap:!1,data:n},yAxis:{type:"value"},series:O}}},()=>{this.getChargingAnalysis_mock()})}getChargingAnalysis_mock(){const n=["Power Consumption","Charging Amount","Charging Time"],s=[{name:n[0],type:"line",data:[8,5,6,9]},{name:n[1],type:"line",data:[30,40,20,50]},{name:n[2],type:"line",data:[100,150,70,90]}];this.option={color:["#2EC7C9","#5AB1EF","#D87A80"],legend:{orient:"horizontal",itemGap:70,itemHeight:6,top:0,bottom:20,data:["Charging","Idle","Unavailable"],height:50,textStyle:{fontFamily:"Poppins",fontSize:13,color:"#868aa8"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)",textStyle:{fontFamily:"Poppins"}},series:[{name:"Evc Pile Status",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:10,name:"Charging"},{value:11,name:"Idle"},{value:12,name:"Unavailable"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"},normal:{label:{textStyle:{fontFamily:"Poppins"}}}},label:{normal:{formatter:"{b} : {c} ({d}%)"}}}]},this.analysisOption={tooltip:{trigger:"axis"},legend:{data:n},toolbox:{show:!0},xAxis:{type:"category",boundaryGap:!1,data:["2021-02-15","2021-02-16","2021-02-17","2021-02-18"]},yAxis:{type:"value"},series:s}}getDefaultersOption(){const t=["Model A","Model B","Model C","Model D","Model F"];this.defaultersOption={color:["#007082","#008ea5","#01b3cf","#5cd3e6","#84e1ef"],legend:{orient:"vertical",right:10,top:10},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)",textStyle:{fontFamily:"Poppins"}},series:[{name:"Energy Consumption By Model",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:20,name:t[0]},{value:21,name:t[1]},{value:22,name:t[2]},{value:25,name:t[3]},{value:20,name:t[4]}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"},normal:{label:{textStyle:{fontFamily:"Poppins"}}}},label:{normal:{show:!1,position:"inside",formatter:"{b} : {c} ({d}%)"}}}]}}getLeakageOption(){const t=[];for(let n=0;n<10;n++)t.push(k().subtract(n,"day").format("DD-MMM-YY"));t.reverse(),this.leakageOption={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["Operation","Charging"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:t,axisTick:{alignWithLabel:!0},axisLabel:{interval:0,rotate:30}}],yAxis:[{type:"value"}],series:[{name:"Operation",type:"bar",data:[28,29,30,35,36,38,40,40,40,45],itemStyle:{color:"#02c876"}},{name:"Charging",type:"bar",data:[30,32,36,30,32,28,30,36,37,36],itemStyle:{color:"#00b0f0"}}]}}getEnergyCostOption(){const t=["Member","Ad-hoc","Public","Private"];this.energyCostOption={tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},legend:{data:t,bottom:0},xAxis:[{type:"category",data:["6-Mar-21","7-Mar-21","8-Mar-21","9-Mar-21","10-Mar-21","11-Mar-21","12-Mar-21","13-Mar-21","14-Mar-21"],axisPointer:{type:"shadow"}}],yAxis:[{type:"value",name:"$",min:0,max:10,interval:5,axisLabel:{formatter:"{value} $"}},{type:"value",name:"$",min:0,max:1e3,interval:200,axisLabel:{formatter:"{value} $"}}],series:[{name:t[0],type:"bar",data:[6,4.9,7,6,4.9,7,6,4.9,7]},{name:t[1],type:"bar",data:[2.6,5.9,9,2.6,5.9,9,2.6,5.9,9]},{name:t[2],type:"line",yAxisIndex:1,data:[502,651,741,640,502,651,741,640,502,651,741,640]},{name:t[3],type:"line",yAxisIndex:1,data:[298,282,341,215,298,282,341,215,298,282,341,215]}]}}getEnergyCostChargedOption(){const t=["Home Charging","BlueCharge(Blue5G)","Greenlots","SP Group","Others"];this.energyCostChargedOption=P("Sources of Charging (Costs, %)","Sources of Charging",[{value:100,name:t[0]},{value:21,name:t[1]},{value:22,name:t[2]},{value:25,name:t[3]},{value:20,name:t[4]}])}getTransactionCompletionAnalysisOption(){const t=["Normal","Emergency Stop","Stopped Vehicle","Reboot","Charging Station Stopped"];this.transactionCompletionAnalysisOption=P("","Transaction Completion Analysis",[{value:100,name:t[0]},{value:100,name:t[1]},{value:100,name:t[2]},{value:100,name:t[3]},{value:100,name:t[4]}])}getEnergyConsumptioOption(){this.energyConsumptioOption={title:{text:"Energy Consumption (Since Last Petrol Tank Top Up)"},tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},legend:{data:["Petrol Consumption Rate(L/100km)","Electricity Consumption Rate(kWh/100km)","Average Distance/Day Since Last Petrol Top Up(km)"],bottom:0},xAxis:[{type:"category",data:["6-Mar-21","7-Mar-21","8-Mar-21","9-Mar-21","10-Mar-21","11-Mar-21","12-Mar-21","13-Mar-21","14-Mar-21"],axisPointer:{type:"shadow"}}],yAxis:[{type:"value",name:"$",min:0,max:10,interval:5,axisLabel:{formatter:"{value} $"}},{type:"value",name:"$",min:0,max:1e3,interval:200,axisLabel:{formatter:"{value} $"}}],series:[{name:"Petrol Consumption Rate(L/100km)",type:"bar",data:[6,4.9,7,6,4.9,7,6,4.9,7]},{name:"Electricity Consumption Rate(kWh/100km)",type:"line",yAxisIndex:1,data:[502,651,741,640,502,651,741,640,502,651,741,640]},{name:"Average Distance/Day Since Last Petrol Top Up(km)",type:"line",yAxisIndex:1,data:[298,282,341,215,298,282,341,215,298,282,341,215]}]}}getEnergyConsumptioChargedOption(){const t=["Home Charging","BlueCharge(Blue5G)","Greenlots","SP Group","Others"];this.energyConsumptioChargedOption={title:{text:"Sources of Charging (kWh, %)"},legend:{orient:"vertical",right:10,top:10},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)",textStyle:{fontFamily:"Poppins"}},series:[{name:"Sources of Charging",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:6,name:t[0]},{value:8,name:t[1]},{value:10,name:t[2]},{value:25,name:t[3]},{value:100,name:t[4]}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"},normal:{label:{textStyle:{fontFamily:"Poppins"}}}},label:{normal:{show:!1,position:"inside",formatter:"{b} : {c} ({d}%)"}}}]}}ngOnInit(){this.getChargingAnalysis(),this.reloadData(),this.hotmap(),this.statisticService.getDashboardFlag().subscribe(i=>{i.dashboardConfig&&(this.showDashbord=JSON.parse(i.dashboardConfig));for(let r in this.showDashbord)this.selectList.push({name:r,value:this.showDashbord[r]})});const t=this.occupancyLegend.map(i=>i.name);this.translate.get(t).subscribe(i=>{this.occupancyLegend.forEach(r=>{for(let c in i)i.hasOwnProperty(c)&&r.name===c&&(r.name=i[c])})});const n=this.dailyOccupancyLegend.map(i=>i.name);this.translate.get(n).subscribe(i=>{this.dailyOccupancyLegend.forEach(r=>{for(let c in i)i.hasOwnProperty(c)&&r.name===c&&(r.name=i[c])})});const s=this.maxNormalSeasonalLots.occupancyLegend.map(i=>i.name);this.translate.get(s).subscribe(i=>{this.maxNormalSeasonalLots.occupancyLegend.forEach(r=>{for(let c in i)i.hasOwnProperty(c)&&r.name===c&&(r.name=i[c])})}),this.getDefaultersOption(),this.getLeakageOption(),this.getEnergyCostOption(),this.getEnergyCostChargedOption(),this.getTransactionCompletionAnalysisOption(),this.getEnergyConsumptioSourceOption(),this.getEnergyConsumptioChargedOption(),this.getUsageOverTimeAnalysisOption(),this.getCarparkHighestRevenueOption(),this.getEvEnergyConsumedAnalysisOption(),this.getDailyEvEnergyConsumedOption(),this.getMaxTransactionAnalysisOption(),this.getEVRevenueAnalysisOption(),this.getnewUsersAnalysisOption()}ngAfterViewInit(){}showItem(t,n){let s=this.showDashbord;s[t]=!n;const i=JSON.stringify(s);this.statisticService.putDashboardFlag({dashboardConfig:i}).subscribe(c=>{this.showDashbord=JSON.parse(i),this.selectList.map(g=>{g.name===t&&(g.value=s[t])})})}selectOccupancy(t){this.dailyOccupancy.date=L.ou.fromFormat(t.series,"yyyyMMdd").toJSDate(),this.statisticService.getDailyOccupancyStatistics({...this.params,rangeType:d.Nxg.Month,to:this.dailyOccupancy.date.toISOString()}).pipe((0,ee.q)(1)).subscribe(n=>{const s=(0,d._lv)(n.parkingOccupancy);this.dailyOccupancy.parkingOccupancyAverage=(0,d.ktj)(n.parkingOccupancy),this.dailyOccupancy.parkingOccupancy=s,this.dailyOccupancy.lines=[{name:"In",series:n.parkingInOut.map(i=>({name:i.title,value:i.in}))},{name:"Out",series:n.parkingInOut.map(i=>({name:i.title,value:i.out}))}],this.dailyOccupancy.maxYAxisOccupancy=this.calcMaxYAxisOccupancy(n.parkingOccupancy),this.dailyOccupancy.barPadding=this.calcBarPadding(n.parkingOccupancy.length)})}hotmap(){this.carparkService.filterModel({},{totalCount:0,rowsPerPage:999999,page:1,sortBy:null,descending:!0,totalPages:1}).subscribe(t=>{setTimeout(()=>{const n=new google.maps.Map(document.getElementById("HOT_MAPS"),{zoom:14,center:{lat:1.346987,lng:103.714679}}),s=t.data.map(i=>({location:new google.maps.LatLng(i.geopoint.lat,i.geopoint.lng),weight:(i.live?i.totalLots-i.live.availableLots-i.seasonLots:0)<=0?0:i.totalLots-i.live.availableLots-i.seasonLots}));return new google.maps.visualization.HeatmapLayer({map:n,data:s,radius:30,maxIntensity:20})},1e3)})}getEnergyConsumptioSourceOption(){const t=[];for(let r=0;r<23;r++)t.push(`${r+1}:00`);t.push("00:00");const n=["Member","Ad-hoc"],i=[{data:[200,200,150,100,150,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,200],color:"#5c98d0"},{data:[400,400,500,400,300,0,0,0,0,0,200,240,0,0,0,0,0,0,0,0,0,0,0,500],color:"#e27830"}].map((r,c)=>({name:n[c],type:"bar",stack:"analyze",data:r.data,itemStyle:{color:r.color}}));this.energyConsumptioSourceOption=b("",n,t,i)}getUsageOverTimeAnalysisOption(){const n=["Idle time","Average Charging time","Average downtime"];this.usageOverTimeAnalysisOption=P("","Average Service time analysis",[{value:20,name:n[0]},{value:21,name:n[1]},{value:22,name:n[2]}],{color:["#007082","#008ea5","#01b3cf","#5cd3e6","#84e1ef"]})}getCarparkHighestRevenueOption(){this.top10CarparwithHighestxAxisData=["Car Park A","Car Park B","Car Park C","NIE","One-North","Car Park D","Car Park E","Car Park F","NTU","Car Park"],this.top10CarparwithHighestseriesData=[28,29,30,35,37,38.5,40,40,45,47],this.statisticService.top10CarparwithHighest(this.dashBoardstartDate,this.dashBoardendDate).subscribe(t=>{t&&(this.top10CarparwithHighestxAxisData=[]),t.forEach(n=>{this.top10CarparwithHighestxAxisData.push(n.carParkCode)}),this.carparkHighestRevenueOption=function ne(a,o){return{xAxis:{type:"category",data:a,axisLabel:{interval:0,rotate:20,fontSize:10}},yAxis:{type:"value"},series:[{data:o,type:"bar"}]}}(this.top10CarparwithHighestxAxisData,this.top10CarparwithHighestseriesData)})}stackBarSettings([t,n],[s,i],r=0,c=0){const g=["Ad-hoc","Member"],p=[],w=[],v=[{color:"#716aca",data:[]},{color:"#36a3f7",data:[]}],m=2021,O=new Date(m,7,0).getDate();for(let f=1;f<=O;f++)p.push(`2021${B(7,2,"0")}${B(f,2,"0")}`),v[0].data.push(N(t,new Date(m,7+s,f).getTime())),v[1].data.push(N(n,new Date(m,7+i,f).getTime())),this.setSmoothRandomArr(m,7,s,f,w,r,c);const x=v.map((f,Pe)=>({name:g[Pe],type:"bar",stack:"analyze",data:f.data,itemStyle:{color:f.color}}));return{legendData:g,sourceData:v,xAxisData:p,defaultMonthDate:O,avgXAxisData:["Avg"],seriesData:x,smoothRandomArr:w}}setSmoothRandomArr(t,n,s,i,r,c,g){r.push(function ae(a,o,t=10**a,n=0){const s=o||(new Date).getTime();return Math.floor(F(s)*10**a)%t+n}(3,new Date(t,n+s,i).getTime()**2,c,g))}avgstackBarSettings(t,n,s){return t.map((i,r)=>({...i,data:[[J(n[0].data,s),J(n[1].data,s)][r]]}))}getEvEnergyConsumedAnalysisOption(){const{legendData:t,sourceData:n,xAxisData:s,defaultMonthDate:i,avgXAxisData:r,seriesData:c}=this.stackBarSettings([5,5],[0,1],0,0);this.evEnergyConsumedAnalysisOption=b("",t,s,c,{legend:{x:"center",y:"top"},xAxis:{},grid:{}});const g=this.avgstackBarSettings(c,n,i);this.evEnergyConsumedAvgAnalysisOption=b("",t,r,g,{legend:{show:!1},xAxis:{},grid:{}})}getDailyEvEnergyConsumedOption(){const{legendData:t,sourceData:n,defaultMonthDate:s,avgXAxisData:i,xAxisData:r,seriesData:c}=this.stackBarSettings([4,4],[2,3],0,0),g=r.map(p=>p.slice(-2));this.dailyEvEnergyConsumedOption=b("",t,g,c,{legend:{x:"center",y:"top"},xAxis:{},grid:{}});const h=this.avgstackBarSettings(c,n,s);this.dailyEvEnergyConsumedAvgOption=b("",t,i,h,{legend:{show:!1},xAxis:{},grid:{}})}getMaxTransactionAnalysisOption(){const{legendData:t,sourceData:n,xAxisData:s,avgXAxisData:i,defaultMonthDate:r}=this.stackBarSettings([1e3,5e3],[2,3],0,0),c=n.map((h,p)=>({name:t[p],type:"bar",data:h.data,itemStyle:{color:h.color}}));this.maxTransactionAnalysisOption=b("",t,s,c,{legend:{x:"center",y:"top"},xAxis:{splitArea:{show:!0}},grid:{}});const g=this.avgstackBarSettings(c,n,r);this.maxTransactionAnalysisAvgOption=b("",t,i,g,{legend:{show:!1},xAxis:{},grid:{left:40}})}getEVRevenueAnalysisOption(){const{xAxisData:t,smoothRandomArr:n}=this.stackBarSettings([3e3,0],[0,0],3e3,1500),s=["rgba(149, 143, 216, 1)","rgba(197, 194, 233, 0.8)"],r={areaStyle:{opacity:.8,color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:s[0]},{offset:1,color:s[1]}])},itemStyle:{normal:{color:s[1],borderColor:s[1]}}};this.eVRevenueAnalysisOption=Q(t,"EV Revenue Analysis",n,r)}getnewUsersAnalysisOption(){const{xAxisData:t,smoothRandomArr:n}=this.stackBarSettings([5e3,0],[0,0],5e3,3e3),s=["rgba(103, 185, 249, 1)","rgba(173, 217, 252, 0.8)"],r={areaStyle:{opacity:.8,color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:s[0]},{offset:1,color:s[1]}])},itemStyle:{normal:{color:s[1],borderColor:s[1]}}};this.newUsersAnalysisOption=Q(t,"New Users Analysis",n,r)}getTransactionsEnergyRevenue(){this.statisticService.getTransactionsEnergyRevenue(this.dashBoardstartDate,this.dashBoardendDate).subscribe(t=>{this.TransactionsEnergyRevenue=t,console.log(this.TransactionsEnergyRevenue,"\u6d4b\u8bd5\u4e00\u4e0b")})}getChargersUpDown(){this.statisticService.getChargersUpDown(this.dashBoardstartDate,this.dashBoardendDate).subscribe(t=>{this.ChargersUpDown=t})}getConnectorsTotalAvailableInuseDown(){this.statisticService.getConnectorsTotalAvailableInuseDown(this.dashBoardstartDate,this.dashBoardendDate).subscribe(t=>{this.ConnectorsTotalAvailableInuseDown=t})}getAverageFirst(){this.statisticService.getgetAverageFirst(this.dashBoardstartDate,this.dashBoardendDate).subscribe(t=>{this.averageAnalysisFirst=t})}getevRevenueAnalysis(){this.statisticService.getevRevenueAnalysis(this.dashBoardstartDate,this.dashBoardendDate).subscribe(t=>{this.RevenueAnalysis=t,console.log(this.RevenueAnalysis,"RevenueAnalysis")})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(u.F0),e.Y36(M.B),e.Y36(U.x),e.Y36(E.sK),e.Y36(R.Z))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-evowner-dashboard"]],viewQuery:function(t,n){if(1&t&&e.Gf(oe,5),2&t){let s;e.iGM(s=e.CRH())&&(n.barChartElement=s.first)}},hostBindings:function(t,n){1&t&&e.NdJ("resize",function(i){return n.onResize(i)},!1,e.Jf7)},decls:50,vars:22,consts:[[1,"body-wrapper"],[1,"m-subheader"],[1,"align-items-center"],[1,"row","form-group","m-form__group"],[1,"col-form-label","col-lg-1","col-sm-6"],[1,"col-lg-2"],["bindLabel","name","bindValue","id","placeholder","",1,"rounded",3,"items","ngModel","ngModelChange"],[1,"col-form-label","col-xl-1","col-lg-2","col-sm-6","m--padding-right-0"],[1,"col-lg-3","col-sm-6"],[3,"data","select"],[1,"m-content"],[1,"row","general-statistics"],[1,"row"],[1,"col-lg-12","m--padding-left-10"],[1,"m-portlet"],[1,"m-portlet__body","d-flex","flex-column","justify-content-center",2,"min-height","0px"],[1,"card-statistics"],[1,"stats-title",2,"font-weight","600 !important","color","#00bdb5 !important"],[3,"class",4,"ngIf"],[1,"occupancy-statistics"],[1,"m-portlet__head"],[1,"m-portlet__head-caption"],[1,"m-portlet__head-title","w-100"],[1,"m-portlet__head-text"],["class","m-portlet__body",4,"ngIf"],["class","row occupancy-statistics",4,"ngIf"],["class","occupancy-statistics background-transparent",4,"ngIf"],["class","transaction-statistics",4,"ngIf"],[1,"col-sm-6","m--padding-left-10"],[1,"every-options"],[1,"needFlexs"],[1,"needFlexs","tit-big"],[1,"m-portlet__body"],[1,"stats-chart-container"],[1,"row","states-chart"],[1,"col-7"],["barChartElement",""],["echarts","",1,"demo-chart",3,"options"],[1,"col-5","m--padding-0","bar-chart-avg"],[1,"row","occupancy-statistics"],[1,"col-6"],[1,"m-portlet__head-text","no-wrap"],[1,"col-12"],[1,"occupancy-statistics","background-transparent"],[1,"m-portlet","background-transparent"],[1,"m-portlet__head",2,"border-bottom","none"],["class","m-portlet__body","style","padding: 0;",4,"ngIf"],[1,"m-portlet__body",2,"padding","0"],[1,"table","table-striped",2,"border-collapse","separate","border-spacing","0px 10px"],[1,"",2,"color","#b6b9bd"],[1,"text-center"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["scope","col"],[1,"text-center","bg-white"],["scope","row",1,"py-4"],[1,"col-10"],[1,"col-2"],[1,"transaction-statistics"],[1,"btn","btn-outline-main","m-btn","m-btn--icon","m-btn--icon-only","m-btn--custom","m-btn--pill","m-btn--air","float-right","m--margin-top-20","m--margin-left-20"],[1,"fa","fa-times"],[1,"btn","btn-outline-main","m-btn","m-btn--icon","m-btn--icon-only","m-btn--custom","m-btn--pill","m-btn--air","float-right","m--margin-top-20"],["id","HOT_MAPS",2,"width","100%","height","800px"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-title-bar"),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"label",4),e._uU(6," Car Park "),e.qZA(),e.TgZ(7,"div",5)(8,"ng-select",6),e.NdJ("ngModelChange",function(i){return n.selectedCarParkId=i})("ngModelChange",function(){return n.reloadData()}),e.ALo(9,"async"),e.qZA()(),e.TgZ(10,"label",7),e._uU(11," Time Range "),e.qZA(),e.TgZ(12,"div",8)(13,"app-datepicker-tab",9),e.NdJ("select",function(i){return n.changeDateRange(i)}),e.qZA()()()()(),e.TgZ(14,"div",10)(15,"div",11)(16,"div")(17,"div",12)(18,"div",13)(19,"div",14)(20,"div",15)(21,"div",16)(22,"div",17),e._uU(23," Total Analysis "),e.qZA()()()()()()(),e.TgZ(24,"div")(25,"div",12)(26,"div",13)(27,"div",14)(28,"div",15)(29,"div",16)(30,"div",17),e._uU(31," Average Analysis "),e.qZA()()()()()()(),e.YNc(32,re,78,12,"div",18),e.YNc(33,le,66,5,"div",18),e.qZA(),e.TgZ(34,"div",19)(35,"div",14)(36,"div",20)(37,"div",21)(38,"div",22)(39,"h3",23),e._uU(40," Sources of revenue "),e.qZA()()()(),e.YNc(41,ce,8,2,"div",24),e.qZA()(),e.YNc(42,pe,17,2,"div",25),e.YNc(43,ve,17,2,"div",25),e.YNc(44,Ae,8,1,"div",26),e.YNc(45,Ce,9,1,"div",25),e.YNc(46,Oe,9,1,"div",25),e.YNc(47,Ze,9,1,"div",25),e.YNc(48,_e,9,1,"div",25),e.YNc(49,Ue,14,3,"div",27),e.qZA()()),2&t&&(e.xp6(8),e.Q6J("items",e.lcZ(9,20,n.carparkOptions$))("ngModel",n.selectedCarParkId),e.xp6(5),e.Q6J("data",n.timeRange),e.xp6(3),e.Gre("m--padding-right-10 flex-column ",n.showDashbord.parking?"col-lg-6":"col-lg-12",""),e.xp6(8),e.Gre("m--padding-right-10 flex-column ",n.showDashbord.parking?"col-lg-6":"col-lg-12",""),e.xp6(8),e.Q6J("ngIf",n.showDashbord.totalBoard),e.xp6(1),e.Q6J("ngIf",n.showDashbord.parking),e.xp6(8),e.Q6J("ngIf",!n.parkingOccupancy.hidden),e.xp6(1),e.Q6J("ngIf",n.showDashbord.carparkOccupancy),e.xp6(1),e.Q6J("ngIf",n.showDashbord.carparkOccupancy),e.xp6(1),e.Q6J("ngIf",n.showDashbord.carparkOccupancy),e.xp6(1),e.Q6J("ngIf",n.showDashbord.carparkOccupancy),e.xp6(1),e.Q6J("ngIf",n.showDashbord.carparkOccupancy),e.xp6(1),e.Q6J("ngIf",n.showDashbord.carparkOccupancy),e.xp6(1),e.Q6J("ngIf",n.showDashbord.carparkOccupancy),e.xp6(1),e.Q6J("ngIf",n.showDashbord.transactions))},dependencies:[C.sg,C.O5,ie.G,Z.Uo,Z._C,Z.Om,Z.p0,Z.$Z,D.JJ,D.On,se.K,q._w,I.w9,C.Ov],styles:[".states-chart[_ngcontent-%COMP%]{height:470px}.stats-revenue-box[_ngcontent-%COMP%]{padding-top:12px;padding-bottom:10px;padding-left:35px}.demo-chart[_ngcontent-%COMP%]{height:400px}.flex-column[_ngcontent-%COMP%]{display:flex;flex-direction:column}.felx-right[_ngcontent-%COMP%]{margin-bottom:10px;justify-content:flex-end;visibility:hidden}.flex-column[_ngcontent-%COMP%]:hover   .felx-right[_ngcontent-%COMP%]{visibility:visible}.background-transparent[_ngcontent-%COMP%]{background:transparent;box-shadow:none}.no-wrap[_ngcontent-%COMP%]{white-space:nowrap}[_nghost-%COMP%]     .m-portlet .m-portlet__body{min-height:206px}.every-options[_ngcontent-%COMP%]{background-color:#fff;height:206px;margin-bottom:40px;display:flex;flex-direction:column;justify-content:space-evenly}[_nghost-%COMP%]     .needFlexs{display:flex!important;justify-content:space-evenly;font-weight:500;font-size:16px;height:30%}.tit-big[_ngcontent-%COMP%]{font-weight:800;display:flex;align-items:center;box-sizing:border-box;justify-content:flex-start;padding-left:10%}"]}),a})()}]}];let ke=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[M.B,U.x,R.Z],imports:[C.ez,u.Bz.forChild(Ee),W.x,D.u5,$.D,q.Ns.forRoot({echarts:()=>l.e(4734).then(l.bind(l,14734))}),G.a4,I.A0,S.kn,j.zk,V.d,E.aw.forChild({loader:{provide:E.Zw,useFactory:Y,deps:[_.eN]}}),u.Bz]}),a})()}}]);