(self.webpackChunkst_admin=self.webpackChunkst_admin||[]).push([[9226],{76916:(T,A,l)=>{"use strict";l.d(A,{G:()=>_});var m=l(34793),b=l(92198),t=l(94650),p=l(89383),g=l(60097),f=l(36895);function c(e,o){if(1&e&&(t.TgZ(0,"a",14)(1,"span",15),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&e){const n=t.oxw().$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,1,n.label)," ")}}function E(e,o){if(1&e&&(t.TgZ(0,"a",16)(1,"span",15),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&e){const n=t.oxw(),r=n.$implicit,s=n.last,u=t.oxw(2);t.Q6J("routerLink",r.url)("queryParams",s&&u.route.snapshot.queryParams),t.xp6(2),t.hij(" ",t.lcZ(3,3,r.label)," ")}}function h(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"li",10)(2,"span"),t._uU(3," > "),t.qZA()(),t.TgZ(4,"li",11),t.YNc(5,c,4,3,"a",12),t.YNc(6,E,4,5,"a",13),t.qZA(),t.BQk()),2&e){const n=o.first;t.xp6(5),t.Q6J("ngIf",n),t.xp6(1),t.Q6J("ngIf",!n)}}function a(e,o){if(1&e&&(t.TgZ(0,"div",1)(1,"div",2)(2,"div",3),t._UZ(3,"h3",4),t.TgZ(4,"ul",5)(5,"li",6)(6,"a",7),t._UZ(7,"i",8),t.qZA()(),t.YNc(8,h,7,2,"ng-container",9),t.qZA()(),t.TgZ(9,"div"),t.Hsn(10),t.qZA()()()),2&e){const n=t.oxw();t.xp6(3),t.Q6J("innerHTML",n.title,t.oJD),t.xp6(5),t.Q6J("ngForOf",n.breads)}}const i=["*"];let _=(()=>{class e{constructor(n,r,s,u){this.router=n,this.route=r,this.translate=s,this._carparkService=u,this.breads=[],this.loginUser=""}ngOnInit(){let n=JSON.parse(localStorage.getItem("user-roles"))[0];this.loginUser=n,console.log(this.loginUser,"\u4fe1\u606f"),this.breads=this.buildBreadCrumb(this.route.root),this.translate.get(this.breads[0].label).subscribe(s=>{this.label=s}),this.router.events.pipe((0,b.h)(s=>s instanceof m.m2)).subscribe(()=>{this.breads=this.buildBreadCrumb(this.route.root)})}buildBreadCrumb(n,r=[""],s=[]){const u=n.snapshot.url[0]&&n.snapshot.url[0].path,v=[...r,u],d={...this.extractBreadcrumb(n),url:v},w=u&&d.label?[...s,d]:s;return this.title=d.title||this.title||"",this.isMotorist&&"My Vehicle(s)"===d.label&&(this.title="My Vehicle(s)"),n.firstChild?u?this.buildBreadCrumb(n.firstChild,v,w):this.buildBreadCrumb(n.firstChild,r,s):(this.translate.get(this.title).subscribe(x=>{this.title=x}),w)}get isMotorist(){return this._carparkService.isMotorist()}extractBreadcrumb(n){return n.snapshot.data.breadcrumb instanceof Function?n.snapshot.data.breadcrumb(n):n.snapshot.data.breadcrumb}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(m.F0),t.Y36(m.gz),t.Y36(p.sK),t.Y36(g.x))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-title-bar"]],ngContentSelectors:i,decls:1,vars:1,consts:[["class","m-subheader",4,"ngIf"],[1,"m-subheader"],[1,"d-flex","align-items-center"],[1,"mr-auto"],[1,"m-subheader__title","m-subheader__title--separator","text-main",3,"innerHTML"],[1,"m-subheader__breadcrumbs","m-nav","m-nav--inline"],[1,"m-nav__item","m-nav__item--home"],["routerLink","/",1,"m-nav__link","m-nav__link--icon"],[1,"m-nav__link-icon","la","la-home"],[4,"ngFor","ngForOf"],[1,"m-nav__separator"],[1,"m-nav__item"],["class","m-nav__link",4,"ngIf"],["class","m-nav__link",3,"routerLink","queryParams",4,"ngIf"],[1,"m-nav__link"],[1,"m-nav__link-text"],[1,"m-nav__link",3,"routerLink","queryParams"]],template:function(n,r){1&n&&(t.F$t(),t.YNc(0,a,11,2,"div",0)),2&n&&t.Q6J("ngIf","ROLE_TPO_PARTNER"!==r.loginUser)},dependencies:[f.sg,f.O5,m.yS,p.X$],encapsulation:2}),e})()},94327:function(T,A){var b;void 0!==(b=function(){"use strict";function p(a,i,_){var e=new XMLHttpRequest;e.open("GET",a),e.responseType="blob",e.onload=function(){h(e.response,i,_)},e.onerror=function(){console.error("could not download file")},e.send()}function g(a){var i=new XMLHttpRequest;i.open("HEAD",a,!1);try{i.send()}catch{}return 200<=i.status&&299>=i.status}function f(a){try{a.dispatchEvent(new MouseEvent("click"))}catch{var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(i)}}var c="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,E=c.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),h=c.saveAs||("object"!=typeof window||window!==c?function(){}:"download"in HTMLAnchorElement.prototype&&!E?function(a,i,_){var e=c.URL||c.webkitURL,o=document.createElement("a");o.download=i=i||a.name||"download",o.rel="noopener","string"==typeof a?(o.href=a,o.origin===location.origin?f(o):g(o.href)?p(a,i,_):f(o,o.target="_blank")):(o.href=e.createObjectURL(a),setTimeout(function(){e.revokeObjectURL(o.href)},4e4),setTimeout(function(){f(o)},0))}:"msSaveOrOpenBlob"in navigator?function(a,i,_){if(i=i||a.name||"download","string"!=typeof a)navigator.msSaveOrOpenBlob(function t(a,i){return typeof i>"u"?i={autoBom:!1}:"object"!=typeof i&&(console.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\ufeff",a],{type:a.type}):a}(a,_),i);else if(g(a))p(a,i,_);else{var e=document.createElement("a");e.href=a,e.target="_blank",setTimeout(function(){f(e)})}}:function(a,i,_,e){if((e=e||open("","_blank"))&&(e.document.title=e.document.body.innerText="downloading..."),"string"==typeof a)return p(a,i,_);var o="application/octet-stream"===a.type,n=/constructor/i.test(c.HTMLElement)||c.safari,r=/CriOS\/[\d]+/.test(navigator.userAgent);if((r||o&&n||E)&&typeof FileReader<"u"){var s=new FileReader;s.onloadend=function(){var d=s.result;d=r?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),e?e.location.href=d:location=d,e=null},s.readAsDataURL(a)}else{var u=c.URL||c.webkitURL,v=u.createObjectURL(a);e?e.location=v:location.href=v,e=null,setTimeout(function(){u.revokeObjectURL(v)},4e4)}});c.saveAs=h.saveAs=h,T.exports=h}.apply(A,[]))&&(T.exports=b)}}]);