(self.webpackChunkst_admin=self.webpackChunkst_admin||[]).push([[2310],{75191:(r,c,a)=>{"use strict";a.d(c,{B:()=>m,P:()=>d});var o=a(8929),p=a(591),g=a(94650),d=(()=>{return(O=d||(d={})).Season_Applications_Data="Season_Applications_Data",O.Billing_History_Detail_Data="Billing_History_Detail_Data",O.Detail_Depot_List_Data="Detail_Depot_List_Data",O.Detail_SEASON_GROUP="Detail_SEASON_GROUP",d;var O})();let m=(()=>{class O{constructor(){this.subject$||(this.subject$=new o.xQ),this.bSubject$||(this.bSubject$=new p.X(null))}getSubject(){return this.subject$.asObservable()}setSubject(v){this.subject$.next(v)}getBSubject(){return this.bSubject$.asObservable()}setBSubject(v){this.bSubject$.next(v)}resetBSubjcet(){this.bSubject$.next(null)}}return O.\u0275fac=function(v){return new(v||O)},O.\u0275prov=g.Yz7({token:O,factory:O.\u0275fac}),O})()},51766:(r,c,a)=>{"use strict";a.d(c,{C:()=>E});var o=a(3927),p=a(26245),g=a(591),d=a(27221),m=a(66708),O=a(94650),f=a(60097),v=a(28555),D=a(80529),P=a(91599);let E=(()=>{class B extends o.su{constructor(h,b,Z,y){super(Z,b),this.carparkService=h,this.store=b,this.http=Z,this.$seasonData=new g.X({}),this.modelName="Carpark",this.handleError=y.createHandleError(`${this.modelName}Service`)}ngOnInit(){}handleDynamicUrl(){const h=JSON.parse(localStorage.getItem("user")).login;this.baseUrl=this.carparkService.isMotorist()&&m.Z.isNotNull(h)?`carpark/api/drivers/${h}/seasons`:"carpark/api/season-parkings"}filterModel(h,b){return this.handleDynamicUrl(),super.filterModel(h,b).map(Z=>Z.data?Z:{data:[],pagination:(0,p.f$)()})}filterModelOfCarpark(h,b,Z){const y=this.getUrl((0,p.U8)(`carpark/api/season-parking/${h}/getList`,{...b,...(0,p.jq)(Z)}));return this.get(y).pipe((0,d.K)(this.handleError(`${this.modelName}Filter`,{}))).map(_=>Array.isArray(_)?(0,o.eC)(_.slice(0,Z.rowsPerPage+1)):(0,o.O7)(_))}filterModelOfVehicle(h,b,Z){const y=this.getUrl((0,p.U8)(`carpark/api/vehicles/${h}/seasons`,{...b,...(0,p.jq)(Z)}));return this.get(y).pipe((0,d.K)(this.handleError(`${this.modelName}Filter`,{}))).map(_=>Array.isArray(_)?(0,o.eC)(_.slice(0,Z.rowsPerPage+1)):(0,o.O7)(_))}getIdentity(h){const b=this.getUrl(`carpark/api/seasons/applications/${h}`);return this.get(b)}downloadSessonPdf(h){const b=this.getUrl(`carpark/api/printBilling/seasoncode/pdf/${h}`);return this.get(b,{responseType:"blob"}).pipe((0,d.K)(this.handleError(`${this.modelName}Get`,{})))}getGroupSeason(h){const b=this.getUrl(`carpark/api/season-group/query/${h}`);return this.get(b)}applyHandle(h){return this.post(this.getUrl("carpark/api/season-group"),h)}clearHandle(h){return this.delete(this.getUrl(`carpark/api/season-group/clear/${h}`))}}return B.\u0275fac=function(h){return new(h||B)(O.LFG(f.x),O.LFG(v.yh),O.LFG(D.eN),O.LFG(P.k))},B.\u0275prov=O.Yz7({token:B,factory:B.\u0275fac}),B})()},63115:(r,c,a)=>{"use strict";a.d(c,{J:()=>m});var o=a(94650),p=a(21837),g=a(36895),d=a(60883);let m=(()=>{class O{constructor(){this._value=new Date,this.format="hh:mm a, dd LLLL yyyy",this.bsValueChange=new o.vpe,this.bsConfig={containerClass:"theme-light",showWeekNumbers:!1},this.showPicker=!1,this.showDate=!0,this.showTime=!0,this.closeButton={show:!0,label:"Close",cssClass:"btn btn-sm btn-primary"}}get value(){return this._value}set value(v){v?("string"==typeof v&&(this._value=new Date(v)),this._value=v):this._value=null}get displayText(){return this.format=this.formatTime?"dd LLLL yyyy  /  hh:mm a":this.format,this.value?p.ou.fromJSDate(this.value).toFormat(this.format):null}onTogglePicker(){!1===this.showPicker&&(this.showPicker=!0)}onValueChange(v){this.bsValueChange.emit(v)}isValid(){return this.value&&"string"!=typeof this.value&&!isNaN(this.value.getTime())}}return O.\u0275fac=function(v){return new(v||O)},O.\u0275cmp=o.Xpm({type:O,selectors:[["app-datetimepicker"]],inputs:{value:"value",formatTime:"formatTime",format:"format"},outputs:{bsValueChange:"bsValueChange"},decls:6,vars:7,consts:[[1,"m-input-icon","m-input-icon--right",3,"ngClass"],["type","text","placement","bottom","readonly","",1,"form-control","m-input",3,"value","click"],[1,"m-input-icon__icon","m-input-icon__icon--right"],[1,"la","la-calendar"],[3,"value","showPopup","showDate","showTime","closeButton","valueChange","showPopupChange"]],template:function(v,D){1&v&&(o.TgZ(0,"div",0)(1,"input",1),o.NdJ("click",function(){return D.onTogglePicker()}),o.qZA(),o.TgZ(2,"span",2)(3,"span"),o._UZ(4,"i",3),o.qZA()()(),o.TgZ(5,"datetime-popup",4),o.NdJ("valueChange",function(E){return D.onValueChange(E)})("showPopupChange",function(E){return D.showPicker=E}),o.qZA()),2&v&&(o.Q6J("ngClass",D.rounded?"rounded":""),o.xp6(1),o.Q6J("value",D.displayText),o.xp6(4),o.Q6J("value",D.value)("showPopup",D.showPicker)("showDate",D.showDate)("showTime",D.showTime)("closeButton",D.closeButton))},dependencies:[g.mk,d.U],encapsulation:2}),O})()},67421:(r,c,a)=>{"use strict";a.d(c,{Eb:()=>O,MH:()=>v,yl:()=>m});var o=a(38014),p=a(94650),g=a(11481);let m=(()=>{class D{constructor(E){this.sanitizer=E}transform(E){return this.sanitizer.bypassSecurityTrustResourceUrl(E)}}return D.\u0275fac=function(E){return new(E||D)(p.Y36(g.H7,16))},D.\u0275pipe=p.Yjl({name:"safe",type:D,pure:!0}),D})(),O=(()=>{class D{transform(E){switch(E){case"active":return"Active";case"expired":return"Expired"}}}return D.\u0275fac=function(E){return new(E||D)},D.\u0275pipe=p.Yjl({name:"seasonStatus",type:D,pure:!1}),D})(),v=(()=>{class D{transform(E){return o.LmM[E]}}return D.\u0275fac=function(E){return new(E||D)},D.\u0275pipe=p.Yjl({name:"transactionPipe",type:D,pure:!0}),D})()},33932:(r,c,a)=>{"use strict";a.d(c,{P:()=>s_});var o=a(94650),p=a(38014),g=a(8929),d=a(1059),m=a(80013),O=a(75778),f=a(2994),v=a(87545),D=a(88117),P=a(72986),E=a(89383),B=a(34793),U=a(64050),h=a(60097),b=a(36895),Z=a(24006),y=a(88796),_=a(29252);function L(I,N){if(1&I&&(o.TgZ(0,"div",27)(1,"div",28)(2,"div",29)(3,"h3",30),o._uU(4),o.qZA()()()()),2&I){const T=o.oxw();o.xp6(4),o.hij(" ",T.item.vehicleNumber," ")}}function M(I,N){if(1&I&&(o.TgZ(0,"option",31),o._uU(1),o.qZA()),2&I){const T=N.$implicit;o.Q6J("value",T.value),o.xp6(1),o.hij(" ",T.text," ")}}function R(I,N){if(1&I&&(o.TgZ(0,"div",32),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&I){const T=o.oxw();o.xp6(1),o.hij(" ",o.lcZ(2,1,T.vehicleNoMessage)," ")}}function x(I,N){if(1&I){const T=o.EpF();o.TgZ(0,"div",7)(1,"input",33),o.NdJ("ngModelChange",function(w){o.CHM(T);const W=o.oxw();return o.KtG(W.driver=w)}),o.qZA()()}if(2&I){const T=o.oxw();o.xp6(1),o.Q6J("ngModel",T.driver)}}function A(I,N){if(1&I&&o._uU(0),2&I){const T=N.item,C=o.oxw(2);o.hij(" ",C.displayDriverOption(T)," ")}}function k(I,N){if(1&I&&o._uU(0),2&I){const T=N.item,C=o.oxw(2);o.hij(" ",C.displayDriverOption(T)," ")}}function r_(I,N){if(1&I){const T=o.EpF();o.TgZ(0,"div",7)(1,"ng-select",34),o.NdJ("ngModelChange",function(w){o.CHM(T);const W=o.oxw();return o.KtG(W.driver=w)}),o.ALo(2,"async"),o.YNc(3,A,1,1,"ng-template",35),o.YNc(4,k,1,1,"ng-template",36),o.qZA()()}if(2&I){const T=o.oxw();o.xp6(1),o.Q6J("items",o.lcZ(2,4,T.driver$))("ngModel",T.driver)("typeahead",T.driverInput$)("loading",T.driverLoading)}}function l_(I,N){1&I&&(o.TgZ(0,"div",32),o._uU(1," Please enter numbers only "),o.qZA())}function c_(I,N){if(1&I){const T=o.EpF();o.TgZ(0,"button",25),o.NdJ("click",function(){o.CHM(T);const w=o.oxw();return o.KtG(w.delete())}),o._UZ(1,"i",37),o._uU(2," Delete "),o.qZA()}}let s_=(()=>{class I{constructor(T,C,w,W){this.translate=T,this.router=C,this.driverService=w,this.carparkService=W,this.deleted=new o.vpe,this.canceled=new o.vpe,this.submitted=new o.vpe,this.vehicleNoMessage=p.vwt.VehicleNo,this.vehicleTypes=p.php,this.driverInput$=new g.xQ}ngOnInit(){this.form=this.item||(0,p.wky)(),this.isMotorist?this.driver=JSON.parse(localStorage.getItem("user")).hpNumber:(this.driver$=this.driverInput$.pipe((0,d.O)(""),(0,m.b)(200),(0,O.x)(),(0,f.b)(()=>this.driverLoading=!0),(0,v.w)(T=>this.driverService.searchModel(T).pipe((0,f.b)(()=>{this.driverLoading=!1}))),(0,D.B)()),this.driver$.pipe((0,P.q)(1)).subscribe(T=>{this.driver=this.form.driver?this.form.driver:T[0]}))}get isMotorist(){return this.carparkService.isMotorist()}delete(){this.deleted.emit()}cancel(){this.canceled.emit()}submit(){this.submitted.emit({...this.form,driverCode:this.driver.userName,driver:this.driver})}displayDriverOption(T){return[[T.firstName,T.lastName].filter(w=>w).join(" "),T.mobile,T.email].filter(w=>w&&w.length).join(", ")}}return I.\u0275fac=function(T){return new(T||I)(o.Y36(E.sK),o.Y36(B.F0),o.Y36(U.F),o.Y36(h.x))},I.\u0275cmp=o.Xpm({type:I,selectors:[["app-vehicle-form"]],inputs:{item:"item"},outputs:{deleted:"deleted",canceled:"canceled",submitted:"submitted"},decls:51,vars:11,consts:[[1,"m-form","m-form--fit","m-form--label-align-right"],[1,"m-portlet"],["class","m-portlet__head",4,"ngIf"],[1,"m-portlet__body"],[1,"row","form-group","m-form__group"],[1,"col-form-label","col-lg-2","col-sm-12"],[1,"m--font-danger"],[1,"col-lg-4","col-sm-12"],["name","vehicleType",1,"form-control","m-input",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["maxlength","8","pattern","^[a-zA-Z0-9]+$","oninput","this.value = this.value.toUpperCase()","type","text","name","vehicleNumber","placeholder","Vehicle No.","required","",1,"form-control","m-input",3,"ngModel","ngModelChange"],["vehicleNumber","ngModel"],["class","form-control-feedback",4,"ngIf"],["class","col-lg-4 col-sm-12",4,"ngIf","ngIfElse"],["otherRoles",""],["digitOnly","","inputmode","numeric","pattern","^[0-9]+$","maxlength","10","type","text","name","iuNumber","placeholder","","required","",1,"form-control","m-input",3,"ngModel","ngModelChange"],["iuNumber","ngModel"],[1,"col-lg-10","col-sm-12"],["type","text","name","remark","required","",1,"form-control","m-input",3,"ngModel","ngModelChange"],["remark","ngModel"],[1,"m-portlet__foot","bg-light-gray","pb-0"],[1,"row"],[1,"m-form__actions","col","py-0"],["class","btn btn-outline-main",3,"click",4,"ngIf"],[1,"m-form__actions","m-form__actions--right","row","py-0"],[1,"btn","btn-outline-main",3,"click"],[1,"btn","btn-main","m--margin-left-30",3,"click"],[1,"m-portlet__head"],[1,"m-portlet__head-caption"],[1,"m-portlet__head-title"],[1,"m-portlet__head-text"],[3,"value"],[1,"form-control-feedback"],["name","driver","placeholder","",1,"form-control","m-input",3,"ngModel","ngModelChange"],["name","driverControl",3,"items","ngModel","typeahead","loading","ngModelChange"],["ng-label-tmp",""],["ng-option-tmp",""],[1,"la","la-trash"]],template:function(T,C){if(1&T&&(o.TgZ(0,"form",0)(1,"div",1),o.YNc(2,L,5,1,"div",2),o.TgZ(3,"div",3)(4,"div",4)(5,"label",5)(6,"span",6),o._uU(7,"*"),o.qZA(),o._uU(8," Vehicle Type "),o.qZA(),o.TgZ(9,"div",7)(10,"select",8),o.NdJ("ngModelChange",function(W){return C.form.vehicleType=W}),o.YNc(11,M,2,2,"option",9),o.qZA()(),o.TgZ(12,"label",5)(13,"span",6),o._uU(14,"*"),o.qZA(),o._uU(15," Vehicle No.: "),o.qZA(),o.TgZ(16,"div",7)(17,"input",10,11),o.NdJ("ngModelChange",function(W){return C.form.vehicleNumber=W}),o.qZA(),o.YNc(19,R,3,3,"div",12),o.qZA()(),o.TgZ(20,"div",4)(21,"label",5)(22,"span",6),o._uU(23,"*"),o.qZA(),o._uU(24," Driver "),o.qZA(),o.YNc(25,x,2,1,"div",13),o.YNc(26,r_,5,6,"ng-template",null,14,o.W1O),o.TgZ(28,"label",5)(29,"span",6),o._uU(30,"*"),o.qZA(),o._uU(31," IU Number "),o.qZA(),o.TgZ(32,"div",7)(33,"input",15,16),o.NdJ("ngModelChange",function(W){return C.form.iuNumber=W}),o.qZA(),o.YNc(35,l_,2,0,"div",12),o.qZA()(),o.TgZ(36,"div",4)(37,"label",5),o._uU(38," Remark "),o.qZA(),o.TgZ(39,"div",17)(40,"input",18,19),o.NdJ("ngModelChange",function(W){return C.form.remark=W}),o.qZA()()()(),o.TgZ(42,"div",20)(43,"div",21)(44,"div",22),o.YNc(45,c_,3,0,"button",23),o.qZA(),o.TgZ(46,"div",24)(47,"button",25),o.NdJ("click",function(){return C.cancel()}),o._uU(48," Cancel "),o.qZA(),o.TgZ(49,"button",26),o.NdJ("click",function(){return C.submit()}),o._uU(50," Submit "),o.qZA()()()()()()),2&T){const w=o.MAs(18),W=o.MAs(27),V=o.MAs(34);o.xp6(2),o.Q6J("ngIf",C.item),o.xp6(8),o.Q6J("ngModel",C.form.vehicleType),o.xp6(1),o.Q6J("ngForOf",C.vehicleTypes),o.xp6(6),o.Q6J("ngModel",C.form.vehicleNumber),o.xp6(2),o.Q6J("ngIf",w.invalid&&(w.dirty||w.touched)),o.xp6(6),o.Q6J("ngIf",C.isMotorist)("ngIfElse",W),o.xp6(8),o.Q6J("ngModel",C.form.iuNumber),o.xp6(2),o.Q6J("ngIf",V.invalid&&(V.dirty||V.touched)),o.xp6(5),o.Q6J("ngModel",C.form.remark),o.xp6(5),o.Q6J("ngIf",C.item)}},dependencies:[b.sg,b.O5,Z._Y,Z.YN,Z.Kr,Z.Fj,Z.EJ,Z.JJ,Z.JL,Z.Q7,Z.nD,Z.c5,Z.On,Z.F,y.w9,y.ir,y.mR,_.L,b.Ov,E.X$],encapsulation:2}),I})()},34131:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{v:()=>NewApplicationComponent});var C_projects_parking_admin_app_ext_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(15861),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(8929),_root_app_helpers__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(66708),_root_app_models__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(38014),ngx_bootstrap_carousel__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(90371),moment__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(15439),moment__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_2__),luxon__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(21837),_app_shared_constant__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(9648),_angular_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(94650),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(89383),_angular_router__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(34793),_root_app_services_carpark_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(60097),_angular_common__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(36895),_angular_common_http__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(80529),ngx_bootstrap_modal__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(20388),_app_services_vehicle_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(71942),_root_app_services_driver_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(64050),ng_zorro_antd_modal__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(50007),_angular_forms__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(24006),ng_zorro_antd_input__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(35635),ng_zorro_antd_button__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(66616),ng_zorro_antd_core_transition_patch__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(47044),ng_zorro_antd_core_wave__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(21811),ng_zorro_antd_select__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(38231),ng_zorro_antd_radio__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(48521),_components_datepicker_tab_datepicker_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(96599),ngx_bootstrap_alert__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(4358),_upload_image_upload_image_component__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(94442),_form_normal_form_component__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(33932);const _c0=["submittedNewApp"],_c1=["errMsgModal"],_c2=["modal"],_c3=["tplFooter"];function NewApplicationComponent_div_0_div_3_Template(r,c){if(1&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",47)(1,"alert",48),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()),2&r){const a=c.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("hidden",!a.type),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("type",a.type)("dismissOnTimeout",a.timeout),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(3,4,a.msg))}}function NewApplicationComponent_div_0_ng_template_17_slide_2_Template(r,c){if(1&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"slide",52),_angular_core__WEBPACK_IMPORTED_MODULE_10__._UZ(1,"img",53),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(2,"div",54)(3,"h5",55),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(5,"p",56),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(6),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()()),2&r){const a=c.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.s9C("src",a.srcMap,_angular_core__WEBPACK_IMPORTED_MODULE_10__.LSH),_angular_core__WEBPACK_IMPORTED_MODULE_10__.s9C("alt",a.code),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("className","dataTable"===a.code?"carousel-image-info mb-4":"carousel-image-pic"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(a.name),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(a.description)}}function NewApplicationComponent_div_0_ng_template_17_Template(r,c){if(1&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",49)(1,"carousel",50),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(2,NewApplicationComponent_div_0_ng_template_17_slide_2_Template,7,5,"slide",51),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()),2&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngForOf",a.listImages)}}function NewApplicationComponent_div_0_ng_template_18_Template(r,c){if(1&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",49)(1,"div",50),_angular_core__WEBPACK_IMPORTED_MODULE_10__._UZ(2,"img",53),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(3,"div",54)(4,"h5",55),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(5),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(6,"p",56),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(7),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()()()),2&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.s9C("src",a.listImages[0].srcMap,_angular_core__WEBPACK_IMPORTED_MODULE_10__.LSH),_angular_core__WEBPACK_IMPORTED_MODULE_10__.s9C("alt",a.listImages[0].code),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("className","dataTable"===a.listImages[0].code?"carousel-image-info":"carousel-image-pic"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(a.listImages[0].name),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(a.listImages[0].description)}}function NewApplicationComponent_div_0_div_25_nz_option_9_Template(r,c){if(1&r&&_angular_core__WEBPACK_IMPORTED_MODULE_10__._UZ(0,"nz-option",59),2&r){const a=c.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_10__.s9C("nzLabel",a.firstName+(a.lastName?" "+a.lastName:"")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("nzValue",a.login)}}function NewApplicationComponent_div_0_div_25_div_10_Template(r,c){1&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",60),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()),2&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(2,1,"*Required field"),". "))}function NewApplicationComponent_div_0_div_25_Template(r,c){if(1&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",12)(1,"label",22)(2,"span",23),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(3,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(5,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(6,"div",24)(7,"nz-select",57,58),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("ngModelChange",function(p){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const g=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(g.driverId=p)})("ngModelChange",function(p){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const g=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(g.changeDriverToGetVehicles(p))})("nzScrollToBottom",function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const p=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(p.onScrollToEnd())})("nzOnSearch",function(p){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const g=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(g.searchDriver(!0,p))}),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(9,NewApplicationComponent_div_0_div_25_nz_option_9_Template,1,2,"nz-option",27),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(10,NewApplicationComponent_div_0_div_25_div_10_Template,3,3,"div",28),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()}if(2&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(8),o=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(5,5,"Driver"),": "),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("nzLoading",o.loadingDriver)("ngModel",o.driverId),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngForOf",o.listDrivers),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",a.invalid&&(a.dirty||a.touched))}}function NewApplicationComponent_div_0_nz_option_35_Template(r,c){if(1&r&&_angular_core__WEBPACK_IMPORTED_MODULE_10__._UZ(0,"nz-option",59),2&r){const a=c.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("nzValue",a.code)("nzLabel",a.name)}}function NewApplicationComponent_div_0_div_36_Template(r,c){1&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",60),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()),2&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(2,1,"*Required field"),". "))}function NewApplicationComponent_div_0_div_37_nz_option_9_Template(r,c){if(1&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"nz-option",63)(1,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(3,"b",64),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()),2&r){const a=c.$implicit,o=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(3);_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("nzValue",a.code)("nzLabel",a.name),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(a.name),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(o.displayPrice(a.priceInfo))}}function NewApplicationComponent_div_0_div_37_div_10_Template(r,c){1&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",60),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()),2&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(2,1,"*Required field"),". "))}function NewApplicationComponent_div_0_div_37_Template(r,c){if(1&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",12)(1,"label",22)(2,"span",23),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(3,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(5,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(6,"div",24)(7,"nz-select",61,62),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("ngModelChange",function(p){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const g=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(g.myNewApplicationForm.zoneControl=p)})("ngModelChange",function(p){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const g=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(g.onGetZoneControl(p))}),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(9,NewApplicationComponent_div_0_div_37_nz_option_9_Template,5,4,"nz-option",34),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(10,NewApplicationComponent_div_0_div_37_div_10_Template,3,3,"div",28),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()}if(2&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(8),o=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(5,4,"Zone"),": "),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngModel",o.myNewApplicationForm.zoneControl),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngForOf",o.listZone),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",a.invalid&&(a.dirty||a.touched))}}function NewApplicationComponent_div_0_nz_option_47_Template(r,c){if(1&r&&_angular_core__WEBPACK_IMPORTED_MODULE_10__._UZ(0,"nz-option",59),2&r){const a=c.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("nzValue",a.vehicleNumber)("nzLabel",a.vehicleNumber)}}function NewApplicationComponent_div_0_div_48_Template(r,c){1&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",60),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()),2&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(2,1,"*Required field"),". "))}function NewApplicationComponent_div_0_nz_option_58_Template(r,c){if(1&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"nz-option",63)(1,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(3,"b",64),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()),2&r){const a=c.$implicit,o=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("nzValue",a.code)("nzLabel",a.name),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(a.name),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(o.displayPrice(a.priceInfo))}}function NewApplicationComponent_div_0_div_59_Template(r,c){1&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",60),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()),2&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(2,1,"*Required field"),". "))}function NewApplicationComponent_div_0_div_60_div_8_Template(r,c){1&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",60),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()),2&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(2,1,"*Required field"),". "))}function NewApplicationComponent_div_0_div_60_Template(r,c){if(1&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",12)(1,"label",22)(2,"span",23),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(3,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(5,"div",24)(6,"input",65,66),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("ngModelChange",function(p){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const g=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(g.myNewApplicationForm.nameControl=p)}),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(8,NewApplicationComponent_div_0_div_60_div_8_Template,3,3,"div",28),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()}if(2&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(7),o=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",o.displayFields,": "),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngModel",o.myNewApplicationForm.nameControl),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",a.invalid&&(a.dirty||a.touched))}}function NewApplicationComponent_div_0_ng_template_61_Template(r,c){if(1&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",12)(1,"label",22)(2,"span",23),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(3,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(4,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(5),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(6,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(7,"div",67),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(8),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()),2&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(6,3,"Price"),": "),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.AsE(" ",a.currency," ",a.setSeasonPrice(a.seasonPrice)," ")}}const _c4=function(r,c){return{"un-selectable":r,selectedSeasonMonth:c}};function NewApplicationComponent_div_0_div_70_ng_container_7_Template(r,c){if(1&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(1,"button",69),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("click",function(){const g=_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a).$implicit,d=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(3);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(d.selectSeasonMonth(g.id))}),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.BQk()}if(2&r){const a=c.$implicit,o=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(3);_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_10__.WLB(3,_c4,a.disabled,o.seasonMonthControl===a.id))("disabled",a.disabled),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(a.name)}}function NewApplicationComponent_div_0_div_70_Template(r,c){if(1&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",12)(1,"label",22)(2,"span",23),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(3,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(5,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(6,"div",24),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(7,NewApplicationComponent_div_0_div_70_ng_container_7_Template,3,6,"ng-container",68),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()),2&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(5,2,"Duration"),": "),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngForOf",a.seasonMonthListCopy)}}function NewApplicationComponent_div_0_div_73_Template(r,c){if(1&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",38)(1,"span",23),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(2,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(3,"strong"),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(5,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()),2&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(5,1,a.uploadMessage.uploadDescription))}}function NewApplicationComponent_div_0_ng_template_82_div_10_Template(r,c){if(1&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",47)(1,"alert",48),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()),2&r){const a=c.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("hidden",!a.type),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("type",a.type)("dismissOnTimeout",a.timeout),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(a.msg)}}function NewApplicationComponent_div_0_ng_template_82_Template(r,c){if(1&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",70)(1,"h4",71),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(4,"button",72),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const p=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(p.modalRef.hide())}),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(5,"span",73),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(6,"\xd7"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(7,"div",74)(8,"div",4)(9,"div",75),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(10,NewApplicationComponent_div_0_ng_template_82_div_10_Template,3,4,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(11,"app-vehicle-form",76),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("canceled",function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const p=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(p.onCancelCreateVehicle())})("submitted",function(p){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const g=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(g.onSubmitCreateVehicle(p))}),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()}if(2&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(3,2,"Add Vehicle")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(8),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngForOf",a.alertsCreateVehicle)}}function NewApplicationComponent_div_0_ng_template_92_Template(r,c){if(1&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",77)(1,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(2,"Your season parking application has been received, it is currently pending for approval. Your application will take up to 3 working days for approval."),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(3,"button",78),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const p=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(p.onDecline())}),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(4,"Ok"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()}}function NewApplicationComponent_div_0_ng_template_94_Template(r,c){if(1&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",77)(1,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(3,"button",79),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const p=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(p.goToMyAccount())}),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(4,"Close"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()}if(2&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(a.errMsg)}}function NewApplicationComponent_div_0_Template(r,c){if(1&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",3)(1,"div",4)(2,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(3,NewApplicationComponent_div_0_div_3_Template,4,6,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(4,"form",7,8)(6,"div",9)(7,"div",10)(8,"div",11)(9,"div",12)(10,"div",13)(11,"div",14)(12,"h4",15),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(13),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(14,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()()()()(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(15,"div",16)(16,"div",17),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(17,NewApplicationComponent_div_0_ng_template_17_Template,3,1,"ng-template",18),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(18,NewApplicationComponent_div_0_ng_template_18_Template,8,5,"ng-template",18),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(19,"div",19)(20,"div",4)(21,"div",20)(22,"h5"),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(23),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(24,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(25,NewApplicationComponent_div_0_div_25_Template,11,7,"div",21),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(26,"div",12)(27,"label",22)(28,"span",23),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(29,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(30),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(31,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(32,"div",24)(33,"nz-select",25,26),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("ngModelChange",function(p){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const g=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(g.myNewApplicationForm.carparkControl=p)})("ngModelChange",function(p){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const g=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(g.onGetcarparkControl(p))}),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(35,NewApplicationComponent_div_0_nz_option_35_Template,1,2,"nz-option",27),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(36,NewApplicationComponent_div_0_div_36_Template,3,3,"div",28),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(37,NewApplicationComponent_div_0_div_37_Template,11,6,"div",21),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(38,"div",12)(39,"label",22)(40,"span",23),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(41,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(42),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(43,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(44,"div",29)(45,"nz-select",30,31),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("ngModelChange",function(p){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const g=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(g.myNewApplicationForm.vehicleControl=p)}),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(47,NewApplicationComponent_div_0_nz_option_47_Template,1,2,"nz-option",27),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(48,NewApplicationComponent_div_0_div_48_Template,3,3,"div",28),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(49,"div",12)(50,"label",22)(51,"span",23),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(52,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(53),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(54,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(55,"div",24)(56,"nz-select",32,33),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("ngModelChange",function(p){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const g=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(g.myNewApplicationForm.indentityTypeControl=p)})("ngModelChange",function(p){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const g=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(g.onGetIdentityType(p))}),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(58,NewApplicationComponent_div_0_nz_option_58_Template,5,4,"nz-option",34),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(59,NewApplicationComponent_div_0_div_59_Template,3,3,"div",28),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(60,NewApplicationComponent_div_0_div_60_Template,9,3,"div",21),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(61,NewApplicationComponent_div_0_ng_template_61_Template,9,5,"ng-template",18),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(62,"div",12)(63,"label",22)(64,"span",23),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(65,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(66),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(67,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(68,"div",24)(69,"app-datepicker-tab",35),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("select",function(p){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const g=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(g.onChangeStartDate(p))}),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(70,NewApplicationComponent_div_0_div_70_Template,8,4,"div",21),_angular_core__WEBPACK_IMPORTED_MODULE_10__._UZ(71,"div",12),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(72,"div",36),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(73,NewApplicationComponent_div_0_div_73_Template,6,3,"div",37),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(74,"div",38)(75,"app-upload-image",39),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("uuidImage",function(p){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const g=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(g.onGetUuidImage(p))}),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(76,"div",12)(77,"label",22)(78,"span",23),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(79,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(80," Required field(s) "),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__._UZ(81,"div",24),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(82,NewApplicationComponent_div_0_ng_template_82_Template,12,4,"ng-template",null,40,_angular_core__WEBPACK_IMPORTED_MODULE_10__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(84,"div",41)(85,"div",42)(86,"button",43),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const p=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(p.onCancel())}),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(87),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(88,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(89,"button",44),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const p=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(5),g=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(g.onSubmitForm(p))}),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(90),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(91,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()()()(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(92,NewApplicationComponent_div_0_ng_template_92_Template,5,0,"ng-template",null,45,_angular_core__WEBPACK_IMPORTED_MODULE_10__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(94,NewApplicationComponent_div_0_ng_template_94_Template,5,1,"ng-template",null,46,_angular_core__WEBPACK_IMPORTED_MODULE_10__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()}if(2&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(5),o=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(34),p=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(46),g=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(57),d=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngForOf",d.alerts),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(10),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(14,34,"New Application")," "),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",d.multipleSlides),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",!d.multipleSlides&&d.myNewApplicationForm.carparkControl),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij("",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(24,36,"Application Information"),":"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",!d.isMotorist),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(31,38,"Car Park"),": "),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngModel",d.myNewApplicationForm.carparkControl),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngForOf",d.listCarparks),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",o.invalid&&(o.dirty||o.touched)),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",d.myNewApplicationForm.carparkControl),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(43,40,"Vehicle No."),": "),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngModel",d.myNewApplicationForm.vehicleControl),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngForOf",d.listVehicles),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",p.invalid&&(p.dirty||p.touched)),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(54,42,"Identity Type"),": "),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngModel",d.myNewApplicationForm.indentityTypeControl),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngForOf",d.listIdentity),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",g.invalid&&(g.dirty||g.touched)),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",d.displayFields),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",d.myNewApplicationForm.carparkControl),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(67,44,"Start Date"),": "),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("data",d.timeStartDate)("headerDatePicker",!1)("isScopeMonth",!0)("expireDate",!0),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",!d.autoRenew),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",d.uploadMessage.uploadDescription),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("srcImg",d.myNewApplicationForm.uuidImage)("newMessage",d.triggerMessageUploadDocs)("warningMessage",d.uploadMessage.warning),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(12),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(88,46,"Cancel")," "),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("disabled",!a.valid),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(91,48,"Submit")," ")}}function NewApplicationComponent_div_1_div_3_Template(r,c){if(1&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",47)(1,"alert",48),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()),2&r){const a=c.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("hidden",!a.type),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("type",a.type)("dismissOnTimeout",a.timeout),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(3,4,a.msg))}}function NewApplicationComponent_div_1_ng_template_17_slide_2_Template(r,c){if(1&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"slide",52),_angular_core__WEBPACK_IMPORTED_MODULE_10__._UZ(1,"img",53),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(2,"div",54)(3,"h5",55),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(5,"p",56),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(6),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()()),2&r){const a=c.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.s9C("src",a.srcMap,_angular_core__WEBPACK_IMPORTED_MODULE_10__.LSH),_angular_core__WEBPACK_IMPORTED_MODULE_10__.s9C("alt",a.code),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("className","dataTable"===a.code?"carousel-image-info mb-4":"carousel-image-pic"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(a.name),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(a.description)}}function NewApplicationComponent_div_1_ng_template_17_Template(r,c){if(1&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",49)(1,"carousel",50),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(2,NewApplicationComponent_div_1_ng_template_17_slide_2_Template,7,5,"slide",51),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()),2&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngForOf",a.listImages)}}function NewApplicationComponent_div_1_ng_template_18_Template(r,c){if(1&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",49)(1,"div",50),_angular_core__WEBPACK_IMPORTED_MODULE_10__._UZ(2,"img",53),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(3,"div",54)(4,"h5",55),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(5),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(6,"p",56),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(7),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()()()),2&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.s9C("src",a.listImages[0].srcMap,_angular_core__WEBPACK_IMPORTED_MODULE_10__.LSH),_angular_core__WEBPACK_IMPORTED_MODULE_10__.s9C("alt",a.listImages[0].code),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("className","dataTable"===a.listImages[0].code?"carousel-image-info":"carousel-image-pic"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(a.listImages[0].name),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(a.listImages[0].description)}}function NewApplicationComponent_div_1_div_25_nz_option_9_Template(r,c){if(1&r&&_angular_core__WEBPACK_IMPORTED_MODULE_10__._UZ(0,"nz-option",59),2&r){const a=c.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_10__.s9C("nzLabel",a.firstName+(a.lastName?" "+a.lastName:"")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("nzValue",a.login)}}function NewApplicationComponent_div_1_div_25_div_10_Template(r,c){1&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",60),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()),2&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(2,1,"*Required field"),". "))}function NewApplicationComponent_div_1_div_25_Template(r,c){if(1&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",12)(1,"label",22)(2,"span",23),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(3,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(5,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(6,"div",24)(7,"nz-select",57,58),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("ngModelChange",function(p){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const g=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(g.driverId=p)})("ngModelChange",function(p){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const g=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(g.changeDriverToGetVehicles(p))})("nzScrollToBottom",function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const p=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(p.onScrollToEnd())})("nzOnSearch",function(p){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const g=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(g.searchDriver(!0,p))}),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(9,NewApplicationComponent_div_1_div_25_nz_option_9_Template,1,2,"nz-option",27),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(10,NewApplicationComponent_div_1_div_25_div_10_Template,3,3,"div",28),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()}if(2&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(8),o=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(5,5,"Driver"),": "),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("nzLoading",o.loadingDriver)("ngModel",o.driverId),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngForOf",o.listDrivers),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",a.invalid&&(a.dirty||a.touched))}}function NewApplicationComponent_div_1_nz_option_35_Template(r,c){if(1&r&&_angular_core__WEBPACK_IMPORTED_MODULE_10__._UZ(0,"nz-option",59),2&r){const a=c.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("nzValue",a.code)("nzLabel",a.name)}}function NewApplicationComponent_div_1_div_36_Template(r,c){1&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",60),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()),2&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(2,1,"*Required field"),". "))}function NewApplicationComponent_div_1_nz_option_46_Template(r,c){if(1&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"nz-option",63)(1,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(3,"b",64),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()),2&r){const a=c.$implicit,o=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("nzValue",a.code)("nzLabel",a.name),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(a.name),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(o.displayPrice(a.priceInfo))}}function NewApplicationComponent_div_1_div_47_Template(r,c){1&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",60),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()),2&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(2,1,"*Required field"),". "))}function NewApplicationComponent_div_1_div_48_div_1_nz_option_9_Template(r,c){if(1&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"nz-option",63)(1,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(3,"b",64),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()),2&r){const a=c.$implicit,o=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(4);_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("nzValue",a.code)("nzLabel",a.name),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(a.name),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(o.displayPrice(a.priceInfo))}}function NewApplicationComponent_div_1_div_48_div_1_div_10_Template(r,c){1&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",60),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()),2&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(2,1,"*Required field"),". "))}function NewApplicationComponent_div_1_div_48_div_1_Template(r,c){if(1&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",12)(1,"label",22)(2,"span",23),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(3,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(5,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(6,"div",24)(7,"nz-select",61,62),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("ngModelChange",function(p){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const g=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(3);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(g.myNewApplicationForm.zoneControl=p)})("ngModelChange",function(p){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const g=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(3);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(g.onGetZoneControl(p))}),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(9,NewApplicationComponent_div_1_div_48_div_1_nz_option_9_Template,5,4,"nz-option",34),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(10,NewApplicationComponent_div_1_div_48_div_1_div_10_Template,3,3,"div",28),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()}if(2&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(8),o=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(3);_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(5,4,"Zone"),": "),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngModel",o.myNewApplicationForm.zoneControl),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngForOf",o.listZone),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",a.invalid&&(a.dirty||a.touched))}}function NewApplicationComponent_div_1_div_48_Template(r,c){if(1&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(1,NewApplicationComponent_div_1_div_48_div_1_Template,11,6,"div",21),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()),2&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",a.myNewApplicationForm.carparkControl)}}function NewApplicationComponent_div_1_nz_option_58_Template(r,c){if(1&r&&_angular_core__WEBPACK_IMPORTED_MODULE_10__._UZ(0,"nz-option",59),2&r){const a=c.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("nzValue",a.vehicleNumber)("nzLabel",a.vehicleNumber)}}function NewApplicationComponent_div_1_div_59_Template(r,c){1&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",60),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()),2&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(2,1,"*Required field"),". "))}function NewApplicationComponent_div_1_nz_option_69_Template(r,c){if(1&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"nz-option",63)(1,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(3,"b",64),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()),2&r){const a=c.$implicit,o=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("nzValue",a.code)("nzLabel",a.name),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(a.name),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(o.displayPrice(a.priceInfo))}}function NewApplicationComponent_div_1_div_70_Template(r,c){1&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",60),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()),2&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(2,1,"*Required field"),". "))}function NewApplicationComponent_div_1_div_71_div_1_div_8_Template(r,c){1&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",60),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()),2&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(2,1,"*Required field"),". "))}function NewApplicationComponent_div_1_div_71_div_1_Template(r,c){if(1&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",12)(1,"label",22)(2,"span",23),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(3,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(5,"div",24)(6,"input",65,66),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("ngModelChange",function(p){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const g=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(3);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(g.myNewApplicationForm.nameControl=p)}),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(8,NewApplicationComponent_div_1_div_71_div_1_div_8_Template,3,3,"div",28),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()}if(2&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(7),o=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(3);_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",o.displayFields,": "),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngModel",o.myNewApplicationForm.nameControl),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",a.invalid&&(a.dirty||a.touched))}}function NewApplicationComponent_div_1_div_71_Template(r,c){if(1&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(1,NewApplicationComponent_div_1_div_71_div_1_Template,9,3,"div",21),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()),2&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",a.displayFields)}}function NewApplicationComponent_div_1_div_72_ng_template_1_Template(r,c){if(1&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",12)(1,"label",22)(2,"span",23),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(3,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(4,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(5),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(6,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(7,"div",67),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(8),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()),2&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(3);_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(6,3,"Price"),": "),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.AsE(" ",a.currency," ",a.setSeasonPrice(a.seasonPrice)," ")}}function NewApplicationComponent_div_1_div_72_Template(r,c){if(1&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(1,NewApplicationComponent_div_1_div_72_ng_template_1_Template,9,5,"ng-template",18),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()),2&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",a.myNewApplicationForm.carparkControl)}}function NewApplicationComponent_div_1_div_81_Template(r,c){if(1&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div")(1,"div",84)(2,"div",85),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(3," Recurring: "),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(4,"div",86)(5,"nz-radio-group",87),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("ngModelChange",function(p){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const g=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(g.radioValue=p)})("ngModelChange",function(p){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const g=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(g.clickCheckedA(p))}),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(6,"label",88),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(7,"Yes"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(8,"label",88),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(9,"No"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()()()()}if(2&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngModel",a.radioValue),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("nzValue",1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("nzValue",2)}}function NewApplicationComponent_div_1_div_82_Template(r,c){1&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",12)(1,"label",22),_angular_core__WEBPACK_IMPORTED_MODULE_10__._UZ(2,"span",23),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(4,"div",89),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(5," if No, please indicate preferred duration "),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()),2&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ","Note",": "))}function NewApplicationComponent_div_1_ng_container_90_Template(r,c){if(1&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(1,"button",90),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("click",function(){const g=_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a).$implicit,d=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(d.selectSeasonMonth(g.id))}),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.BQk()}if(2&r){const a=c.$implicit,o=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_10__.WLB(3,_c4,a.disabled,o.seasonMonthControl===a.id))("disabled",a.disabled),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(a.name)}}function NewApplicationComponent_div_1_ng_template_94_div_10_Template(r,c){if(1&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",47)(1,"alert",48),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()),2&r){const a=c.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("hidden",!a.type),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("type",a.type)("dismissOnTimeout",a.timeout),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(a.msg)}}function NewApplicationComponent_div_1_ng_template_94_Template(r,c){if(1&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",70)(1,"h4",71),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(4,"button",72),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const p=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(p.modalRef.hide())}),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(5,"span",73),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(6,"\xd7"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(7,"div",74)(8,"div",4)(9,"div",75),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(10,NewApplicationComponent_div_1_ng_template_94_div_10_Template,3,4,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(11,"app-vehicle-form",76),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("canceled",function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const p=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(p.onCancelCreateVehicle())})("submitted",function(p){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const g=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(g.onSubmitCreateVehicle(p))}),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()}if(2&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(3,2,"Add Vehicle")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(8),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngForOf",a.alertsCreateVehicle)}}function NewApplicationComponent_div_1_ng_template_104_Template(r,c){if(1&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",77)(1,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(2,"Your season parking application has been received, it is currently pending for approval. Your application will take up to 3 working days for approval."),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(3,"button",91),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const p=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(p.onDecline())}),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(4,"Ok"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()}}function NewApplicationComponent_div_1_ng_template_106_Template(r,c){if(1&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",77)(1,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(3,"button",91),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const p=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(p.goToMyAccount())}),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(4,"Close"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()}if(2&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(a.errMsg)}}function NewApplicationComponent_div_1_Template(r,c){if(1&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",3)(1,"div",4)(2,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(3,NewApplicationComponent_div_1_div_3_Template,4,6,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(4,"form",7,8)(6,"div",9)(7,"div",10)(8,"div",11)(9,"div",12)(10,"div",13)(11,"div",14)(12,"h4",15),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(13),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(14,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()()()()(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(15,"div",16)(16,"div",17),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(17,NewApplicationComponent_div_1_ng_template_17_Template,3,1,"ng-template",18),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(18,NewApplicationComponent_div_1_ng_template_18_Template,8,5,"ng-template",18),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(19,"div",19)(20,"div",4)(21,"div",20)(22,"h5"),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(23),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(24,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(25,NewApplicationComponent_div_1_div_25_Template,11,7,"div",21),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(26,"div",12)(27,"label",22)(28,"span",23),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(29,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(30),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(31,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(32,"div",24)(33,"nz-select",25,26),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("ngModelChange",function(p){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const g=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(g.myNewApplicationForm.carparkControl=p)})("ngModelChange",function(p){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const g=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(g.onGetcarparkControl(p))}),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(35,NewApplicationComponent_div_1_nz_option_35_Template,1,2,"nz-option",27),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(36,NewApplicationComponent_div_1_div_36_Template,3,3,"div",28),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(37,"div",12)(38,"label",22)(39,"span",23),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(40,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(41),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(42,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(43,"div",24)(44,"nz-select",80,81),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("ngModelChange",function(p){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const g=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(g.myNewApplicationForm.typeSeleControl=p)})("ngModelChange",function(p){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const g=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(g.onGettypeSelect(p))}),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(46,NewApplicationComponent_div_1_nz_option_46_Template,5,4,"nz-option",34),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(47,NewApplicationComponent_div_1_div_47_Template,3,3,"div",28),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(48,NewApplicationComponent_div_1_div_48_Template,2,1,"div",82),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(49,"div",12)(50,"label",22)(51,"span",23),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(52,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(53),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(54,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(55,"div",29)(56,"nz-select",30,31),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("ngModelChange",function(p){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const g=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(g.myNewApplicationForm.vehicleControl=p)}),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(58,NewApplicationComponent_div_1_nz_option_58_Template,1,2,"nz-option",27),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(59,NewApplicationComponent_div_1_div_59_Template,3,3,"div",28),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(60,"div",12)(61,"label",22)(62,"span",23),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(63,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(64),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(65,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(66,"div",24)(67,"nz-select",32,33),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("ngModelChange",function(p){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const g=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(g.myNewApplicationForm.indentityTypeControl=p)})("ngModelChange",function(p){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const g=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(g.onGetIdentityType(p))}),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(69,NewApplicationComponent_div_1_nz_option_69_Template,5,4,"nz-option",34),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(70,NewApplicationComponent_div_1_div_70_Template,3,3,"div",28),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(71,NewApplicationComponent_div_1_div_71_Template,2,1,"div",82),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(72,NewApplicationComponent_div_1_div_72_Template,2,1,"div",82),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(73,"div",12)(74,"label",22)(75,"span",23),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(76,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(77),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(78,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(79,"div",24)(80,"app-datepicker-tab",35),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("select",function(p){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const g=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(g.onChangeStartDateNyt(p))}),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(81,NewApplicationComponent_div_1_div_81_Template,10,3,"div",82),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(82,NewApplicationComponent_div_1_div_82_Template,6,1,"div",21),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(83,"div",12)(84,"label",22)(85,"span",23),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(86,"*"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(87),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(88,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(89,"div",24),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(90,NewApplicationComponent_div_1_ng_container_90_Template,3,6,"ng-container",68),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_10__._UZ(91,"div",12),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(92,"div",83),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(93," Note:Once season application is approved,motorist will be notified to make payment using registered credit card "),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(94,NewApplicationComponent_div_1_ng_template_94_Template,12,4,"ng-template",null,40,_angular_core__WEBPACK_IMPORTED_MODULE_10__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(96,"div",41)(97,"div",42)(98,"button",43),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const p=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(p.onCancel())}),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(99),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(100,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(101,"button",44),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const p=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(5),g=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(g.onSubmitForm(p))}),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(102),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(103,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()()()(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(104,NewApplicationComponent_div_1_ng_template_104_Template,5,0,"ng-template",null,45,_angular_core__WEBPACK_IMPORTED_MODULE_10__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(106,NewApplicationComponent_div_1_ng_template_106_Template,5,1,"ng-template",null,46,_angular_core__WEBPACK_IMPORTED_MODULE_10__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()}if(2&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(5),o=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(34),p=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(45),g=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(57),d=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(68),m=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngForOf",m.alerts),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(10),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(14,39,"New Application")," "),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",m.multipleSlides),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",!m.multipleSlides&&m.myNewApplicationForm.carparkControl),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij("",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(24,41,"Application Information"),":"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",!m.isMotorist),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(31,43,"Car Park"),": "),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngModel",m.myNewApplicationForm.carparkControl),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngForOf",m.listCarparks),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",o.invalid&&(o.dirty||o.touched)),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(42,45,"Type"),": "),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngModel",m.myNewApplicationForm.typeSeleControl),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngForOf",m.typeSelectArr),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",p.invalid&&(p.dirty||p.touched)),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf","DailySeason"!==m.typeSelectArrChoose),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(54,47,"Vehicle No."),": "),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngModel",m.myNewApplicationForm.vehicleControl),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngForOf",m.listVehicles),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",g.invalid&&(g.dirty||g.touched)),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(65,49,"Identity Type"),": "),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngModel",m.myNewApplicationForm.indentityTypeControl),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngForOf",m.listIdentity),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",d.invalid&&(d.dirty||d.touched)),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf","nypLogin"!==m.intoType),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf","DeailySeason"!==m.typeSelectArrChoose),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(78,51,"Start Date"),": "),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("data",m.timeStartDate)("headerDatePicker",!1)("isScopeMonth",!0)("expireDate",!0),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf","NormalSeason"==m.typeSelectArrChoose),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf","0"==m.autoAddData),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Tol("1"==m.autoAddData?"displayNo":"row form-group m-form__group"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(88,53,"Duration"),": "),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngForOf",m.seasonMonthListCopy),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(9),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(100,55,"Cancel")," "),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("disabled",!a.valid),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(103,57,"Submit")," ")}}function NewApplicationComponent_ng_template_2_div_0_br_1_Template(r,c){1&r&&_angular_core__WEBPACK_IMPORTED_MODULE_10__._UZ(0,"br")}const _c5=function(r){return{"ml-3":r}};function NewApplicationComponent_ng_template_2_div_0_ng_template_2_Template(r,c){if(1&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"span",94),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()),2&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_10__.VKq(2,_c5,"title"!==a.remark)),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(a.text)}}function NewApplicationComponent_ng_template_2_div_0_Template(r,c){if(1&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(1,NewApplicationComponent_ng_template_2_div_0_br_1_Template,1,0,"br",92),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(2,NewApplicationComponent_ng_template_2_div_0_ng_template_2_Template,2,4,"ng-template",null,93,_angular_core__WEBPACK_IMPORTED_MODULE_10__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()),2&r){const a=c.$implicit,o=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(3);_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",!a.text)("ngIfElse",o)}}function NewApplicationComponent_ng_template_2_Template(r,c){if(1&r&&_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(0,NewApplicationComponent_ng_template_2_div_0_Template,4,2,"div",68),2&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngForOf",a.messageList)}}function NewApplicationComponent_ng_template_4_ng_container_0_Template(r,c){if(1&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(1,"button",95),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const p=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(p.handleCloseModal(!1))}),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(2,"OK"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.BQk()}}function NewApplicationComponent_ng_template_4_ng_container_1_ng_container_1_Template(r,c){if(1&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(1,"button",91),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const p=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(3);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(p.handleCloseModal(!0))}),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(2,"NYP Car Park"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(3,"button",96),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const p=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(3);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(p.handleCloseModal())}),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(4,"NTU"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.BQk()}}function NewApplicationComponent_ng_template_4_ng_container_1_ng_container_2_Template(r,c){if(1&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(1,"button",91),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("click",function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(a);const p=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(3);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.KtG(p.handleCloseModal(!1))}),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(2,"OK"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.BQk()}}function NewApplicationComponent_ng_template_4_ng_container_1_Template(r,c){if(1&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(1,NewApplicationComponent_ng_template_4_ng_container_1_ng_container_1_Template,5,0,"ng-container",82),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(2,NewApplicationComponent_ng_template_4_ng_container_1_ng_container_2_Template,3,0,"ng-container",82),_angular_core__WEBPACK_IMPORTED_MODULE_10__.BQk()),2&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf","ROLE_USER"!==a.loginRoles),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf","ROLE_USER"==a.loginRoles)}}function NewApplicationComponent_ng_template_4_Template(r,c){if(1&r&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(0,NewApplicationComponent_ng_template_4_ng_container_0_Template,3,0,"ng-container",82),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(1,NewApplicationComponent_ng_template_4_ng_container_1_Template,3,2,"ng-container",82)),2&r){const a=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf","nypLogin"===a.intoType),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf","nypLogin"!==a.intoType)}}let NewApplicationComponent=(()=>{class NewApplicationComponent{constructor(r,c,a,o,p,g,d,m,O,f){this.translate=r,this.route=c,this.carparkService=a,this._location=o,this.http=p,this.modalService=g,this.vehicleService=d,this._router=m,this.driverService=O,this.nzModalService=f,this.carparkInput$=new rxjs__WEBPACK_IMPORTED_MODULE_11__.xQ,this.listImagesOriginal=[],this.subscription=[],this.myNewApplicationForm=new _root_app_models__WEBPACK_IMPORTED_MODULE_1__.aE_,this.flagCheckRecaptcha=!1,this.multipleSlides=!0,this.listUuidImages=[],this.triggerMessageUploadDocs=!1,this.submitted=!1,this.isStaffFileds=!1,this.seasonMonthControl=null,this.uploadMessage=(0,_root_app_models__WEBPACK_IMPORTED_MODULE_1__.Hz$)(),this.listDrivers=[],this.driverInput$=new rxjs__WEBPACK_IMPORTED_MODULE_11__.xQ,this.autoRenew=!1,this.validateReg=null,this.messageList=[{text:"Information needed to",remark:"title"},{text:"",remark:""},{text:"Apply for season parking",remark:"title"},{text:"- Staff and Student: staff ID/matriculation no. and staff/student pass",remark:"content"},{text:"- Staff without staff ID no.: Select 'Identity Type > Others' and use staff pass",remark:"content"},{text:"- Tenant/Contractor: email approval from NTU",remark:"content"}],this.timeEndDate={value:[luxon__WEBPACK_IMPORTED_MODULE_3__.ou.local().plus({months:3}).toJSDate(),new Date],type:_root_app_models__WEBPACK_IMPORTED_MODULE_1__.Nxg.Month},this.listStars=[{name:"VIP",id:"vip"},{name:"Normal",id:"normal"}],this.listAreaCode=[{areaCode:"+65"}],this.fakeDataTicketType=[{id:1,name:"Support Technical",valString:"string",code:"code-sample"},{id:2,name:"Sales",valString:"string",code:"code-sample"},{id:4,name:"Renew",valString:"string",code:"code-sample"},{id:5,name:"Complain",valString:"string",code:"code-sample"}],this.fakeType=[{id:1,name:"Dangerous",valString:"string",code:"code-sample"},{id:2,name:"Normal",valString:"string",code:"code-sample"},{id:4,name:"Important",valString:"string",code:"code-sample"}],this.fakeVehicle=[{id:1,name:"Car",valString:"string",code:"code-sample"},{id:2,name:"Cycle",valString:"string",code:"code-sample"},{id:4,name:"Bike",valString:"string",code:"code-sample"}],this.seasonMonthList=[{id:1,name:"1 month",disabled:!1},{id:2,name:"2 months",disabled:!1},{id:3,name:"3 months",disabled:!1}],this.seasonMonthListCopy=[{id:1,name:"1 month",disabled:!1},{id:2,name:"2 months",disabled:!1},{id:3,name:"3 months",disabled:!1}],this.alerts=[{type:null,msg:null,timeout:0}],this.alertsCreateVehicle=[{type:null,msg:null,timeout:0}],this.errMsg="",this.intoType="",this.typeSelectArr=[{name:"Monthly Season",code:"NormalSeason"},{name:"Daily  Season",code:"DailySeason"}],this.typeSelectArrChoose="",this.listIdentityCopy=[],this.autoAddData=null,this.zonePriceZero="zonePriceZero",this.loginRoles="",this.errorEmail="",this.radioValue=0,this.loadingDriver=!1,this.driverSearchKey="",this.tempName="",this.modalIns=null}ngOnInit(){this.intoType=localStorage.getItem("intoType"),this.loginRoles=JSON.parse(localStorage.getItem("user-roles"))[0],"nypLogin"==this.intoType&&(this.messageList=[{text:"Information needed to",remark:"title"},{text:"",remark:""},{text:"Apply for season parking",remark:"title"},{text:"- Staff to provide their NYP domain email",remark:"content"},{text:"- Tenant/contractor to attach email approval from NYP",remark:"content"}]),this.onInitStartDate(),this.onGetDataFromCarpark(this.onIsFromCarpark()),this.onGetListVehicles(),this.onGetListDrivers(),this.onGetSeasonLocations(),this.myNewApplicationForm.autoRenewControl=1,setTimeout(()=>{this.modalIns=this.nzModalService.create({nzTitle:"",nzContent:this.modal,nzFooter:this.tplFooter,nzWidth:580})},0)}handleCloseModal(r){r&&(this.intoType="nypLogin",this.onGetSeasonLocations(),this.onGetListVehicles()),this.modalIns.destroy()}ngOnDestroy(){for(const r of this.subscription)r.unsubscribe()}onGettypeSelect(r){const c=this.typeSelectArr.find(a=>a.code===r);this.typeSelectArrChoose=c.code,this.seasonMonthListCopy="NormalSeason"==c.code?[{id:1,name:"1 month",disabled:!1},{id:2,name:"2 months",disabled:!1},{id:3,name:"3 months",disabled:!1}]:[{id:6,name:"6 months",disabled:!1}]}onInitStartDate(){this.timeStartDate=(new Date).getMonth()+1!==8||2020!=(new Date).getFullYear()?((new Date).getDate(),{value:[luxon__WEBPACK_IMPORTED_MODULE_3__.ou.local().toJSDate(),new Date],type:_root_app_models__WEBPACK_IMPORTED_MODULE_1__.Nxg.Month}):{value:[luxon__WEBPACK_IMPORTED_MODULE_3__.ou.local().plus({months:1}).toJSDate(),new Date],type:_root_app_models__WEBPACK_IMPORTED_MODULE_1__.Nxg.Month}}onGetcarparkControl(r){const c=this.listCarparks.find(a=>a.code===r);_root_app_helpers__WEBPACK_IMPORTED_MODULE_0__.Z.isUndefinedOrNull(c)||(this.seasonPrice=null,this.myNewApplicationForm.zoneControl=null,this.myNewApplicationForm.indentityTypeControl=null,this.listZone=c.zones,this.uploadMessage={uploadDescription:c.uploadDescription,warning:c.warning},this.listIdentity=c.identifiers,1===this.listZone.length&&(this.onGetZoneControl(this.listZone[0]),this.myNewApplicationForm.zoneControl=this.listZone[0].code))}onGetZoneControl(r){const c=this.listZone.find(a=>a.code===r);if("nypLogin"==this.intoType&&c&&(this.myNewApplicationForm.zoneControl=c.code),_root_app_helpers__WEBPACK_IMPORTED_MODULE_0__.Z.isUndefinedOrNull(c))this.multipleSlides=!0,this.listImages=this.listImagesOriginal;else{this.multipleSlides=!1;const a=this.listImagesOriginal.filter(O=>O.code===c.code);this.listImages=a;const o=this.listCarparks.filter(O=>O.code===this.myNewApplicationForm.carparkControl),{priceRequiredTags:p,prices:g,identifiers:d}=o[0],[m]=p;if("zone"===m){const{price:O,currency:f}=g.filter(v=>v.zone===c.code)[0];this.seasonPrice=O/100,this.currency=f}c.identifierFilter&&(this.myNewApplicationForm.indentityTypeControl=null,this.seasonPrice=null,this.currency=null,this.listIdentity=d.filter(O=>c.identifiers.includes(O.code)))}}onGetIdentityType(r){const c=this.listIdentity.find(a=>a.code===r);if(_root_app_helpers__WEBPACK_IMPORTED_MODULE_0__.Z.isUndefinedOrNull(c))this.displayFields="";else{this.myNewApplicationForm.companyNameControl="",this.myNewApplicationForm.studentStaffControl="",this.displayFields=c.labelText,this.validateReg=c.needValidate?c.validateReg:null;const a=this.listCarparks.filter(O=>O.code===this.myNewApplicationForm.carparkControl),{priceRequiredTags:o,prices:p,autoRenews:g}=a[0],[d]=o;if("identifier"===d){const{price:O,currency:f}=p.filter(v=>v.identifier===c.code)[0];this.seasonPrice=O/100,this.currency=f}const m=g.filter(O=>O.identifier===c.code);this.autoRenew=m.length>0,this.selectSeasonMonth(1)}}onChangeStartDateNyt(r){this.myNewApplicationForm.startDateControl=moment__WEBPACK_IMPORTED_MODULE_2__(r.value[0],"DD/MM/YYYY").format("YYYY-MM-DD"),this.endDateControl=moment__WEBPACK_IMPORTED_MODULE_2__(this.timeEndDate.value[0],"DD/MM/YYYY").format("YYYY-MM-DD")}onChangeStartDate(r){console.log(r),!Array.isArray(r)&&(this.timeStartDate=r,this.myNewApplicationForm.startDateControl=moment__WEBPACK_IMPORTED_MODULE_2__(r.value[0],"DD/MM/YYYY").format("YYYY-MM-DD"),this.endDateControl=moment__WEBPACK_IMPORTED_MODULE_2__(this.timeEndDate.value[0],"DD/MM/YYYY").format("YYYY-MM-DD"),this.seasonMonthList=this.seasonMonthList.map(c=>{let a=moment__WEBPACK_IMPORTED_MODULE_2__(this.endDateControl),o=moment__WEBPACK_IMPORTED_MODULE_2__(this.myNewApplicationForm.startDateControl),p=a.diff(o,"months")+1;return this.seasonMonthControl=p<this.seasonMonthControl?1:this.seasonMonthControl,{id:c.id,name:c.name,disabled:p<c.id}}),this.seasonMonthListCopy=this.seasonMonthListCopy.map(c=>{let a=moment__WEBPACK_IMPORTED_MODULE_2__(this.endDateControl),o=moment__WEBPACK_IMPORTED_MODULE_2__(this.myNewApplicationForm.startDateControl),p=a.diff(o,"months")+1;return this.seasonMonthControl=p<this.seasonMonthControl?1:this.seasonMonthControl,{id:c.id,name:c.name,disabled:p<c.id}}))}clickCheckedA(r){console.log(r,"\u9009\u62e9\u7684yes\uff0c\u8fd8\u662fno"),1==r?(this.autoAddData=1,this.seasonMonthListCopy=[{id:1,name:"1 month",disabled:!1}],this.selectSeasonMonth(1)):(this.autoAddData=0,this.seasonMonthListCopy=[{id:1,name:"1 month",disabled:!1},{id:2,name:"2 months",disabled:!1},{id:3,name:"3 months",disabled:!1}],this.seasonMonthControl="")}selectSeasonMonth(r){this.seasonMonthControl=r}changeEndDate(r){Array.isArray(r)||(this.timeEndDate=r,this.myNewApplicationForm.endDateControl=moment__WEBPACK_IMPORTED_MODULE_2__(r.value[0],"DD/MM/YYYY").format("MM/YYYY"))}openModalWithClass(r){this.modalRef=this.modalService.show(r,Object.assign({},{class:"gray modal-lg"}))}onSubmitCreateVehicle(r){this.vehicleService.createModel(r.driverCode,r).subscribe(()=>{this.alerts.push({type:"success",msg:"Submit Create Vehicle successfully",timeout:_app_shared_constant__WEBPACK_IMPORTED_MODULE_12__.W.middleTime}),this.modalService.hide(1)},c=>{this.alertsCreateVehicle.push({type:"danger",msg:"Submit Create Vehicle failed. Please try again",timeout:_app_shared_constant__WEBPACK_IMPORTED_MODULE_12__.W.middleTime})})}onGetSeasonLocations(){this.subscription.push(this.carparkService.getSeasonLocations().subscribe(r=>{"nypLogin"==this.intoType&&(r=r.filter(c=>"NYP"==c.code)),"nypLogin"!==this.intoType&&"ROLE_USER"==this.loginRoles&&(r=r.filter(c=>"NYP"!==c.code)),this.listCarparks=r.map(c=>({...c,zones:c.zones.filter(a=>a.active).sort((a,o)=>a.position-o.position),identifiers:c.identifiers.filter(a=>a.active).sort((a,o)=>a.position-o.position)})),this.listZone=this.listCarparks[0].zones,this.listImagesOriginal=this.flatten(r.map(c=>c.zones)).map(c=>({...c,srcMap:c.image})),this.uploadMessage={uploadDescription:this.listCarparks[0].uploadDescription,warning:this.listCarparks[0].warning},this.onGetZoneControl(null)}))}flatten(r){return r.reduce((c,a)=>c.concat(Array.isArray(a)?this.flatten(a):a),[])}onGetDataFromCarpark(r){r&&(this.selectedCarpark=JSON.parse(localStorage.getItem("selectedCarpark")),this.myNewApplicationForm={...this.myNewApplicationForm,uuidImage:this.selectedCarpark.images[0].carParkImage})}onIsFromCarpark(){return!!this.route.snapshot.paramMap.get("fromCarpark")}onGetListCarpark(){this.subscription.push(this.carparkService.getListCarpark().subscribe(r=>{this.listCarparks=r}))}onGetListIdentity(){this.subscription.push(this.carparkService.getListIdentity().subscribe(r=>{this.listIdentity=[],this.listIdentity_onenorth=[];for(let c=0;c<r.length;c++)("Staff"===r[c].name||"Student"===r[c].name||"Others"===r[c].name)&&this.listIdentity.push(r[c]),("Staff"===r[c].name||"Alumni/Tenants"===r[c].name)&&this.listIdentity_onenorth.push(r[c]);1===this.listIdentity_onenorth.length&&this.listIdentity_onenorth.push({code:"Alumni/Tenants",name:"Alumni/Tenants"})}))}onGetListZone(){this.subscription.push(this.carparkService.getListZone().subscribe(r=>{this.listZone=[],this.listImagesOriginal=[],r.forEach(c=>{"ZoneOneNorth"!==c.code&&"NTU@one-north"!==c.code&&this.listZone.push({...c,nameMarks:c.code+" "+c.value})}),r.forEach(c=>{"ZoneOneNorth"!==c.code&&"NTU@one-north"!==c.code&&this.listImagesOriginal.push({...c,srcMap:c.remarks,description:"For further information, please refer to the NTU website."})}),this.listImages=this.listImagesOriginal}))}onGetListVehicles(r){!this.isMotorist&&!r||this.subscription.push(this.carparkService.getListVehicles(r,this.driverId).subscribe(c=>{this.listVehicles=c}))}onGetListVehicleType(){this.subscription.push(this.carparkService.getListVehicleType().subscribe(r=>{this.listVehicleType=r}))}onGetListDrivers(r){this.isMotorist||(this.loadingDriver=!0,this.pagination&&(this.pagination={...this.pagination,page:this.pagination.page+1}),this.subscription.push(this.driverService.getDriversSimpleList({key:r?this.driverSearchKey:"",sort:"id,desc"},this.pagination).subscribe(c=>{this.loadingDriver=!1,this.listDrivers=r?c.data.filter(a=>a.firstName||a.lastName):this.listDrivers.concat(c.data.filter(a=>a.firstName||a.lastName)),this.pagination={...this.pagination,...c.pagination},this.currentPage=c.pagination.page},c=>{this.loadingDriver=!1,this.pagination={...this.pagination,page:0,totalPages:0}})))}searchDriver(r,c){this.driverSearchKey=c,r&&(this.pagination.page=-1,this.onGetListDrivers("search"))}changeDriverToGetVehicles(r){let c=this.listDrivers.filter(a=>a.login===r)[0];this.tempName=c.firstName||c.lastName,this.driverId=r,this.listVehicles=[],this.myNewApplicationForm.vehicleControl="",this.driverId&&this.onGetListVehicles(!0)}onScrollToEnd(){this.pagination.page>=this.pagination.totalPages-1||(this.pagination.page+=1,!(this.currentPage>=this.pagination.page)&&this.onGetListDrivers())}onGetListSeasonGroup(){this.subscription.push(this.carparkService.getListSeasonGroup().subscribe(r=>{this.listSeasonGroup=r}))}onGetUuidImage(r){this.listUuidImages.push(r.uuid),this.submitted&&this.listUuidImages.length==r.numbers&&this.onSubmitForm()}onCancel(){this._location.back()}onCancelCreateVehicle(){this.modalService.hide(1)}getDriverName(){var r=this;return(0,C_projects_parking_admin_app_ext_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(function*(){return r.isMotorist?JSON.parse(localStorage.getItem("user")).firstName??"":r.tempName})()}_isValid(value,reg){return!1!==eval(reg).test(value)}onSubmitForm(r=null){var c=this;return(0,C_projects_parking_admin_app_ext_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(function*(){c.submitted=!0,c.errMsg="",c.errStatus=null;const a={...c.myNewApplicationForm,...r};if("nypLogin"!==c.intoType&&c.validateReg&&!c._isValid(a.nameControl,c.validateReg))return c.errMsg=`Invalid ${c.displayFields}`,void(c.modalRef=c.modalService.show(c.errMsgModal,{class:"modal-md"}));a.indentityTypeControl&&(["staff","student"].includes(a.indentityTypeControl.toLowerCase())?a.studentStaffControl=a.nameControl:a.companyNameControl=a.nameControl);let o=[];if("nypLogin"!==c.intoType){if(0===c.listUuidImages.length)return void(c.triggerMessageUploadDocs=!c.triggerMessageUploadDocs);for(let g of c.listUuidImages)o.push({assetUuid:g,position:1})}const p={autoRenewFlag:c.autoRenew?1:0,documentUrl:c.listUuidImages?c.listUuidImages.join(" "):"",driverCode:c.isMotorist?JSON.parse(localStorage.getItem("user")).login:c.driverId,firstName:yield c.getDriverName(),startDate:a.startDateControl?a.startDateControl:moment__WEBPACK_IMPORTED_MODULE_2__(c.timeStartDate.value[0],"DD/MM/YYYY").format("YYYY-MM")+"-01",vehicleNumber:a.vehicleControl,identityType:a.indentityTypeControl,companyName:a.companyNameControl??"",zone:a.zoneControl,seasonPrice:100*c.seasonPrice,carparkSelection:a.carparkControl,staffStudentId:a.studentStaffControl?a.studentStaffControl.toUpperCase():"",assets:o,seasonMonth:c.seasonMonthControl};return p.vehicleNumber?p.identityType?("nypLogin"==c.intoType&&(p.autoRenewFlag=c.autoAddData,"DailySeason"==c.typeSelectArrChoose&&(p.zone="NypNone",p.type="DailySeason")),c.carparkService.submitNewApplicationForm(p).subscribe(g=>{c.onNavigateToSeasonApp()},g=>{const{error:d}=g;_root_app_helpers__WEBPACK_IMPORTED_MODULE_0__.Z.isNotNull(d.status)&&(c.errorEmail=d.errorKey,c.errMsg=d.message,c.errStatus=d.status,c.modalRef=c.modalService.show(c.errMsgModal,{class:"modal-md"}))}),void(c.submitted=!1)):(c.errMsg="Invalid Identity Type",void(c.modalRef=c.modalService.show(c.errMsgModal,{class:"modal-md"}))):(c.errMsg="Invalid Vehicle No",void(c.modalRef=c.modalService.show(c.errMsgModal,{class:"modal-md"})))})()}onChangeAreaCode(r){this.myNewApplicationForm.areaCode=r.target.value}onGetAutoRenew(r){this.myNewApplicationForm.autoRenewControl=r}onRecaptchaControl(r){this.myNewApplicationForm.recaptchaControl=r,this.myNewApplicationForm.valid=r}onDecline(){this.modalRef.hide(),this._router.navigate(["/season-parking-motorist/applications"])}onNavigateToSeasonApp(){this.modalRef=this.modalService.show(this.submittedNewApp,{class:"modal-md"}),this._router.navigate(["/season-parking-motorist/applications"])}initStartDate(){this.timeStartDate=(new Date).getDate()>_root_app_models__WEBPACK_IMPORTED_MODULE_1__.PhH.DatePoint?{value:[luxon__WEBPACK_IMPORTED_MODULE_3__.ou.local().plus({month:2}).toJSDate(),new Date],type:_root_app_models__WEBPACK_IMPORTED_MODULE_1__.Nxg.Month}:{value:[luxon__WEBPACK_IMPORTED_MODULE_3__.ou.local().plus({month:1}).toJSDate(),new Date],type:_root_app_models__WEBPACK_IMPORTED_MODULE_1__.Nxg.Month}}goToMyAccount(){this.modalRef.hide(),this.errorEmail?.includes("seasonApplication.emailError")&&this._router.navigate(["/profile-settings/update-profile"]),404==this.errStatus&&this._router.navigate(["/my-account/billing-history"])}vehicleControlChange(){this.myNewApplicationForm.vehicleControl.length>2&&(this.myNewApplicationForm.vehicleControl=this.myNewApplicationForm.vehicleControl.slice(0,2))}displayPrice(r){if(r)return`${r.match(/^[a-z|A-Z]+/gi)} ${r.match(/\d+(.\d+)?/g)}`}setSeasonPrice(r){return r?r.toFixed(2):""}get isMotorist(){return this.carparkService.isMotorist()}}return NewApplicationComponent.\u0275fac=function r(c){return new(c||NewApplicationComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__.sK),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_15__.gz),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_root_app_services_carpark_service__WEBPACK_IMPORTED_MODULE_4__.x),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_angular_common__WEBPACK_IMPORTED_MODULE_16__.Ye),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_angular_common_http__WEBPACK_IMPORTED_MODULE_17__.eN),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(ngx_bootstrap_modal__WEBPACK_IMPORTED_MODULE_18__.tT),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_app_services_vehicle_service__WEBPACK_IMPORTED_MODULE_5__.f),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_15__.F0),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_root_app_services_driver_service__WEBPACK_IMPORTED_MODULE_6__.F),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(ng_zorro_antd_modal__WEBPACK_IMPORTED_MODULE_19__.Sf))},NewApplicationComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_10__.Xpm({type:NewApplicationComponent,selectors:[["app-new-application"]],viewQuery:function r(c,a){if(1&c&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.Gf(_c0,5),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Gf(_c1,5),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Gf(_c2,5),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Gf(_c3,5)),2&c){let o;_angular_core__WEBPACK_IMPORTED_MODULE_10__.iGM(o=_angular_core__WEBPACK_IMPORTED_MODULE_10__.CRH())&&(a.submittedNewApp=o.first),_angular_core__WEBPACK_IMPORTED_MODULE_10__.iGM(o=_angular_core__WEBPACK_IMPORTED_MODULE_10__.CRH())&&(a.errMsgModal=o.first),_angular_core__WEBPACK_IMPORTED_MODULE_10__.iGM(o=_angular_core__WEBPACK_IMPORTED_MODULE_10__.CRH())&&(a.modal=o.first),_angular_core__WEBPACK_IMPORTED_MODULE_10__.iGM(o=_angular_core__WEBPACK_IMPORTED_MODULE_10__.CRH())&&(a.tplFooter=o.first)}},features:[_angular_core__WEBPACK_IMPORTED_MODULE_10__._Bn([{provide:ngx_bootstrap_carousel__WEBPACK_IMPORTED_MODULE_20__.Dg,useValue:{interval:5e3,noPause:!0,showIndicators:!0}}])],decls:6,vars:2,consts:[["class","m-content p-0",4,"ngIf"],["modal",""],["tplFooter",""],[1,"m-content","p-0"],[1,"row"],[1,"col-sm-4","mx-auto"],["class","mt-3 mt-3",3,"hidden",4,"ngFor","ngForOf"],[1,"m-form","m-form--fit","m-form--label-align-right"],["newApplicationFields","ngForm"],[1,"m-portlet"],[1,"m-portlet__head"],[1,"m-portlet__head-caption"],[1,"row","form-group","m-form__group"],[1,"col-lg-3","col-sm-3"],[1,"m-portlet__head-title"],[1,"m-portlet__head-text"],[1,"m-portlet__body","row","px-0"],[1,"col-sm-12","col-md-12","col-lg-6","mx-auto","text-center","my-2","mb-5","group-show-images"],[3,"ngIf"],[1,"col-sm-12","col-md-12","col-lg-6","group-show-input"],[1,"col-sm-12","ml-3"],["class","row form-group m-form__group",4,"ngIf"],[1,"col-form-label","col-lg-4","col-sm-12"],[1,"m--font-danger"],[1,"col-lg-7","col-sm-12"],["name","carparkControl","nzPlaceHolder","Please Select",2,"width","100%",3,"ngModel","ngModelChange"],["carparkControl","ngModel"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["class","form-control-feedback",4,"ngIf"],[1,"col-lg-7","col-sm-8"],["name","vehicleControl","nzPlaceHolder","Please Select",2,"width","100%",3,"ngModel","ngModelChange"],["vehicleControl","ngModel"],["name","indentityTypeControl","nzPlaceHolder","Please Select",2,"width","100%",3,"ngModel","ngModelChange"],["indentityTypeControl","ngModel"],["nzCustomContent","",3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["pickerName","season",3,"data","headerDatePicker","isScopeMonth","expireDate","select"],[1,"form-group","m-form__group","row"],["class","col-sm-12 col-lg-6 offset-lg-4",4,"ngIf"],[1,"col-sm-12","col-lg-6","offset-lg-4"],[3,"srcImg","newMessage","warningMessage","uuidImage"],["createVehicle",""],[1,"m-portlet__foot","bg-light-gray"],[1,"m-form__actions","m-form__actions--right"],["nz-button","","nzType","primary","nzSize","large","nzGhost","",1,"btn-form-ops",3,"click"],["nz-button","","nzType","primary","nzSize","large",1,"btn-form-ops","m--margin-left-30",3,"disabled","click"],["submittedNewApp",""],["errMsgModal",""],[1,"mt-3","mt-3",3,"hidden"],[3,"type","dismissOnTimeout"],[1,"season-parking-carousel-wrapper"],[1,"season-parking-carousel"],["class","mx-auto",4,"ngFor","ngForOf"],[1,"mx-auto"],[3,"src","alt","className"],[1,"carousel-caption","d-none","d-md-block"],[1,"carousel-title"],[1,"text-muted"],["name","driverCode","nzPlaceHolder","Please Select","nzShowSearch","","nzServerSearch","",2,"width","100%",3,"nzLoading","ngModel","ngModelChange","nzScrollToBottom","nzOnSearch"],["driverCode","ngModel"],[3,"nzValue","nzLabel"],[1,"form-control-feedback"],["name","zoneControl","nzPlaceHolder","Please Select",2,"width","100%",3,"ngModel","ngModelChange"],["zoneControl","ngModel"],["nzCustomContent","",3,"nzValue","nzLabel"],[1,"mr-5","float-right"],["nz-input","","type","text","required","","name","nameControl",3,"ngModel","ngModelChange"],["nameControl","ngModel"],[1,"col-lg-7","col-sm-12",2,"line-height","41px","font-size","16px","color","#f00","font-weight","600"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-default","mr-3",2,"border-width","2px",3,"ngClass","disabled","click"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"col-sm-12","mx-auto"],[3,"canceled","submitted"],[1,"modal-body","text-center"],["type","button",1,"btn","btn-main","mr-3",3,"click"],["type","button",1,"btn","btn-default","mr-3",3,"click"],["name","typeSelect","nzPlaceHolder","Please Select",2,"width","100%",3,"ngModel","ngModelChange"],["typeSeleControl","ngModel"],[4,"ngIf"],[1,"row","form-group","m-form__group",2,"font-size","16px","font-weight","500"],[1,"row","form-group","m-form__group",2,"color","black"],[1,"col-form-label","col-lg-4","col-sm-12",2,"display","flex","justify-content","flex-end","align-items","center","font-size","16px","font-weight","500"],[1,"col-lg-7","col-sm-12",2,"display","flex","align-items","center"],["name","radioRecurring",3,"ngModel","ngModelChange"],["nz-radio","",3,"nzValue"],[1,"col-lg-7","col-sm-12",2,"font-size","16px","font-weight","500","display","flex","align-items","center"],["type","button",1,"btn","btn-default","mr-3",3,"ngClass","disabled","click"],["type","button","nz-button","","nzType","primary",3,"click"],[4,"ngIf","ngIfElse"],["msg",""],[3,"ngClass"],["nz-button","","nzType","primary",3,"click"],["type","button","nz-button","","nzType","primary",2,"margin-left","16px",3,"click"]],template:function r(c,a){1&c&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(0,NewApplicationComponent_div_0_Template,96,50,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(1,NewApplicationComponent_div_1_Template,108,59,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(2,NewApplicationComponent_ng_template_2_Template,1,1,"ng-template",null,1,_angular_core__WEBPACK_IMPORTED_MODULE_10__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(4,NewApplicationComponent_ng_template_4_Template,2,2,"ng-template",null,2,_angular_core__WEBPACK_IMPORTED_MODULE_10__.W1O)),2&c&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf","nypLogin"!==a.intoType),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf","nypLogin"==a.intoType))},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_16__.mk,_angular_common__WEBPACK_IMPORTED_MODULE_16__.sg,_angular_common__WEBPACK_IMPORTED_MODULE_16__.O5,_angular_forms__WEBPACK_IMPORTED_MODULE_21__._Y,_angular_forms__WEBPACK_IMPORTED_MODULE_21__.Fj,_angular_forms__WEBPACK_IMPORTED_MODULE_21__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_21__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_21__.Q7,_angular_forms__WEBPACK_IMPORTED_MODULE_21__.On,_angular_forms__WEBPACK_IMPORTED_MODULE_21__.F,ng_zorro_antd_input__WEBPACK_IMPORTED_MODULE_22__.Zp,ng_zorro_antd_button__WEBPACK_IMPORTED_MODULE_23__.ix,ng_zorro_antd_core_transition_patch__WEBPACK_IMPORTED_MODULE_24__.w,ng_zorro_antd_core_wave__WEBPACK_IMPORTED_MODULE_25__.dQ,ng_zorro_antd_select__WEBPACK_IMPORTED_MODULE_26__.Ip,ng_zorro_antd_select__WEBPACK_IMPORTED_MODULE_26__.Vq,ng_zorro_antd_radio__WEBPACK_IMPORTED_MODULE_27__.Of,ng_zorro_antd_radio__WEBPACK_IMPORTED_MODULE_27__.Dg,_components_datepicker_tab_datepicker_component__WEBPACK_IMPORTED_MODULE_7__.K,ngx_bootstrap_alert__WEBPACK_IMPORTED_MODULE_28__.wx,ngx_bootstrap_carousel__WEBPACK_IMPORTED_MODULE_20__.o6,ngx_bootstrap_carousel__WEBPACK_IMPORTED_MODULE_20__.Fy,_upload_image_upload_image_component__WEBPACK_IMPORTED_MODULE_8__.I,_form_normal_form_component__WEBPACK_IMPORTED_MODULE_9__.P,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__.X$],styles:[".ng-select.custom-group[_ngcontent-%COMP%]  .ng-select-container{height:auto!important}.modal-content[_ngcontent-%COMP%]{min-width:70%;margin:0 auto}.btn-circle[_ngcontent-%COMP%]{display:block;height:40px;width:40px;border-radius:50%}.season-parking-carousel-wrapper[_ngcontent-%COMP%]{position:relative;width:890px;margin:0 auto}.season-parking-carousel-wrapper[_ngcontent-%COMP%]   .season-parking-carousel[_ngcontent-%COMP%]{position:relative}.season-parking-carousel-wrapper[_ngcontent-%COMP%]   .season-parking-carousel[_ngcontent-%COMP%]   .carousel-image-info[_ngcontent-%COMP%]{position:relative;width:60%;margin:0 auto}.season-parking-carousel-wrapper[_ngcontent-%COMP%]   .season-parking-carousel[_ngcontent-%COMP%]   .carousel-image-pic[_ngcontent-%COMP%]{position:relative;width:60%;margin:0 auto;margin-bottom:1rem}.season-parking-carousel-wrapper[_ngcontent-%COMP%]   .season-parking-carousel[_ngcontent-%COMP%]   .carousel-caption[_ngcontent-%COMP%]{position:relative;right:0;bottom:0;left:0;padding-top:10px;padding-bottom:50px}.season-parking-carousel-wrapper[_ngcontent-%COMP%]   .season-parking-carousel[_ngcontent-%COMP%]   .carousel-caption[_ngcontent-%COMP%]   .carousel-title[_ngcontent-%COMP%]{color:#666}.season-parking-carousel-wrapper[_ngcontent-%COMP%]   .season-parking-carousel[_ngcontent-%COMP%]     .carousel-indicators{top:101%!important}.season-parking-carousel-wrapper[_ngcontent-%COMP%]   .season-parking-carousel[_ngcontent-%COMP%]     .carousel-indicators li{background-color:#0000004d}.season-parking-carousel-wrapper[_ngcontent-%COMP%]   .season-parking-carousel[_ngcontent-%COMP%]     .carousel-indicators .active{background-color:#00000080}.season-parking-carousel-wrapper[_ngcontent-%COMP%]   .season-parking-carousel[_ngcontent-%COMP%]     .carousel-control-prev{left:3rem}.season-parking-carousel-wrapper[_ngcontent-%COMP%]   .season-parking-carousel[_ngcontent-%COMP%]     .carousel-control-next{right:3rem}.season-parking-carousel-wrapper[_ngcontent-%COMP%]   .season-parking-carousel[_ngcontent-%COMP%]     .carousel-control-prev-icon{background-image:url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23666' viewBox='0 0 8 8'%3E%3Cpath d='M5.25 0l-4 4 4 4 1.5-1.5-2.5-2.5 2.5-2.5-1.5-1.5z'/%3E%3C/svg%3E\")}.season-parking-carousel-wrapper[_ngcontent-%COMP%]   .season-parking-carousel[_ngcontent-%COMP%]     .carousel-control-next-icon{background-image:url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23666' viewBox='0 0 8 8'%3E%3Cpath d='M2.75 0l-1.5 1.5 2.5 2.5-2.5 2.5 1.5 1.5 4-4-4-4z'/%3E%3C/svg%3E\")}@media screen and (max-width: 1728px){.season-parking-carousel-wrapper[_ngcontent-%COMP%]{width:690px}}@media screen and (max-width: 1376px){.season-parking-carousel-wrapper[_ngcontent-%COMP%]{width:590px}}@media screen and (max-width: 1220px){.season-parking-carousel-wrapper[_ngcontent-%COMP%]{width:490px}}@media screen and (max-width: 768px){.season-parking-carousel-wrapper[_ngcontent-%COMP%]{width:590px}}.selectedSeasonMonth[_ngcontent-%COMP%]{border-color:#ebedf2;background-color:#f4f5f8;border:2px solid #7bd2ff!important}.un-selectable[_ngcontent-%COMP%]{background-color:#e4e4e4;color:#b4adad;cursor:not-allowed!important}.modalText[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;align-items:center}.displayNo[_ngcontent-%COMP%]{opacity:0}"]}),NewApplicationComponent})()},42310:(r,c,a)=>{"use strict";a.r(c),a.d(c,{SeasonModule:()=>Ht,createTranslateLoader:()=>v_});var o=a(36895),p=a(24006),g=a(34793),d=a(372),m=a(73897),O=a(76284),f=a(60097),v=a(36511),D=a(64050),P=a(91599),E=a(42684),B=a(51766),U=a(71942),h=a(30329),b=a(74564),Z=a(59501),y=a(52746),_=a(94650),L=a(89383),M=a(76916),R=a(35635),x=a(38231),A=a(40269);function k(t,s){if(1&t&&_._UZ(0,"nz-option",17),2&t){const e=s.$implicit;_.Q6J("nzValue",e.value)("nzLabel",e.text)}}function r_(t,s){if(1&t&&_._UZ(0,"nz-option",17),2&t){const e=s.$implicit;_.Q6J("nzValue",e.value)("nzLabel",e.text)}}function l_(t,s){if(1&t&&_._UZ(0,"nz-option",17),2&t){const e=s.$implicit;_.Q6J("nzValue",e.value)("nzLabel",e.text)}}function c_(t,s){if(1&t&&_._UZ(0,"nz-option",17),2&t){const e=s.$implicit;_.Q6J("nzValue",e.value)("nzLabel",e.text)}}function s_(t,s){if(1&t&&_._uU(0),2&t){const e=s.range;_.lnq(" ",e[0],"-",e[1]," of ",s.$implicit," items ")}}function I(t,s){if(1&t&&(_.TgZ(0,"th"),_._uU(1),_.qZA()),2&t){const e=s.$implicit;_.xp6(1),_.Oqu(e.text)}}function N(t,s){if(1&t){const e=_.EpF();_.ynx(0),_.TgZ(1,"tr")(2,"td",18),_.NdJ("nzExpandChange",function(i){const u=_.CHM(e).$implicit,K=_.oxw();return _.KtG(K.onExpandChange(u.applicationCode,i))}),_.qZA(),_.TgZ(3,"td"),_._uU(4),_.qZA(),_.TgZ(5,"td")(6,"span"),_._UZ(7,"i",19),_._uU(8),_.qZA()(),_.TgZ(9,"td"),_._uU(10),_.qZA(),_.TgZ(11,"td"),_._uU(12),_.qZA(),_.TgZ(13,"td"),_._uU(14),_.qZA(),_.TgZ(15,"td"),_._uU(16),_.qZA(),_.TgZ(17,"td"),_._uU(18),_.qZA(),_.TgZ(19,"td"),_._uU(20),_.qZA()(),_.TgZ(21,"tr",20)(22,"nz-table",21)(23,"thead")(24,"tr")(25,"th"),_._uU(26,"Identity Type"),_.qZA(),_.TgZ(27,"th"),_._uU(28,"Identity No."),_.qZA(),_.TgZ(29,"th"),_._uU(30,"Email Address"),_.qZA(),_.TgZ(31,"th"),_._uU(32,"Mobile No."),_.qZA(),_.TgZ(33,"th"),_._uU(34,"Time"),_.qZA(),_.TgZ(35,"th"),_._uU(36,"Reason"),_.qZA()()(),_.TgZ(37,"tbody")(38,"tr")(39,"td"),_._uU(40),_.qZA(),_.TgZ(41,"td"),_._uU(42),_.qZA(),_.TgZ(43,"td"),_._uU(44),_.qZA(),_.TgZ(45,"td"),_._uU(46),_.qZA(),_.TgZ(47,"td"),_._uU(48),_.qZA(),_.TgZ(49,"td"),_._uU(50),_.qZA()()()()(),_.BQk()}if(2&t){const e=s.$implicit,n=s.index,i=_.oxw();_.xp6(1),_.ekj("ant-table-row-odd",n%2==1),_.xp6(1),_.Q6J("nzExpand",i.expandSet.has(e.applicationCode)),_.xp6(2),_.Oqu(e.applicationCode),_.xp6(4),_.hij(" ",e.vehicle.vehicleNumber," "),_.xp6(2),_.Oqu(e.driver.firstName+e.driver.lastName),_.xp6(2),_.Oqu(e.type),_.xp6(2),_.Oqu(e.carpark.name),_.xp6(2),_.AsE("",e.startDate," ~ ",e.endDate,""),_.xp6(2),_.Oqu(e.operationTime),_.xp6(2),_.Oqu(e.status),_.xp6(1),_.Q6J("nzExpand",i.expandSet.has(e.applicationCode)),_.xp6(1),_.Q6J("nzShowPagination",!1),_.xp6(18),_.Oqu(e.vehicle.vehicleType),_.xp6(2),_.Oqu(e.vehicle.vehicleNumber),_.xp6(2),_.Oqu(e.driver.email),_.xp6(2),_.Oqu(e.driver.number),_.xp6(2),_.Oqu(e.time),_.xp6(2),_.Oqu(e.reason)}}let T=(()=>{class t extends y.t{constructor(e,n,i){super(),this.router=e,this.seasonParkingService=n,this.translate=i,this.breadcrumbs=[{text:"Season Parking"},{text:"Application History"}],this.tableHeaders=[{text:"Code",column:"id",width:"80px"},{text:"Vehicle",column:"vehicle",width:"120px"},{text:"User Name",column:"userName",width:"100px"},{text:"Type",column:"type",width:"80px"},{text:"Car Park",column:"carPark",width:"80px"},{text:"Application Time",column:"applicationTime",width:"120px"},{text:"Operation Time",column:"operationTime",width:"120px"},{text:"Result",width:"80px"}],this.expandSet=new Set}reloadData(){this.reloadDataService(this.seasonParkingService)}ngOnInit(){const e=this.tableHeaders.map(n=>n.text);this.translate.get(e).subscribe(n=>{this.tableHeaders.forEach(i=>{for(let l in n)n.hasOwnProperty(l)&&i.text===l&&(i.text=n[l])})})}onExpandChange(e,n){n?this.expandSet.add(e):this.expandSet.delete(e)}}return t.\u0275fac=function(e){return new(e||t)(_.Y36(g.F0),_.Y36(B.C),_.Y36(L.sK))},t.\u0275cmp=_.Xpm({type:t,selectors:[["app-season-applications-history"]],features:[_.qOj],decls:46,vars:19,consts:[[1,"body-wrapper"],[1,"m-content"],[1,"m-portlet"],[1,"m-portlet__body","m-portlet__body--scrollable"],[1,"m-portlet__frame"],[1,"form-group","m-form__group","m-portlet__filters"],[1,"filter-wrap"],[1,"filter-item"],[1,"filter-label"],["nzPlaceHolder","Please Select",2,"width","160px",3,"ngModel","ngModelChange"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["type","text","nz-input","","placeholder","",2,"width","160px",3,"ngModel","ngModelChange"],["rangeTemplate",""],[3,"nzData","nzFrontPagination","nzLoading","nzTotal","nzPageSize","nzPageIndex","nzShowSizeChanger","nzShowTotal","nzQueryParams"],["basicTable",""],["nzWidth","60px"],[4,"ngFor","ngForOf"],[3,"nzValue","nzLabel"],[3,"nzExpand","nzExpandChange"],[1,"la","la-automobile"],[3,"nzExpand"],["nzSize","small","nzTemplateMode","",3,"nzShowPagination"]],template:function(e,n){if(1&e&&(_.TgZ(0,"div",0),_._UZ(1,"app-title-bar"),_.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"span",8),_._uU(10,"Vehicle Type:"),_.qZA(),_.TgZ(11,"nz-select",9),_.NdJ("ngModelChange",function(l){return n.vehicle=l})("ngModelChange",function(){return n.reloadData()}),_.YNc(12,k,1,2,"nz-option",10),_.qZA()()(),_.TgZ(13,"div",6)(14,"div",7)(15,"span",8),_._uU(16,"Car Park:"),_.qZA(),_.TgZ(17,"nz-select",9),_.NdJ("ngModelChange",function(l){return n.carPark=l})("ngModelChange",function(){return n.reloadData()}),_.YNc(18,r_,1,2,"nz-option",10),_.qZA()()(),_.TgZ(19,"div",6)(20,"div",7)(21,"span",8),_._uU(22,"Type:"),_.qZA(),_.TgZ(23,"nz-select",9),_.NdJ("ngModelChange",function(l){return n.type=l})("ngModelChange",function(){return n.reloadData()}),_.YNc(24,l_,1,2,"nz-option",10),_.qZA()()(),_.TgZ(25,"div",6)(26,"div",7)(27,"span",8),_._uU(28,"Result:"),_.qZA(),_.TgZ(29,"nz-select",9),_.NdJ("ngModelChange",function(l){return n.status=l})("ngModelChange",function(){return n.reloadData()}),_.YNc(30,c_,1,2,"nz-option",10),_.qZA()()(),_.TgZ(31,"div",6)(32,"div",7)(33,"span",8),_._uU(34,"Car Park No. / Username:"),_.qZA(),_.TgZ(35,"input",11),_.NdJ("ngModelChange",function(l){return n.keyword=l})("ngModelChange",function(){return n.reloadData()}),_.qZA()()()(),_.YNc(36,s_,1,3,"ng-template",null,12,_.W1O),_.TgZ(38,"nz-table",13,14),_.NdJ("nzQueryParams",function(l){return n.onQueryParamsChange(l)}),_.TgZ(40,"thead")(41,"tr"),_._UZ(42,"th",15),_.YNc(43,I,2,1,"th",16),_.qZA()(),_.TgZ(44,"tbody"),_.YNc(45,N,51,20,"ng-container",16),_.qZA()()()()()()()),2&e){const i=_.MAs(37),l=_.MAs(39);_.xp6(11),_.Q6J("ngModel",n.vehicle),_.xp6(1),_.Q6J("ngForOf",n.vehicles),_.xp6(5),_.Q6J("ngModel",n.carPark),_.xp6(1),_.Q6J("ngForOf",n.carParks),_.xp6(5),_.Q6J("ngModel",n.type),_.xp6(1),_.Q6J("ngForOf",n.types),_.xp6(5),_.Q6J("ngModel",n.status),_.xp6(1),_.Q6J("ngForOf",n.statuses),_.xp6(5),_.Q6J("ngModel",n.keyword),_.xp6(3),_.Q6J("nzData",n.listData)("nzFrontPagination",!1)("nzLoading",n.loading)("nzTotal",n.pagination.totalCount)("nzPageSize",n.pagination.rowsPerPage)("nzPageIndex",n.pagination.page)("nzShowSizeChanger",!0)("nzShowTotal",i),_.xp6(5),_.Q6J("ngForOf",n.tableHeaders),_.xp6(2),_.Q6J("ngForOf",l.data)}},dependencies:[o.sg,p.Fj,p.JJ,p.On,M.G,R.Zp,x.Ip,x.Vq,A.N8,A.Uo,A._C,A.h7,A.Om,A.p0,A.$Z,A.d3,A.Vk],encapsulation:2}),t})();var C=a(38014),W=(a(79118),a(8929)),V=a(36053),U_=a(21086),q=a(87545),L_=a(5646),I_=a(74327),Q=a(80013),S=a(2994),d_=a(28555),__=a(9648),m_=a(94327),j=(a(19612),a(75191)),Z_=a(50007),R_=a(49651),x_=a(47423),e_=a(73325),n_=a(29562),p_=a(66616),t_=a(47044),g_=a(21811),K_=a(10438),a_=a(4358),E_=a(67421);function B_(t,s){if(1&t&&(_._UZ(0,"nz-option",17),_.ALo(1,"titlecase")),2&t){const e=s.$implicit;_.Q6J("nzValue",e.value)("nzLabel",_.lcZ(1,2,e.value))}}function W_(t,s){if(1&t){const e=_.EpF();_.TgZ(0,"div",11)(1,"div",12)(2,"span",13),_._uU(3),_.ALo(4,"translate"),_.qZA(),_.TgZ(5,"nz-select",14),_.NdJ("ngModelChange",function(i){_.CHM(e);const l=_.oxw();return _.KtG(l.vehicleType=i)})("ngModelChange",function(){_.CHM(e);const i=_.oxw();return _.KtG(i.reloadData())}),_._UZ(6,"nz-option",15),_.ALo(7,"translate"),_.YNc(8,B_,2,4,"nz-option",16),_.ALo(9,"async"),_.qZA()()()}if(2&t){const e=_.oxw();_.xp6(3),_.hij("",_.lcZ(4,4,"Vehicle Type"),":"),_.xp6(2),_.Q6J("ngModel",e.vehicleType),_.xp6(1),_.Q6J("nzLabel",_.lcZ(7,6,"All")),_.xp6(2),_.Q6J("ngForOf",_.lcZ(9,8,e.vehicleTypes$))}}function b_(t,s){if(1&t&&_._UZ(0,"nz-option",17),2&t){const e=s.$implicit;_.Q6J("nzValue",e)("nzLabel",e)}}function w_(t,s){if(1&t){const e=_.EpF();_.TgZ(0,"div",11)(1,"div",12)(2,"span",13),_._uU(3),_.ALo(4,"translate"),_.qZA(),_.TgZ(5,"nz-select",18),_.NdJ("ngModelChange",function(i){_.CHM(e);const l=_.oxw();return _.KtG(l.carPark=i)})("ngModelChange",function(){_.CHM(e);const i=_.oxw();return _.KtG(i.reloadData())}),_._UZ(6,"nz-option",15),_.ALo(7,"translate"),_.YNc(8,b_,1,2,"nz-option",16),_.qZA()()()}if(2&t){const e=_.oxw();_.xp6(3),_.hij("",_.lcZ(4,4,"Car Park"),":"),_.xp6(2),_.Q6J("ngModel",e.carPark),_.xp6(1),_.Q6J("nzLabel",_.lcZ(7,6,"All")),_.xp6(2),_.Q6J("ngForOf",e.carParksArr)}}function y_(t,s){if(1&t&&(_._UZ(0,"nz-option",17),_.ALo(1,"titlecase")),2&t){const e=s.$implicit;_.Q6J("nzValue",e.value)("nzLabel",_.lcZ(1,2,e.value))}}function N_(t,s){if(1&t){const e=_.EpF();_.TgZ(0,"div",11)(1,"div",12)(2,"span",13),_._uU(3),_.ALo(4,"translate"),_.qZA(),_.TgZ(5,"nz-select",19),_.NdJ("ngModelChange",function(i){_.CHM(e);const l=_.oxw();return _.KtG(l.type=i)})("ngModelChange",function(){_.CHM(e);const i=_.oxw();return _.KtG(i.reloadData())}),_._UZ(6,"nz-option",15),_.ALo(7,"translate"),_.YNc(8,y_,2,4,"nz-option",16),_.ALo(9,"async"),_.qZA()()()}if(2&t){const e=_.oxw();_.xp6(3),_.hij("",_.lcZ(4,4,"Type"),":"),_.xp6(2),_.Q6J("ngModel",e.type),_.xp6(1),_.Q6J("nzLabel",_.lcZ(7,6,"All")),_.xp6(2),_.Q6J("ngForOf",_.lcZ(9,8,e.types$))}}function S_(t,s){if(1&t&&(_._UZ(0,"nz-option",17),_.ALo(1,"titlecase")),2&t){const e=s.$implicit;_.Q6J("nzValue",e.value)("nzLabel",_.lcZ(1,2,e.value))}}function k_(t,s){if(1&t){const e=_.EpF();_.TgZ(0,"div",11)(1,"div",12)(2,"span",13),_._uU(3),_.ALo(4,"translate"),_.qZA(),_.TgZ(5,"nz-select",20),_.NdJ("ngModelChange",function(i){_.CHM(e);const l=_.oxw();return _.KtG(l.status=i)})("ngModelChange",function(){_.CHM(e);const i=_.oxw();return _.KtG(i.reloadData())}),_._UZ(6,"nz-option",15),_.ALo(7,"translate"),_.YNc(8,S_,2,4,"nz-option",16),_.ALo(9,"async"),_.qZA()()()}if(2&t){const e=_.oxw();_.xp6(3),_.hij("",_.lcZ(4,4,"Status"),":"),_.xp6(2),_.Q6J("ngModel",e.status),_.xp6(1),_.Q6J("nzLabel",_.lcZ(7,6,"All")),_.xp6(2),_.Q6J("ngForOf",_.lcZ(9,8,e.statuses$))}}function q_(t,s){if(1&t){const e=_.EpF();_.TgZ(0,"div",11)(1,"div",12)(2,"span",13),_._uU(3),_.ALo(4,"translate"),_.qZA(),_.TgZ(5,"input",21),_.NdJ("ngModelChange",function(i){_.CHM(e);const l=_.oxw();return _.KtG(l.keyword=i)})("ngModelChange",function(){_.CHM(e);const i=_.oxw();return _.KtG(i.keyword$.next())}),_.qZA()()()}if(2&t){const e=_.oxw();_.xp6(3),_.hij("",_.lcZ(4,2,"Vehicle No."),":"),_.xp6(2),_.Q6J("ngModel",e.keyword)}}const z_=function(){return["../applications-history"]};function J_(t,s){1&t&&(_.TgZ(0,"div",11)(1,"button",22),_._UZ(2,"i",23),_._uU(3),_.ALo(4,"translate"),_.qZA()()),2&t&&(_.xp6(1),_.Q6J("routerLink",_.DdM(4,z_)),_.xp6(2),_.hij(" ",_.lcZ(4,2,"View History")," "))}const F_=function(){return["/season-parking/new-application"]};function Q_(t,s){1&t&&(_.TgZ(0,"button",24),_._UZ(1,"span",25),_._uU(2,"Create New Application "),_.qZA()),2&t&&_.Q6J("routerLink",_.DdM(1,F_))}function Y_(t,s){if(1&t&&_._uU(0),2&t){const e=s.range;_.lnq(" ",e[0],"-",e[1]," of ",s.$implicit," items\n")}}function V_(t,s){if(1&t&&(_.TgZ(0,"th"),_._uU(1),_.qZA()),2&t){const e=s.$implicit;_.xp6(1),_.Oqu(e.text)}}function j_(t,s){if(1&t){const e=_.EpF();_.TgZ(0,"li",39),_.NdJ("click",function(){_.CHM(e);const i=_.oxw(2).$implicit,l=_.oxw(),u=_.MAs(21);return _.KtG(l.openModal(u,i,"pay"))}),_._UZ(1,"span",41),_._uU(2," Make Payment "),_.qZA()}}function H_(t,s){if(1&t){const e=_.EpF();_.TgZ(0,"li",39),_.NdJ("click",function(){_.CHM(e);const i=_.oxw(2).$implicit,l=_.oxw();return _.KtG(l.openModal(null,i,"delete"))}),_._UZ(1,"span",42),_._uU(2," Delete "),_.qZA()}}function G_(t,s){if(1&t){const e=_.EpF();_.TgZ(0,"li",39),_.NdJ("click",function(){_.CHM(e);const i=_.oxw(2).$implicit,l=_.oxw();return _.KtG(l.handleApprove(i))}),_._UZ(1,"span",43),_._uU(2),_.ALo(3,"translate"),_.qZA()}2&t&&(_.xp6(2),_.hij(" ",_.lcZ(3,1,"Approve")," "))}function $_(t,s){if(1&t){const e=_.EpF();_.TgZ(0,"li",39),_.NdJ("click",function(){_.CHM(e);const i=_.oxw(2).$implicit,l=_.oxw(),u=_.MAs(19);return _.KtG(l.handleReject(u,i))}),_._UZ(1,"span",44),_._uU(2),_.ALo(3,"translate"),_.qZA()}2&t&&(_.xp6(2),_.hij(" ",_.lcZ(3,1,"Reject")," "))}function X_(t,s){if(1&t){const e=_.EpF();_.TgZ(0,"li",39),_.NdJ("click",function(){_.CHM(e);const i=_.oxw(2).$implicit,l=_.oxw();return _.KtG(l.downloadPdf(i))}),_._UZ(1,"span",45),_._uU(2),_.ALo(3,"translate"),_.qZA()}2&t&&(_.xp6(2),_.hij(" ",_.lcZ(3,1,"Download E-receipt")," "))}function _e(t,s){if(1&t){const e=_.EpF();_.TgZ(0,"td")(1,"button",34),_._UZ(2,"i",35),_.qZA(),_.TgZ(3,"nz-dropdown-menu",null,36)(5,"ul",37),_.YNc(6,j_,3,0,"li",38),_.YNc(7,H_,3,0,"li",38),_.TgZ(8,"li",39),_.NdJ("click",function(){_.CHM(e);const i=_.oxw().$implicit,l=_.oxw();return _.KtG(l.goToEdit(i))}),_._UZ(9,"span",40),_._uU(10," Edit "),_.qZA(),_.YNc(11,G_,4,3,"li",38),_.YNc(12,$_,4,3,"li",38),_.YNc(13,X_,4,3,"li",38),_.qZA()()()}if(2&t){const e=_.MAs(4),n=_.oxw().$implicit,i=_.oxw();_.xp6(1),_.Q6J("nzDropdownMenu",e)("nzPlacement","topCenter"),_.xp6(5),_.Q6J("ngIf","Pending Payment"===n.status),_.xp6(1),_.Q6J("ngIf","Pending Payment"===n.status&&!1===i.isAccessAdmin||i.isMotorist),_.xp6(4),_.Q6J("ngIf","pending"===n.status&&!0===i.isAccessAdmin),_.xp6(1),_.Q6J("ngIf","pending"===n.status&&!0===i.isAccessAdmin),_.xp6(1),_.Q6J("ngIf","Completed"===n.status)}}function ee(t,s){if(1&t){const e=_.EpF();_.TgZ(0,"div")(1,"img",46),_.NdJ("click",function(){const l=_.CHM(e).$implicit,u=_.oxw(3),K=_.MAs(23);return _.KtG(u.showLargerSize(K,l))})("contextmenu",function(i){_.CHM(e);const l=_.oxw(3);return _.KtG(l.onRightClick(i))}),_.qZA()()}if(2&t){const e=s.$implicit,n=_.oxw(3);_.xp6(1),_.Q6J("src","application/pdf"===e.type?n.defaultThumb:e.imgUrl,_.LSH)}}function ne(t,s){if(1&t&&(_.ynx(0),_.YNc(1,ee,2,1,"div",7),_.BQk()),2&t){const e=_.oxw().$implicit;_.xp6(1),_.Q6J("ngForOf",e.attachments)}}function te(t,s){if(1&t&&(_.TgZ(0,"div",47),_._uU(1),_.qZA()),2&t){const e=_.oxw().$implicit;_.xp6(1),_.hij(" ",e._expandLoading?"Loading Attachments":""," ")}}function ae(t,s){1&t&&(_.TgZ(0,"div"),_._uU(1," No Attachment "),_.qZA())}const oe=function(t){return{color:t}};function ie(t,s){if(1&t){const e=_.EpF();_.ynx(0),_.TgZ(1,"tr")(2,"td",26),_.NdJ("nzExpandChange",function(i){const u=_.CHM(e).$implicit,K=_.oxw();return _.KtG(K.onExpandChange(u.id,i))}),_.qZA(),_.TgZ(3,"td"),_._uU(4),_.qZA(),_.TgZ(5,"td")(6,"span"),_._UZ(7,"img",27),_.qZA(),_.TgZ(8,"span",28),_._uU(9),_.qZA()(),_.TgZ(10,"td"),_._uU(11),_.ALo(12,"date"),_.qZA(),_.TgZ(13,"td"),_._uU(14),_.ALo(15,"date"),_.qZA(),_.TgZ(16,"td"),_._uU(17),_.qZA(),_.TgZ(18,"td"),_._uU(19),_.qZA(),_.TgZ(20,"td")(21,"span",29),_._uU(22),_.ALo(23,"titlecase"),_.qZA()(),_.TgZ(24,"td"),_._uU(25),_.ALo(26,"date"),_.qZA(),_.YNc(27,_e,14,7,"td",30),_.qZA(),_.TgZ(28,"tr",31)(29,"nz-table",32)(30,"thead")(31,"tr")(32,"th"),_._uU(33),_.ALo(34,"translate"),_.qZA(),_.TgZ(35,"th"),_._uU(36),_.ALo(37,"translate"),_.qZA(),_.TgZ(38,"th"),_._uU(39),_.ALo(40,"translate"),_.qZA(),_.TgZ(41,"th"),_._uU(42),_.ALo(43,"translate"),_.qZA()()(),_.TgZ(44,"tbody")(45,"tr")(46,"td"),_._uU(47),_.qZA(),_.TgZ(48,"td"),_._uU(49),_.qZA(),_.TgZ(50,"td"),_._uU(51),_.qZA(),_.TgZ(52,"td"),_.YNc(53,ne,2,1,"ng-container",30),_.YNc(54,te,2,1,"div",33),_.YNc(55,ae,2,0,"div",30),_.qZA()()()()(),_.BQk()}if(2&t){const e=s.$implicit,n=s.index,i=_.oxw();_.xp6(1),_.ekj("ant-table-row-odd",n%2==1),_.xp6(1),_.Q6J("nzExpand",i.expandSet.has(e.id)),_.xp6(2),_.Oqu(e.id),_.xp6(3),_.Q6J("src",i.vehicleIcon(null==e.vehicleNum?null:e.vehicleNum.vehicleType),_.LSH),_.xp6(2),_.hij(" ",null==e.vehicleNum?null:e.vehicleNum.vehicleNumber," "),_.xp6(2),_.Oqu(_.xi3(12,26,null==e.startDate?null:e.startDate.split("T")[0],"d LLL yyyy")),_.xp6(3),_.Oqu(_.xi3(15,29,null==e.endDate?null:e.endDate.split("T")[0],"d LLL yyyy")),_.xp6(3),_.Oqu(e.zone),_.xp6(2),_.Oqu(e.autoRenewFlag?"ON":"OFF"),_.xp6(2),_.Q6J("ngStyle",_.VKq(45,oe,i.getStatusColor(e.status))),_.xp6(1),_.hij(" ",_.lcZ(23,32,e.status)," "),_.xp6(3),_.Oqu(_.xi3(26,34,null==e.createdDate?null:e.createdDate.split("[")[0],"d LLL yyyy")),_.xp6(2),_.Q6J("ngIf",!i.isOwner),_.xp6(1),_.Q6J("nzExpand",i.expandSet.has(e.id)),_.xp6(1),_.Q6J("nzShowPagination",!1),_.xp6(4),_.Oqu(_.lcZ(34,37,"Identity Type")),_.xp6(3),_.Oqu(_.lcZ(37,39,"Identity No.")),_.xp6(3),_.Oqu(_.lcZ(40,41,"Email Address")),_.xp6(3),_.Oqu(_.lcZ(43,43,"Attachment")),_.xp6(5),_.Oqu(e.identityType||"-"),_.xp6(2),_.Oqu((null==e?null:e.companyName)||(null==e?null:e.staffStudentId)),_.xp6(2),_.Oqu((null==e.driver?null:e.driver.email)||"-"),_.xp6(2),_.Q6J("ngIf",e.attachments),_.xp6(1),_.Q6J("ngIf",!e.attachments||e._expandLoaded),_.xp6(1),_.Q6J("ngIf",e._expandLoaded&&!e.attachments)}}function re(t,s){1&t&&(_.TgZ(0,"div",52),_._uU(1,"Reason is required."),_.qZA())}function le(t,s){if(1&t){const e=_.EpF();_.TgZ(0,"div",48)(1,"label",49),_._uU(2),_.ALo(3,"translate"),_.qZA(),_.TgZ(4,"textarea",50),_.NdJ("ngModelChange",function(i){_.CHM(e);const l=_.oxw();return _.KtG(l.rejectReason=i)}),_.qZA()(),_.YNc(5,re,2,0,"div",51)}if(2&t){const e=_.oxw();_.xp6(2),_.hij(" ",_.lcZ(3,3,"Reason"),": "),_.xp6(2),_.Q6J("ngModel",e.rejectReason),_.xp6(1),_.Q6J("ngIf",e.noReason)}}function ce(t,s){if(1&t&&(_.TgZ(0,"div",73)(1,"alert",74),_._uU(2),_.qZA()()),2&t){const e=s.$implicit;_.Q6J("hidden",!e.type),_.xp6(1),_.Q6J("type",e.type)("dismissOnTimeout",e.timeout),_.xp6(1),_.Oqu(e.msg)}}function se(t,s){if(1&t&&(_.TgZ(0,"div"),_._uU(1),_.ALo(2,"date"),_.qZA()),2&t){const e=_.oxw(2);_.xp6(1),_.hij(" ",_.xi3(2,1,null==e.selectedApplication.endDate?null:e.selectedApplication.endDate.split("[")[0],"d LLL yyyy")," ")}}function pe(t,s){if(1&t&&(_.TgZ(0,"div",68),_._uU(1),_.qZA()),2&t){const e=_.oxw(2);_.xp6(1),_.AsE("",e.selectedApplication.chargeSummary.total.currency," ",(e.selectedApplication.chargeSummary.total.amount/100).toFixed(2),"")}}function ge(t,s){if(1&t&&(_.TgZ(0,"div",68),_._uU(1),_.qZA()),2&t){const e=_.oxw(2);_.xp6(1),_.hij("SGD ",(e.selectedApplication.seasonPrice/100).toFixed(2),"")}}function ue(t,s){if(1&t){const e=_.EpF();_.TgZ(0,"div",53)(1,"div",54)(2,"div",55)(3,"div",56),_.YNc(4,ce,3,4,"div",57),_.qZA()(),_.TgZ(5,"div",58)(6,"div",59)(7,"h1",60),_._uU(8),_.qZA(),_.TgZ(9,"div",61)(10,"span"),_._UZ(11,"img",27),_.qZA(),_._uU(12),_.qZA()(),_.TgZ(13,"div",62)(14,"div",63)(15,"div",64),_._UZ(16,"img",65),_.qZA(),_.TgZ(17,"div",62)(18,"div"),_._uU(19),_.ALo(20,"date"),_.qZA(),_.YNc(21,se,3,4,"div",30),_.qZA()()()(),_.TgZ(22,"div",66)(23,"div",55)(24,"div",67),_._uU(25,"Application Date"),_.qZA(),_.TgZ(26,"div",68),_._uU(27),_.ALo(28,"date"),_.qZA()(),_.TgZ(29,"div",55)(30,"div",67),_._uU(31,"Amount"),_.qZA(),_.YNc(32,pe,2,2,"div",69),_.YNc(33,ge,2,1,"ng-template",null,70,_.W1O),_.qZA(),_.TgZ(35,"div",55)(36,"div",67),_._uU(37,"Zone"),_.qZA(),_.TgZ(38,"div",68),_._uU(39),_.qZA()(),_.TgZ(40,"div",55)(41,"div",67),_._uU(42,"Auto Renew"),_.qZA(),_.TgZ(43,"div",68),_._uU(44),_.qZA()(),_.TgZ(45,"div",55)(46,"div",67),_._uU(47,"Payment Method"),_.qZA(),_.TgZ(48,"div",68)(49,"nz-select",71),_.NdJ("ngModelChange",function(i){_.CHM(e);const l=_.oxw();return _.KtG(l.paymentMethod=i)}),_._UZ(50,"nz-option",72),_.qZA()()()()()()}if(2&t){const e=_.MAs(34),n=_.oxw();_.xp6(4),_.Q6J("ngForOf",n.alerts),_.xp6(4),_.hij(" ",n.selectedApplication.carPark.code," "),_.xp6(3),_.Q6J("src",n.vehicleIcon(null==n.selectedApplication.vehicleNum?null:n.selectedApplication.vehicleNum.vehicleType),_.LSH),_.xp6(1),_.hij(" ",null==n.selectedApplication.vehicleNum?null:n.selectedApplication.vehicleNum.vehicleNumber," "),_.xp6(7),_.hij(" ",_.xi3(20,12,null==n.selectedApplication.startDate?null:n.selectedApplication.startDate.split("[")[0],"d LLL yyyy")," "),_.xp6(2),_.Q6J("ngIf","Staff"!==n.selectedApplication.identityType),_.xp6(6),_.Oqu(_.xi3(28,15,null==n.selectedApplication.createdDate?null:n.selectedApplication.createdDate.split("[")[0],"d LLL yyyy")),_.xp6(5),_.Q6J("ngIf",!n.isAccessAdmin)("ngIfElse",e),_.xp6(7),_.hij("",n.selectedApplication.zone," "),_.xp6(5),_.Oqu(n.selectedApplication.autoRenewFlag?"ON":"OFF"),_.xp6(5),_.Q6J("ngModel",n.paymentMethod)}}function de(t,s){if(1&t&&(_.TgZ(0,"div"),_._UZ(1,"app-image-zoom",78),_.qZA()),2&t){const e=_.oxw(2);_.xp6(1),_.Q6J("picUrl",e.selectedImg)}}function me(t,s){if(1&t&&(_._UZ(0,"iframe",79),_.ALo(1,"safe")),2&t){const e=_.oxw(2);_.Q6J("src",_.lcZ(1,1,e.selectedImg.changingThisBreaksApplicationSecurity),_.uOi)}}function Ee(t,s){if(1&t&&(_.TgZ(0,"div",75),_.YNc(1,de,2,1,"div",76),_.YNc(2,me,2,3,"ng-template",null,77,_.W1O),_.qZA()),2&t){const e=_.MAs(3),n=_.oxw();_.xp6(1),_.Q6J("ngIf","application/pdf"!==n.selectedImgType)("ngIfElse",e)}}let Me=(()=>{class t extends y.t{constructor(e,n,i,l,u,K,J,F,Gt,$t,Xt){super(),this.router=e,this.applicationService=n,this.codeTablesService=i,this.assetsService=l,this.translate=u,this.store=K,this.vehicleService=J,this.carparkService=F,this.bully=Gt,this.nzModalService=$t,this.messageService=Xt,this.alive=!0,this.subscription=[],this.alerts=[{type:null,msg:null,timeout:0}],this.loading=!1,this.defaultThumb="./assets/app/media/img/misc/thumbnail-pdf-file-bg.png",this.expandSet=new Set,this.APPLICATION_HEADERS=[{text:"Ref. No.",column:"id",width:"80px"},{text:"Vehicle No.",column:"vehicle",width:"120px"},{text:"Start Date",column:"startDate",width:"120px"},{text:"End Date",column:"endDate",width:"120px"},{text:"Zone",column:"carPark",width:"120px"},{text:"Auto Renew",column:"carPark",width:"120px"},{text:"Status",column:"status",width:"140px"},{text:"Application Date",column:"applicationTime",width:"150px"}],this.tableHeaders=this.isOwner?this.APPLICATION_HEADERS:[...this.APPLICATION_HEADERS,{text:"Actions",width:"120px"}],this.vehicleType="",this.carPark="",this.carParksArr=[],this.type="",this.status="",this.keyword$=new W.xQ,this.vehicleIcon=C.mts,this.attachmentsLoading={},this.isAccessAdmin=!1,this.paymentMethod="6",this.isDisabledMakePaymentSubmit=!1,this.errMsg="",this.selectedImg={changingThisBreaksApplicationSecurity:""},this.defaultImgWidth=800,this.defaultImgHeight=500,this.imgWidth=this.defaultImgWidth,this.imgHeight=this.defaultImgHeight,this.noReason=!1,this.rejectReason="",this.user$=K.pipe((0,d_.Ys)("global"))}get filterParams(){return{vehicleType:this.vehicleType,statusCode:this.status,keyword:this.keyword,sort:"createdDate,desc",carparkSelection:this.carPark}}getAttachments(e){return this.applicationService.getModel(e).pipe((0,q.w)(({assets:n})=>n.length?(0,V.aj)(n.map(i=>this.assetsService.getImageByUuid(i.assetUuid,"type"))):(0,U_.of)(null)),(0,L_._)(1),(0,I_.x)())}reloadData(){this.reloadDataService(this.applicationService)}getStatusColor(e){const n=e.toLowerCase();return"pending"===n||"rejected"===n?C.cEj:C.K8l}openModal(e,n,i){this.selectedApplication=n,this.noReason=!1,"pay"===i?this.nzModalService.create({nzTitle:"Make Payment",nzContent:e,nzOnOk:()=>this.confirmMakePayment(this.selectedApplication)}):this.nzModalService.confirm({nzTitle:"Confirm delete?",nzOnOk:()=>this.submitPayment(this.selectedApplication)})}handleApprove(e){this.nzModalService.confirm({nzTitle:"Are you sure to approve?",nzContent:"You would not be able to revert this!",nzOnOk:()=>this.approve(e)})}handleReject(e,n){this.nzModalService.create({nzTitle:"Reject Application",nzContent:e,nzOnOk:()=>this.reject(n)})}approve(e){this.applicationService.approve(e.seasonParkingCode).subscribe(()=>{this.reloadData()},n=>{const{error:i}=n;this.loading=!1,this.errStatus=i.status,this.messageService.error(i.message||"Failed to response data"),this.goToMyAccount()})}reject(e){this.noReason=!1,this.rejectReason?this.applicationService.reject({seasonParkingCode:e.seasonParkingCode,message:this.rejectReason}).subscribe(()=>{this.reloadData()}):this.noReason=!0}confirmMakePayment(e){this.nzModalService.confirm({nzTitle:"Confirm payment?",nzOnOk:()=>this.submitPayment(e)})}submitPayment(e){this.errMsg="",this.errStatus=null;const n={transactionType:"",amount:this.isAccessAdmin?e.seasonPrice:e.chargeSummary.total.amount,apiVersion:"1.0",orderNo:"",orderTime:e.createdDate,merchantId:"",paymentMethod:this.paymentMethod,userId:e.driver.driverCode,referenceId:e.seasonParkingCode,remarks:e.message};this.loading=!0,this.isDisabledMakePaymentSubmit=!0,this.applicationService.submitPayment(this.selectedApplication.seasonParkingCode,n).subscribe(i=>{this.reloadData(),this.isDisabledMakePaymentSubmit=!1,this.loading=!1},i=>{const{error:l}=i;this.loading=!1,this.errMsg=l.message,this.errStatus=l.status,this.isDisabledMakePaymentSubmit=!1,this.messageService.error(this.errMsg),this.goToMyAccount()})}goToMyAccount(){404===this.errStatus&&this.router.navigate(["/my-account/billing-history"])}goToEdit(e){this.bully.setBSubject({type:"Season_Applications_Data",data:{id:e.id,vehicleNumber:e.vehicleNum.vehicleNumber,firstName:e.driver.firstName,autoRenew:1===e.autoRenewFlag?"ON":"OFF",email:e.driver.email,mobile:e.driver.mobile.number,status:e.status,zone:e.zone,startDate:e.startDate?e.startDate.split("T")[0]:"",endDate:e.endDate?e.endDate.split("T")[0]:""}}),this.router.navigate(["/season-parking/change-vehicle"])}pageChanged(e){this.pagination=e,this.reloadData()}getDriverNumber(e){return e?`${e.mobile.countryCode||""} ${e.mobile.number}`.trim():""}ngOnInit(){this.keyword$.pipe((0,Q.b)(400)).subscribe(()=>this.reloadData()),this.vehicleTypes$=this.codeTablesService.filterModelByType(C.BcL.VehicleType),this.types$=this.codeTablesService.filterModelByType(C.BcL.ParkingType),this.statuses$=this.codeTablesService.filterModelByType(C.BcL.SeasonApplicationStatus),this.reloadData();const e=this.tableHeaders.map(n=>n.text);this.translate.get(e).subscribe(n=>{this.tableHeaders.forEach(i=>{for(const l in n)n.hasOwnProperty(l)&&i.text===l&&(i.text=n[l])})}),this.subscription.push(this.user$.takeWhile(()=>this.alive).subscribe(({user:n})=>{this.user=n,n&&n.authorities.some(i=>[C.i44.Admin,C.i44.Operator].includes(i))&&(this.isAccessAdmin=!0)})),this.getCarparkSelectData()}getCarparkSelectData(){this.applicationService.getCarparkSelect().subscribe(e=>{console.log(e,"\u6570\u636e"),this.carParksArr=e})}ngOnDestroy(){this.alive=!1;for(const e of this.subscription)e.unsubscribe()}saveAs(e,n){e.attachments.map(i=>{this.saveFile(`${e.seasonParkingCode}_${n}`,i.imgUrl.changingThisBreaksApplicationSecurity)})}saveFile(e,n){const i=document.createElement("a");document.body.appendChild(i),i.href=n,i.download=e,i.click(),setTimeout(()=>{window.URL.revokeObjectURL(n),document.body.removeChild(i)},0)}showLargerSize(e,n){this.selectedImg=n.imgUrl,this.selectedImgType=n.type,this.imgWidth=this.defaultImgWidth,this.imgHeight=this.defaultImgHeight,this.nzModalService.create({nzTitle:"Large Size Image",nzContent:e,nzWidth:800,nzFooter:null})}get isOperator(){return this.vehicleService.isOperator()}get isMotorist(){return this.carparkService.isMotorist()}toggleApplication(e,n){e.toggleItem(n);const i=this.listData[n];i.attachments||(this.attachmentsLoading[i.seasonParkingCode]=!0,this.getAttachments(i.seasonParkingCode).pipe((0,S.b)(()=>this.attachmentsLoading[i.seasonParkingCode]=!1)).subscribe({next:l=>i.attachments=l}))}get isOwner(){return this.carparkService.isOwner()}submitDelete(e){const{driver:n,seasonParkingCode:i}=e;this.loading=!0,this.applicationService.submitDelete(n.driverCode,i).subscribe(l=>{this.reloadData(),this.alerts.push({type:"success",msg:"Success Delete",timeout:__.W.middleTime}),this.loading=!1},l=>{const{error:u}=l;this.loading=!1,this.errMsg=u.message,this.errStatus=u.status,this.messageService.error(this.errMsg),this.goToMyAccount()})}onRightClick(e){return!1}imgZoom(e){if("minus"===e){if(this.imgWidth==this.defaultImgWidth||this.imgHeight==this.defaultImgHeight)return;return this.imgWidth-=100,void(this.imgHeight-=100)}this.imgWidth+=100,this.imgHeight+=100}downloadPdf(e){this.applicationService.downloadSessonPdf(e.id).subscribe(n=>{(0,m_.saveAs)(n,e.seasonParkingCode)})}onExpandChange(e,n){if(n){this.expandSet.add(e);const i=this.listData.find(l=>l.id===e);i&&!i._expandLoaded&&(i._expandLoading=!0,this.getAttachments(i.seasonParkingCode).pipe((0,S.b)(()=>i._expandLoading=!1)).subscribe({next:l=>{i.attachments=l,i._expandLoaded=!0}}))}else this.expandSet.delete(e)}}return t.\u0275fac=function(e){return new(e||t)(_.Y36(g.F0),_.Y36(m.I),_.Y36(v.I),_.Y36(O.z),_.Y36(L.sK),_.Y36(d_.yh),_.Y36(U.f),_.Y36(f.x),_.Y36(j.B),_.Y36(Z_.Sf),_.Y36(R_.dD))},t.\u0275cmp=_.Xpm({type:t,selectors:[["app-season-applications"]],features:[_.qOj],decls:24,vars:17,consts:[[1,"form-group","m-form__group","m-portlet__filters"],["class","filter-wrap",4,"ngIf"],["nz-button","","nzType","primary","nzShape","round","nzSize","large","style","position: absolute;right:2rem;top:-65px;",3,"routerLink",4,"ngIf"],["rangeTemplate",""],[3,"nzData","nzFrontPagination","nzLoading","nzTotal","nzPageSize","nzPageIndex","nzShowSizeChanger","nzShowTotal","nzQueryParams"],["basicTable",""],["nzWidth","60px"],[4,"ngFor","ngForOf"],["rejectApplication",""],["makePayment",""],["largeSizeImg",""],[1,"filter-wrap"],[1,"filter-item"],[1,"filter-label"],["name","vehicle",2,"width","160px",3,"ngModel","ngModelChange"],["nzValue","",3,"nzLabel"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[3,"nzValue","nzLabel"],["name","carPark",2,"width","160px",3,"ngModel","ngModelChange"],["name","type",2,"width","160px",3,"ngModel","ngModelChange"],["name","status",2,"width","160px",3,"ngModel","ngModelChange"],["nz-input","","type","text","placeholder","Vehicle No.",2,"width","160px",3,"ngModel","ngModelChange"],["nz-button","","nzType","primary","nzGhost","",3,"routerLink"],[1,"la","la-history"],["nz-button","","nzType","primary","nzShape","round","nzSize","large",2,"position","absolute","right","2rem","top","-65px",3,"routerLink"],["nz-icon","","nzType","plus","nzTheme","outline"],[3,"nzExpand","nzExpandChange"],["alt","",3,"src"],[1,"text-uppercase"],[3,"ngStyle"],[4,"ngIf"],[3,"nzExpand"],["nzSize","small","nzTemplateMode","",3,"nzShowPagination"],["style","width: 200px;",4,"ngIf"],["nz-dropdown","","nzTrigger","click",1,"btn","btn-outline-primary","m-btn","m-btn--icon","m-btn--icon-only","m-btn--custom","m-btn--outline-2x","m-btn--pill","no-border",3,"nzDropdownMenu","nzPlacement"],[1,"la","la-ellipsis-h"],["menu","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","",3,"click",4,"ngIf"],["nz-menu-item","",3,"click"],["nz-icon","","nzType","edit","nzTheme","outline",2,"margin-right","4px"],["nz-icon","","nzType","dollar","nzTheme","outline",2,"margin-right","4px"],["nz-icon","","nzType","delete","nzTheme","outline",2,"margin-right","4px"],["nz-icon","","nzType","check","nzTheme","outline",2,"margin-right","4px"],["nz-icon","","nzType","close","nzTheme","outline",2,"margin-right","4px"],["nz-icon","","nzType","download","nzTheme","outline",2,"margin-right","4px"],[1,"mr-3",2,"max-width","90px","max-height","200px",3,"src","click","contextmenu"],[2,"width","200px"],[1,"form-group"],["for","message-text",1,"form-control-label"],["name","rejectReason","nz-input","",3,"ngModel","ngModelChange"],["style","color: rgb(244, 81, 108);",4,"ngIf"],[2,"color","rgb(244, 81, 108)"],[1,"make-payment"],[1,"modal-wrapper"],[1,"row"],[1,"col-sm-12","mx-auto"],[3,"hidden",4,"ngFor","ngForOf"],[1,"inline-flex","m--margin-bottom-10","text-left"],[1,"flex-start"],[1,"modal-title","text-left"],[1,"modal-msg"],[1,"flex-end"],[1,"modal-msg","text-right","inline-flex"],[1,"flex-start","m--padding-right-10"],["src","./assets/app/media/img/icons/startFromEndFromIndicator.svg","height","52"],[1,"modal-stripe"],[1,"col-sm-6","colorFade"],[1,"col-sm-6","text-right"],["class","col-sm-6 text-right",4,"ngIf","ngIfElse"],["admin",""],["nzPlaceHolder","Please Select",2,"width","100%","text-align","left",3,"ngModel","ngModelChange"],["nzValue","6","nzLabel","Credit Card"],[3,"hidden"],[3,"type","dismissOnTimeout"],[1,"modal-body","m-form","m-form--fit","m-form--label-align-right","text-center"],[4,"ngIf","ngIfElse"],["showPdf",""],[3,"picUrl"],["frameborder","0",1,"modal-large-size-pdf",3,"src"]],template:function(e,n){if(1&e&&(_.TgZ(0,"div",0),_.YNc(1,W_,10,10,"div",1),_.YNc(2,w_,9,8,"div",1),_.YNc(3,N_,10,10,"div",1),_.YNc(4,k_,10,10,"div",1),_.YNc(5,q_,6,4,"div",1),_.YNc(6,J_,5,5,"div",1),_.YNc(7,Q_,3,2,"button",2),_.qZA(),_.YNc(8,Y_,1,3,"ng-template",null,3,_.W1O),_.TgZ(10,"nz-table",4,5),_.NdJ("nzQueryParams",function(l){return n.onQueryParamsChange(l)}),_.TgZ(12,"thead")(13,"tr"),_._UZ(14,"th",6),_.YNc(15,V_,2,1,"th",7),_.qZA()(),_.TgZ(16,"tbody"),_.YNc(17,ie,56,47,"ng-container",7),_.qZA()(),_.YNc(18,le,6,5,"ng-template",null,8,_.W1O),_.YNc(20,ue,51,18,"ng-template",null,9,_.W1O),_.YNc(22,Ee,4,2,"ng-template",null,10,_.W1O)),2&e){const i=_.MAs(9),l=_.MAs(11);_.xp6(1),_.Q6J("ngIf",!n.isOwner&&!n.isMotorist),_.xp6(1),_.Q6J("ngIf",!n.isOwner&&!n.isMotorist),_.xp6(1),_.Q6J("ngIf",!n.isOwner&&!n.isMotorist),_.xp6(1),_.Q6J("ngIf",!n.isOwner&&!n.isMotorist),_.xp6(1),_.Q6J("ngIf",!n.isMotorist),_.xp6(1),_.Q6J("ngIf",!n.isOperator&&!n.isOwner&&!n.isMotorist),_.xp6(1),_.Q6J("ngIf",n.isAccessAdmin),_.xp6(3),_.Q6J("nzData",n.listData)("nzFrontPagination",!1)("nzLoading",n.loading)("nzTotal",n.pagination.totalCount)("nzPageSize",n.pagination.rowsPerPage)("nzPageIndex",n.pagination.page)("nzShowSizeChanger",!0)("nzShowTotal",i),_.xp6(5),_.Q6J("ngForOf",n.tableHeaders),_.xp6(2),_.Q6J("ngForOf",l.data)}},dependencies:[o.sg,o.O5,o.PC,p.Fj,p.JJ,p.On,g.rH,R.Zp,x_.Ls,e_.wO,e_.r9,n_.cm,n_.RR,p_.ix,t_.w,g_.dQ,x.Ip,x.Vq,A.N8,A.Uo,A._C,A.h7,A.Om,A.p0,A.$Z,A.d3,A.Vk,K_.Y,a_.wx,o.Ov,o.rS,o.uU,L.X$,E_.yl],styles:[".make-payment[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-items:center;align-items:center;padding:0 15px}.make-payment[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{color:#6c6e86;line-height:2.5rem}.make-payment[_ngcontent-%COMP%]   .modal-msg[_ngcontent-%COMP%]{color:#868aa8;font-size:18px}.make-payment[_ngcontent-%COMP%]   .modal-wrapper[_ngcontent-%COMP%]{width:100%}.make-payment[_ngcontent-%COMP%]   .inline-flex[_ngcontent-%COMP%]{display:inline-flex;justify-content:space-between;align-items:center;width:100%}.make-payment[_ngcontent-%COMP%]   .flex-start[_ngcontent-%COMP%]{justify-content:flex-start}.make-payment[_ngcontent-%COMP%]   .flex-end[_ngcontent-%COMP%]{justify-content:flex-end}.make-payment[_ngcontent-%COMP%]   .modal-stripe[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:nth-child(odd){background:#ffffff}.make-payment[_ngcontent-%COMP%]   .modal-stripe[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:nth-child(odd){background:#faf9fc}.make-payment[_ngcontent-%COMP%]   .modal-stripe[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:16px}.make-payment[_ngcontent-%COMP%]   .modal-stripe[_ngcontent-%COMP%]   .colorFade[_ngcontent-%COMP%]{color:#0006}.make-payment[_ngcontent-%COMP%]   .modal-btns[_ngcontent-%COMP%]{margin-top:20px}.make-payment[_ngcontent-%COMP%]   .modal-btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px}.modalContent[_ngcontent-%COMP%]{display:flex}.modalContent[_ngcontent-%COMP%]   .imgZoomBtnContianer[_ngcontent-%COMP%]{flex-direction:column;justify-content:flex-end;align-items:center;display:flex;margin-left:20px}.modalContent[_ngcontent-%COMP%]   .imgZoomBtnContianer[_ngcontent-%COMP%]   .minusBtn[_ngcontent-%COMP%]{margin-bottom:10px}.modalContent[_ngcontent-%COMP%]   .imgContainer[_ngcontent-%COMP%]{width:900px;height:500px;overflow:auto}"]}),t})();var Oe=a(49333),Pe=a(17489),u_=a(21837),H=a(1059),G=a(75778),$=a(88117),o_=a(72986),z=a(20388),M_=a(24850);function De(t,s){if(1&t&&(_.TgZ(0,"option",19),_._uU(1),_.ALo(2,"titlecase"),_.qZA()),2&t){const e=s.$implicit;_.Q6J("value",e.value),_.xp6(1),_.hij(" ",_.lcZ(2,2,e.name)," ")}}function Ce(t,s){if(1&t&&(_.TgZ(0,"div",20),_._uU(1),_.ALo(2,"translate"),_.qZA()),2&t){const e=_.oxw();_.xp6(1),_.hij(" ",_.lcZ(2,1,e.vehicleNoMessage)," ")}}let he=(()=>{class t{constructor(e,n,i,l){this.router=e,this.bsModalRef=n,this.codeTablesService=i,this.translate=l,this.cancel=new _.vpe,this.submit=new _.vpe,this.form={},this.vehicleNoMessage=C.vwt.VehicleNo,this.vehicleTypes$=this.codeTablesService.filterModelByType(C.BcL.VehicleType).pipe((0,M_.U)(u=>(this.form={...this.form,vehicleType:u[0].value},this.vehicleTypes=u)))}doSubmit(){this.submit.emit(this.form)}doCancel(){this.cancel.emit()}}return t.\u0275fac=function(e){return new(e||t)(_.Y36(g.F0),_.Y36(z.UZ),_.Y36(v.I),_.Y36(L.sK))},t.\u0275cmp=_.Xpm({type:t,selectors:[["app-create-vehicle"]],outputs:{cancel:"cancel",submit:"submit"},decls:45,vars:25,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"m-portlet"],[1,"m-portlet__body"],[1,"form-group","m-form__group"],[1,"m--font-danger"],["name","vehicleType",1,"form-control","m-input",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["maxlength","8","pattern","^[A-Z0-9]+$","type","text","name","vehicleNumber","placeholder","","required","",1,"form-control","m-input",3,"ngModel","ngModelChange"],["vehicleNumber","ngModel"],["class","form-control-feedback",4,"ngIf"],["type","text","name","remark","required","",1,"form-control","m-input",3,"ngModel","ngModelChange"],["remark","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-main",3,"click"],["type","button",1,"btn","btn-main",3,"click"],[3,"value"],[1,"form-control-feedback"]],template:function(e,n){if(1&e&&(_.TgZ(0,"div",0)(1,"h4",1),_._uU(2),_.ALo(3,"translate"),_.qZA(),_.TgZ(4,"button",2),_.NdJ("click",function(){return n.doCancel()}),_.TgZ(5,"span",3),_._uU(6,"\xd7"),_.qZA()()(),_.TgZ(7,"div",4)(8,"form")(9,"div",5)(10,"div",6)(11,"div",7)(12,"label")(13,"span",8),_._uU(14,"*"),_.qZA(),_._uU(15),_.ALo(16,"translate"),_.qZA(),_.TgZ(17,"div")(18,"select",9),_.NdJ("ngModelChange",function(l){return n.form.vehicleType=l}),_.YNc(19,De,3,4,"option",10),_.ALo(20,"async"),_.qZA()()(),_.TgZ(21,"div",7)(22,"label")(23,"span",8),_._uU(24,"*"),_.qZA(),_._uU(25),_.ALo(26,"translate"),_.qZA(),_.TgZ(27,"div")(28,"input",11,12),_.NdJ("ngModelChange",function(l){return n.form.vehicleNumber=l}),_.qZA(),_.YNc(30,Ce,3,3,"div",13),_.qZA()(),_.TgZ(31,"div",7)(32,"label"),_._uU(33),_.ALo(34,"translate"),_.qZA(),_.TgZ(35,"div")(36,"input",14,15),_.NdJ("ngModelChange",function(l){return n.form.remark=l}),_.qZA()()()()()()(),_.TgZ(38,"div",16)(39,"button",17),_.NdJ("click",function(){return n.doCancel()}),_._uU(40),_.ALo(41,"translate"),_.qZA(),_.TgZ(42,"button",18),_.NdJ("click",function(){return n.doSubmit()}),_._uU(43),_.ALo(44,"translate"),_.qZA()()),2&e){const i=_.MAs(29);_.xp6(2),_.Oqu(_.lcZ(3,11,"Create new vehicle")),_.xp6(13),_.hij(" ",_.lcZ(16,13,"Vehicle Type")," "),_.xp6(3),_.Q6J("ngModel",n.form.vehicleType),_.xp6(1),_.Q6J("ngForOf",_.lcZ(20,15,n.vehicleTypes$)),_.xp6(6),_.hij(" ",_.lcZ(26,17,"Vehicle No."),": "),_.xp6(3),_.Q6J("ngModel",n.form.vehicleNumber),_.xp6(2),_.Q6J("ngIf",i.invalid&&(i.dirty||i.touched)),_.xp6(3),_.hij(" ",_.lcZ(34,19,"Remark")," "),_.xp6(3),_.Q6J("ngModel",n.form.remark),_.xp6(4),_.hij(" ",_.lcZ(41,21,"Close")," "),_.xp6(3),_.hij(" ",_.lcZ(44,23,"Create")," ")}},dependencies:[o.sg,o.O5,p._Y,p.YN,p.Kr,p.Fj,p.EJ,p.JJ,p.JL,p.Q7,p.nD,p.c5,p.On,p.F,o.Ov,o.rS,L.X$],encapsulation:2}),t})();var i_=a(88796),Ae=a(81558),Te=a(8278);function fe(t,s){if(1&t&&_._uU(0),2&t){const e=s.item,n=_.oxw();_.hij(" ",n.displayDriverOption(e)," ")}}function ve(t,s){if(1&t&&_._uU(0),2&t){const e=s.item,n=_.oxw();_.hij(" ",n.displayDriverOption(e)," ")}}function Ue(t,s){if(1&t&&(_.TgZ(0,"option",42),_._uU(1),_.qZA()),2&t){const e=s.$implicit;_.Q6J("ngValue",e),_.xp6(1),_.hij(" ",e.vehicleNumber," ")}}function Le(t,s){1&t&&(_.TgZ(0,"div",43),_._uU(1," Field is required. "),_.qZA())}function Ie(t,s){1&t&&(_.TgZ(0,"div",43),_._uU(1," Field is required. "),_.qZA())}function Ze(t,s){1&t&&(_.TgZ(0,"div",43),_._uU(1," Field is required. "),_.qZA())}function Re(t,s){1&t&&(_.TgZ(0,"div",43),_._uU(1," Field is required. "),_.qZA())}function xe(t,s){1&t&&(_.TgZ(0,"div",43),_._uU(1," Field is required. "),_.qZA())}function Ke(t,s){1&t&&(_.TgZ(0,"div",43),_._uU(1," Field is required. "),_.qZA())}function Be(t,s){if(1&t){const e=_.EpF();_.TgZ(0,"app-create-vehicle",44),_.NdJ("submit",function(i){_.CHM(e);const l=_.oxw();return _.KtG(l.onCreateVehicle(i))})("cancel",function(){_.CHM(e);const i=_.oxw();return _.KtG(i.onCancelVehicle())}),_.qZA()}}let We=(()=>{class t{constructor(e,n,i,l,u,K){this.router=e,this.driverService=n,this.carparkService=i,this.vehicleService=l,this.modalService=u,this.modalRef=K,this.form={startDate:new Date,endDate:new Date},this.driverForm={},this.driverInput$=new W.xQ,this.carparkInput$=new W.xQ,this.vehicleInput$=new W.xQ}ngOnInit(){this.driver$=this.driverInput$.pipe((0,H.O)(""),(0,Q.b)(200),(0,G.x)(),(0,S.b)(()=>this.driverLoading=!0),(0,q.w)(e=>this.driverService.searchModel(e).pipe((0,S.b)(()=>this.driverLoading=!1))),(0,$.B)()),this.driver$.pipe((0,o_.q)(1)).subscribe(e=>{this.driver=e[0],this.form.driverCode=e[0]&&e[0].userName,this.onDriverChange(this.driver)}),this.carpark$=this.carparkInput$.pipe((0,H.O)(""),(0,Q.b)(200),(0,G.x)(),(0,S.b)(()=>this.carparkLoading=!0),(0,q.w)(e=>this.carparkService.getSimpleList(e).pipe((0,S.b)(()=>this.carparkLoading=!1))),(0,$.B)()),this.carpark$.pipe((0,o_.q)(1)).subscribe(e=>{this.carparkCode=e[0]&&e[0].carParkCode}),this.vehicle$=this.vehicleInput$.pipe((0,S.b)(()=>this.vehicleLoading=!0),(0,q.w)(e=>this.vehicleService.filterModelByDriver(e).pipe((0,S.b)(()=>this.vehicleLoading=!1))),(0,$.B)()),this.vehicle$.pipe().subscribe(e=>{this.vehicle=e[0]})}onDriverChange(e){if(!e)return this.driverInput$.next(""),this.vehicle=null;this.driverForm=(0,Pe.pick)(e,["firstName","lastName","email","mobile","address"]),this.vehicleInput$.next(e.userName)}cancel(){this.router.navigate(["/season-parking/applications"])}submit(){try{const e={...this.form,...this.driverForm,carparkCode:this.carparkCode,driverCode:this.driver.userName,finNumber:"this.driver.identityNo",vehicleNumber:this.vehicle.vehicleNumber,vehicleType:this.vehicle.vehicleType,startDate:u_.ou.fromJSDate(this.form.startDate).toISODate(),endDate:u_.ou.fromJSDate(this.form.endDate).toISODate()};this.driverService.createModelApplication(e).subscribe(()=>{this.router.navigate(["/season-parking/applications"])})}catch{}}displayDriverOption(e){return[[e.firstName,e.lastName].filter(i=>i).join(" "),e.mobile,e.email].filter(i=>i&&i.length).join(", ")}openVehicleModal(e){this.modalRef=this.modalService.show(e)}onCreateVehicle(e){this.vehicleService.createModel(this.driver.userName,e).subscribe(()=>{this.vehicleInput$.next(this.driver.userName),this.modalRef.hide()})}onCancelVehicle(){this.modalRef.hide()}}return t.\u0275fac=function(e){return new(e||t)(_.Y36(g.F0),_.Y36(D.F),_.Y36(f.x),_.Y36(U.f),_.Y36(z.tT),_.Y36(z.UZ))},t.\u0275cmp=_.Xpm({type:t,selectors:[["app-application-create"]],decls:114,vars:32,consts:[[1,"body-wrapper"],[1,"m-content"],[1,"m-form","m-form--fit","m-form--label-align-right"],[1,"m-portlet"],[1,"m-portlet__head"],[1,"m-portlet__head-caption"],[1,"m-portlet__head-title"],[1,"m-portlet__head-text"],[1,"m-portlet__body"],[1,"row","form-group","m-form__group"],[1,"col-form-label","col-lg-2","col-sm-12"],[1,"m--font-danger"],[1,"col-lg-4","col-sm-12"],["name","driverControl",3,"items","ngModel","typeahead","loading","ngModelChange","change"],["ng-label-tmp",""],["ng-option-tmp",""],["name","carparkControl","bindLabel","name","bindValue","carParkCode",3,"items","ngModel","typeahead","loading","ngModelChange","change"],[1,"col-form-label","col-md-2","col-sm-12"],[1,"col-md-4","col-sm-12"],["type","text","bsDatepicker","",1,"form-control",3,"bsValue","bsValueChange"],["name","vehicleControl",1,"form-control","m-input",3,"ngModel","disabled","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"btn","btn-main",3,"disabled","click"],["type","text","name","firstName","placeholder","","required","",1,"form-control","m-input",3,"ngModel","ngModelChange"],["firstName","ngModel"],["class","form-control-feedback",4,"ngIf"],["type","text","name","lastName","placeholder","","required","",1,"form-control","m-input",3,"ngModel","ngModelChange"],["lastName","ngModel"],[1,"input-group"],["type","text","name","email","placeholder","","required","",1,"form-control","m-input",3,"ngModel","ngModelChange"],["email","ngModel"],["type","text","name","mobile","placeholder","","required","",1,"form-control","m-input",3,"ngModel","ngModelChange"],["mobile","ngModel"],["type","text","name","address","placeholder","","required","",1,"form-control","m-input",3,"ngModel","ngModelChange"],["address","ngModel"],["type","text","name","postalCode","placeholder","","required","",1,"form-control","m-input",3,"ngModel","ngModelChange"],["postalCode","ngModel"],[1,"m-portlet__foot","bg-light-gray"],[1,"m-form__actions","m-form__actions--right"],[1,"btn","btn-outline-main",3,"click"],[1,"btn","btn-main","m--margin-left-30",3,"click"],["createVehicleModal",""],[3,"ngValue"],[1,"form-control-feedback"],[3,"submit","cancel"]],template:function(e,n){if(1&e){const i=_.EpF();_.TgZ(0,"div",0),_._UZ(1,"app-title-bar"),_.TgZ(2,"div",1)(3,"form",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"h3",7),_._uU(9," Season Application "),_.qZA()()()(),_.TgZ(10,"div",8)(11,"div",9)(12,"label",10)(13,"span",11),_._uU(14,"*"),_.qZA(),_._uU(15," Driver "),_.qZA(),_.TgZ(16,"div",12)(17,"ng-select",13),_.NdJ("ngModelChange",function(u){return n.driver=u})("change",function(u){return n.onDriverChange(u)}),_.ALo(18,"async"),_.YNc(19,fe,1,1,"ng-template",14),_.YNc(20,ve,1,1,"ng-template",15),_.qZA()(),_.TgZ(21,"label",10)(22,"span",11),_._uU(23,"*"),_.qZA(),_._uU(24," Car Park "),_.qZA(),_.TgZ(25,"div",12)(26,"ng-select",16),_.NdJ("ngModelChange",function(u){return n.carparkCode=u})("change",function(u){return!u&&n.carparkInput$.next("")}),_.ALo(27,"async"),_.qZA()()(),_.TgZ(28,"div",9)(29,"label",17)(30,"span",11),_._uU(31,"*"),_.qZA(),_._uU(32," Start Date "),_.qZA(),_.TgZ(33,"div",18)(34,"input",19),_.NdJ("bsValueChange",function(u){return n.form.startDate=u}),_.qZA()(),_.TgZ(35,"label",17)(36,"span",11),_._uU(37,"*"),_.qZA(),_._uU(38," End Date "),_.qZA(),_.TgZ(39,"div",18)(40,"input",19),_.NdJ("bsValueChange",function(u){return n.form.endDate=u}),_.qZA()()(),_.TgZ(41,"div",9)(42,"label",10)(43,"span",11),_._uU(44,"*"),_.qZA(),_._uU(45," Vehicle "),_.qZA(),_.TgZ(46,"div",12)(47,"select",20),_.NdJ("ngModelChange",function(u){return n.vehicle=u}),_.YNc(48,Ue,2,2,"option",21),_.ALo(49,"async"),_.qZA()(),_.TgZ(50,"button",22),_.NdJ("click",function(){_.CHM(i);const u=_.MAs(113);return _.KtG(n.openVehicleModal(u))}),_._uU(51,"Add Vehicle"),_.qZA()(),_._UZ(52,"hr"),_.TgZ(53,"div",9)(54,"label",10)(55,"span",11),_._uU(56,"*"),_.qZA(),_._uU(57," First Name "),_.qZA(),_.TgZ(58,"div",12)(59,"input",23,24),_.NdJ("ngModelChange",function(u){return n.driverForm.firstName=u}),_.qZA(),_.YNc(61,Le,2,0,"div",25),_.qZA(),_.TgZ(62,"label",10)(63,"span",11),_._uU(64,"*"),_.qZA(),_._uU(65," Last Name "),_.qZA(),_.TgZ(66,"div",12)(67,"input",26,27),_.NdJ("ngModelChange",function(u){return n.driverForm.lastName=u}),_.qZA(),_.YNc(69,Ie,2,0,"div",25),_.qZA()(),_.TgZ(70,"div",9)(71,"label",10)(72,"span",11),_._uU(73,"*"),_.qZA(),_._uU(74," Email "),_.qZA(),_.TgZ(75,"div",12)(76,"div",28)(77,"input",29,30),_.NdJ("ngModelChange",function(u){return n.driverForm.email=u}),_.qZA()(),_.YNc(79,Ze,2,0,"div",25),_.qZA(),_.TgZ(80,"label",10)(81,"span",11),_._uU(82,"*"),_.qZA(),_._uU(83," Mobile No. "),_.qZA(),_.TgZ(84,"div",12)(85,"div",28)(86,"input",31,32),_.NdJ("ngModelChange",function(u){return n.driverForm.mobile=u}),_.qZA()(),_.YNc(88,Re,2,0,"div",25),_.qZA()(),_.TgZ(89,"div",9)(90,"label",10)(91,"span",11),_._uU(92,"*"),_.qZA(),_._uU(93," Address "),_.qZA(),_.TgZ(94,"div",12)(95,"input",33,34),_.NdJ("ngModelChange",function(u){return n.driverForm.address=u}),_.qZA(),_.YNc(97,xe,2,0,"div",25),_.qZA(),_.TgZ(98,"label",10)(99,"span",11),_._uU(100,"*"),_.qZA(),_._uU(101," Postal Code "),_.qZA(),_.TgZ(102,"div",12)(103,"input",35,36),_.NdJ("ngModelChange",function(u){return n.driverForm.postalCode=u}),_.qZA(),_.YNc(105,Ke,2,0,"div",25),_.qZA()()(),_.TgZ(106,"div",37)(107,"div",38)(108,"button",39),_.NdJ("click",function(){return n.cancel()}),_._uU(109," Cancel "),_.qZA(),_.TgZ(110,"button",40),_.NdJ("click",function(){return n.submit()}),_._uU(111," Submit "),_.qZA()()()()()()(),_.YNc(112,Be,1,0,"ng-template",null,41,_.W1O)}if(2&e){const i=_.MAs(60),l=_.MAs(68),u=_.MAs(78),K=_.MAs(87),J=_.MAs(96),F=_.MAs(104);_.xp6(17),_.Q6J("items",_.lcZ(18,26,n.driver$))("ngModel",n.driver)("typeahead",n.driverInput$)("loading",n.driverLoading),_.xp6(9),_.Q6J("items",_.lcZ(27,28,n.carpark$))("ngModel",n.carparkCode)("typeahead",n.carparkInput$)("loading",n.carparkLoading),_.xp6(8),_.Q6J("bsValue",n.form.startDate),_.xp6(6),_.Q6J("bsValue",n.form.endDate),_.xp6(7),_.Q6J("ngModel",n.vehicle)("disabled",!n.driver),_.xp6(1),_.Q6J("ngForOf",_.lcZ(49,30,n.vehicle$)),_.xp6(2),_.Q6J("disabled",!n.driver),_.xp6(9),_.Q6J("ngModel",n.driverForm.firstName),_.xp6(2),_.Q6J("ngIf",i.invalid&&(i.dirty||i.touched)),_.xp6(6),_.Q6J("ngModel",n.driverForm.lastName),_.xp6(2),_.Q6J("ngIf",l.invalid&&(l.dirty||l.touched)),_.xp6(8),_.Q6J("ngModel",n.driverForm.email),_.xp6(2),_.Q6J("ngIf",u.invalid&&(u.dirty||u.touched)),_.xp6(7),_.Q6J("ngModel",n.driverForm.mobile),_.xp6(2),_.Q6J("ngIf",K.invalid&&(K.dirty||K.touched)),_.xp6(7),_.Q6J("ngModel",n.driverForm.address),_.xp6(2),_.Q6J("ngIf",J.invalid&&(J.dirty||J.touched)),_.xp6(6),_.Q6J("ngModel",n.driverForm.postalCode),_.xp6(2),_.Q6J("ngIf",F.invalid&&(F.dirty||F.touched))}},dependencies:[o.sg,o.O5,p._Y,p.YN,p.Kr,p.Fj,p.EJ,p.JJ,p.JL,p.Q7,p.On,p.F,M.G,he,i_.w9,i_.ir,i_.mR,Ae.N,Te.Y,o.Ov],encapsulation:2}),t})();var O_=a(63115);function be(t,s){if(1&t&&(_.TgZ(0,"span"),_._uU(1),_.qZA()),2&t){const e=_.oxw();_.xp6(1),_.hij(" ",e.item.id," ")}}function we(t,s){if(1&t&&(_.TgZ(0,"option",38),_._uU(1),_.qZA()),2&t){const e=s.$implicit;_.Q6J("value",e.value),_.xp6(1),_.hij(" ",e.text," ")}}function ye(t,s){if(1&t&&(_.TgZ(0,"option",38),_._uU(1),_.qZA()),2&t){const e=s.$implicit;_.Q6J("value",e.value),_.xp6(1),_.hij(" ",e.text," ")}}function Ne(t,s){1&t&&(_.TgZ(0,"div",39),_._uU(1),_.ALo(2,"translate"),_.qZA()),2&t&&(_.xp6(1),_.hij(" ",_.lcZ(2,1,"Field is required.")," "))}function Se(t,s){1&t&&(_.TgZ(0,"div",39),_._uU(1),_.ALo(2,"translate"),_.qZA()),2&t&&(_.xp6(1),_.hij(" ",_.lcZ(2,1,"Field is required.")," "))}function ke(t,s){if(1&t&&(_.TgZ(0,"option",38),_._uU(1),_.qZA()),2&t){const e=s.$implicit;_.Q6J("value",e.value),_.xp6(1),_.hij(" ",e.text," ")}}function qe(t,s){1&t&&(_.TgZ(0,"div",39),_._uU(1),_.ALo(2,"translate"),_.qZA()),2&t&&(_.xp6(1),_.hij(" ",_.lcZ(2,1,"Field is required.")," "))}function ze(t,s){1&t&&(_.TgZ(0,"div",39),_._uU(1),_.ALo(2,"translate"),_.qZA()),2&t&&(_.xp6(1),_.hij(" ",_.lcZ(2,1,"Field is required.")," "))}let Je=(()=>{class t{constructor(e){this.router=e,this.form={role:"",startTime:"",firstName:"",lastName:"",identityType:"",identityNo:"",email:"",mobile:""}}ngOnInit(){}startTimeChange(){}endTimeChange(){}cancel(){}submit(){}}return t.\u0275fac=function(e){return new(e||t)(_.Y36(g.F0))},t.\u0275cmp=_.Xpm({type:t,selectors:[["app-season-create-form"]],decls:116,vars:60,consts:[[1,"m-form","m-form--fit","m-form--label-align-right"],[1,"m-portlet"],[1,"m-portlet__head"],[1,"m-portlet__head-caption"],[1,"m-portlet__head-title"],[1,"m-portlet__head-text"],[4,"ngIf"],[1,"m-portlet__body"],[1,"row","form-group","m-form__group"],[1,"col-form-label","col-lg-2","col-sm-12"],[1,"m--font-danger"],[1,"col-lg-10","col-sm-12"],["name","userRole",1,"form-control","m-input",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-form-label","col-md-2","col-sm-12"],[1,"col-md-4","col-sm-12"],[3,"value","bsValueChange"],[1,"col-lg-4","col-sm-12"],["type","text","name","firstName","placeholder","","required","",1,"form-control","m-input",3,"ngModel","ngModelChange"],["firstName","ngModel"],["class","form-control-feedback",4,"ngIf"],["type","text","name","lastName","placeholder","","required","",1,"form-control","m-input",3,"ngModel","ngModelChange"],["lastName","ngModel"],["name","identityType",1,"form-control","m-input",3,"ngModel","ngModelChange"],["value",""],["placeholder","","type","text","name","identityNo",1,"form-control","m-input",3,"ngModel","ngModelChange"],[1,"input-group"],["type","text","name","email","placeholder","","required","",1,"form-control","m-input",3,"ngModel","ngModelChange"],["email","ngModel"],[1,"input-group-prepend"],["name","mobileCode",1,"form-control","m-input"],["value","+65"],["type","text","name","mobile","placeholder","","required","",1,"form-control","m-input",3,"ngModel","ngModelChange"],["mobile","ngModel"],[1,"m-portlet__foot","bg-light-gray"],[1,"m-form__actions","m-form__actions--right"],[1,"btn","btn-outline-main",3,"click"],[1,"btn","btn-main","m--margin-left-30",3,"click"],[3,"value"],[1,"form-control-feedback"]],template:function(e,n){if(1&e&&(_.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),_._uU(6),_.ALo(7,"translate"),_.YNc(8,be,2,1,"span",6),_.qZA()()()(),_.TgZ(9,"div",7)(10,"div",8)(11,"label",9)(12,"span",10),_._uU(13,"*"),_.qZA(),_._uU(14),_.ALo(15,"translate"),_.qZA(),_.TgZ(16,"div",11)(17,"select",12),_.NdJ("ngModelChange",function(l){return n.form.role=l}),_.YNc(18,we,2,2,"option",13),_.qZA()()(),_.TgZ(19,"div",8)(20,"label",14)(21,"span",10),_._uU(22,"*"),_.qZA(),_._uU(23),_.ALo(24,"translate"),_.qZA(),_.TgZ(25,"div",15)(26,"app-datetimepicker",16),_.NdJ("bsValueChange",function(){return n.startTimeChange()}),_.qZA()(),_.TgZ(27,"label",14)(28,"span",10),_._uU(29,"*"),_.qZA(),_._uU(30),_.ALo(31,"translate"),_.qZA(),_.TgZ(32,"div",15)(33,"app-datetimepicker",16),_.NdJ("bsValueChange",function(){return n.endTimeChange()}),_.qZA()()(),_._UZ(34,"hr"),_.TgZ(35,"div",8)(36,"label",9)(37,"span",10),_._uU(38,"*"),_.qZA(),_._uU(39),_.ALo(40,"translate"),_.qZA(),_.TgZ(41,"div",17)(42,"select",12),_.NdJ("ngModelChange",function(l){return n.form.role=l}),_.YNc(43,ye,2,2,"option",13),_.qZA()()(),_._UZ(44,"hr"),_.TgZ(45,"div",8)(46,"label",9)(47,"span",10),_._uU(48,"*"),_.qZA(),_._uU(49),_.ALo(50,"translate"),_.qZA(),_.TgZ(51,"div",17)(52,"input",18,19),_.NdJ("ngModelChange",function(l){return n.form.firstName=l}),_.qZA(),_.YNc(54,Ne,3,3,"div",20),_.qZA(),_.TgZ(55,"label",9)(56,"span",10),_._uU(57,"*"),_.qZA(),_._uU(58),_.ALo(59,"translate"),_.qZA(),_.TgZ(60,"div",17)(61,"input",21,22),_.NdJ("ngModelChange",function(l){return n.form.lastName=l}),_.qZA(),_.YNc(63,Se,3,3,"div",20),_.qZA()(),_.TgZ(64,"div",8)(65,"label",9)(66,"span",10),_._uU(67,"*"),_.qZA(),_._uU(68),_.ALo(69,"translate"),_.qZA(),_.TgZ(70,"div",17)(71,"select",23),_.NdJ("ngModelChange",function(l){return n.form.identityType=l}),_.TgZ(72,"option",24),_._uU(73),_.ALo(74,"translate"),_.qZA(),_.YNc(75,ke,2,2,"option",13),_.qZA()(),_.TgZ(76,"label",9)(77,"span",10),_._uU(78,"*"),_.qZA(),_._uU(79),_.ALo(80,"translate"),_.qZA(),_.TgZ(81,"div",17)(82,"input",25),_.NdJ("ngModelChange",function(l){return n.form.identityNo=l}),_.qZA()()(),_.TgZ(83,"div",8)(84,"label",9)(85,"span",10),_._uU(86,"*"),_.qZA(),_._uU(87),_.ALo(88,"translate"),_.qZA(),_.TgZ(89,"div",17)(90,"div",26)(91,"input",27,28),_.NdJ("ngModelChange",function(l){return n.form.email=l}),_.qZA()(),_.YNc(93,qe,3,3,"div",20),_.qZA(),_.TgZ(94,"label",9)(95,"span",10),_._uU(96,"*"),_.qZA(),_._uU(97),_.ALo(98,"translate"),_.qZA(),_.TgZ(99,"div",17)(100,"div",26)(101,"div",29)(102,"select",30)(103,"option",31),_._uU(104," +65 "),_.qZA()()(),_.TgZ(105,"input",32,33),_.NdJ("ngModelChange",function(l){return n.form.mobile=l}),_.qZA()(),_.YNc(107,ze,3,3,"div",20),_.qZA()()(),_.TgZ(108,"div",34)(109,"div",35)(110,"button",36),_.NdJ("click",function(){return n.cancel()}),_._uU(111),_.ALo(112,"translate"),_.qZA(),_.TgZ(113,"button",37),_.NdJ("click",function(){return n.submit()}),_._uU(114),_.ALo(115,"translate"),_.qZA()()()()()),2&e){const i=_.MAs(53),l=_.MAs(62),u=_.MAs(92),K=_.MAs(106);_.xp6(6),_.hij(" ",_.lcZ(7,32,"Season Parking")," "),_.xp6(2),_.Q6J("ngIf",n.item),_.xp6(6),_.hij(" ",_.lcZ(15,34,"Car Park"),": "),_.xp6(3),_.Q6J("ngModel",n.form.role),_.xp6(1),_.Q6J("ngForOf",n.roleOptions),_.xp6(5),_.hij(" ",_.lcZ(24,36,"Start Date"),": "),_.xp6(3),_.Q6J("value",n.form.startTime),_.xp6(4),_.hij(" ",_.lcZ(31,38,"End Date"),": "),_.xp6(3),_.Q6J("value",n.form.startTime),_.xp6(6),_.hij(" ",_.lcZ(40,40,"Vehicle"),": "),_.xp6(3),_.Q6J("ngModel",n.form.role),_.xp6(1),_.Q6J("ngForOf",n.roleOptions),_.xp6(6),_.hij(" ",_.lcZ(50,42,"First Name"),": "),_.xp6(3),_.Q6J("ngModel",n.form.firstName),_.xp6(2),_.Q6J("ngIf",i.invalid&&(i.dirty||i.touched)),_.xp6(4),_.hij(" ",_.lcZ(59,44,"Last Name"),": "),_.xp6(3),_.Q6J("ngModel",n.form.lastName),_.xp6(2),_.Q6J("ngIf",l.invalid&&(l.dirty||l.touched)),_.xp6(5),_.hij(" ",_.lcZ(69,46,"Identity Type"),": "),_.xp6(3),_.Q6J("ngModel",n.form.identityType),_.xp6(2),_.Oqu(_.lcZ(74,48,"Select")),_.xp6(2),_.Q6J("ngForOf",n.identityTypeOptions),_.xp6(4),_.hij(" ",_.lcZ(80,50,"Identity No."),": "),_.xp6(3),_.Q6J("ngModel",n.form.identityNo),_.xp6(5),_.hij(" ",_.lcZ(88,52,"Email Address"),": "),_.xp6(4),_.Q6J("ngModel",n.form.email),_.xp6(2),_.Q6J("ngIf",u.invalid&&(u.dirty||u.touched)),_.xp6(4),_.hij(" ",_.lcZ(98,54,"Mobile No."),": "),_.xp6(8),_.Q6J("ngModel",n.form.mobile),_.xp6(2),_.Q6J("ngIf",K.invalid&&(K.dirty||K.touched)),_.xp6(4),_.hij(" ",_.lcZ(112,56,"Cancel")," "),_.xp6(3),_.hij(" ",_.lcZ(115,58,"Submit")," ")}},dependencies:[o.sg,o.O5,p._Y,p.YN,p.Kr,p.Fj,p.EJ,p.JJ,p.JL,p.Q7,p.On,p.F,O_.J,L.X$],encapsulation:2}),t})(),Fe=(()=>{class t{constructor(e){this.router=e}cancel(){}submit(){}}return t.\u0275fac=function(e){return new(e||t)(_.Y36(g.F0))},t.\u0275cmp=_.Xpm({type:t,selectors:[["app-season-create"]],decls:4,vars:0,consts:[[1,"body-wrapper"],[1,"m-content"],[3,"canceled","submitted"]],template:function(e,n){1&e&&(_.TgZ(0,"div",0),_._UZ(1,"app-title-bar"),_.TgZ(2,"div",1)(3,"app-season-create-form",2),_.NdJ("canceled",function(){return n.cancel()})("submitted",function(){return n.submit()}),_.qZA()()())},dependencies:[M.G,Je],encapsulation:2}),t})();var Y=a(59245);function Qe(t,s){if(1&t&&(_.TgZ(0,"span"),_._uU(1),_.qZA()),2&t){const e=_.oxw();_.xp6(1),_.hij(" ",e.item.id," ")}}function Ye(t,s){if(1&t&&(_.TgZ(0,"option",40),_._uU(1),_.qZA()),2&t){const e=s.$implicit;_.Q6J("value",e.value),_.xp6(1),_.hij(" ",e.text," ")}}function Ve(t,s){if(1&t&&(_.TgZ(0,"option",40),_._uU(1),_.qZA()),2&t){const e=s.$implicit;_.Q6J("value",e.value),_.xp6(1),_.hij(" ",e.text," ")}}function je(t,s){1&t&&(_.TgZ(0,"div",41),_._uU(1),_.ALo(2,"translate"),_.qZA()),2&t&&(_.xp6(1),_.hij(" ",_.lcZ(2,1,"Field is required.")," "))}function He(t,s){1&t&&(_.TgZ(0,"div",41),_._uU(1),_.ALo(2,"translate"),_.qZA()),2&t&&(_.xp6(1),_.hij(" ",_.lcZ(2,1,"Field is required.")," "))}function Ge(t,s){if(1&t&&(_.TgZ(0,"option",40),_._uU(1),_.qZA()),2&t){const e=s.$implicit;_.Q6J("value",e.value),_.xp6(1),_.hij(" ",e.text," ")}}function $e(t,s){1&t&&(_.TgZ(0,"div",41),_._uU(1),_.ALo(2,"translate"),_.qZA()),2&t&&(_.xp6(1),_.hij(" ",_.lcZ(2,1,"Field is required.")," "))}function Xe(t,s){1&t&&(_.TgZ(0,"div",41),_._uU(1),_.ALo(2,"translate"),_.qZA()),2&t&&(_.xp6(1),_.hij(" ",_.lcZ(2,1,"Field is required.")," "))}let _n=(()=>{class t{constructor(e){this.router=e,this.form={role:"",startTime:"",firstName:"",lastName:"",identityType:"",identityNo:"",email:"",mobile:""}}ngOnInit(){}startTimeChange(){}endTimeChange(){}cancel(){}submit(){}}return t.\u0275fac=function(e){return new(e||t)(_.Y36(g.F0))},t.\u0275cmp=_.Xpm({type:t,selectors:[["app-season-edit-form"]],decls:120,vars:63,consts:[[1,"m-form","m-form--fit","m-form--label-align-right"],[1,"m-portlet"],[1,"m-portlet__head"],[1,"m-portlet__head-caption"],[1,"m-portlet__head-title"],[1,"m-portlet__head-text"],[4,"ngIf"],[1,"m-portlet__body"],[1,"row","form-group","m-form__group"],[1,"col-form-label","col-lg-2","col-sm-12"],[1,"m--font-danger"],[1,"col-lg-10","col-sm-12"],["name","userRole",1,"form-control","m-input",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-form-label","col-md-2","col-sm-12"],[1,"col-md-4","col-sm-12"],[3,"value","bsValueChange"],[1,"col-lg-4","col-sm-12"],["type","text","name","firstName","placeholder","","required","",1,"form-control","m-input",3,"ngModel","ngModelChange"],["firstName","ngModel"],["class","form-control-feedback",4,"ngIf"],["type","text","name","lastName","placeholder","","required","",1,"form-control","m-input",3,"ngModel","ngModelChange"],["lastName","ngModel"],["name","identityType",1,"form-control","m-input",3,"ngModel","ngModelChange"],["value",""],["placeholder","","type","text","name","identityNo",1,"form-control","m-input",3,"ngModel","ngModelChange"],[1,"input-group"],["type","text","name","email","placeholder","","required","",1,"form-control","m-input",3,"ngModel","ngModelChange"],["email","ngModel"],[1,"input-group-prepend"],["name","mobileCode",1,"form-control","m-input"],["value","+65"],["type","text","name","mobile","placeholder","","required","",1,"form-control","m-input",3,"ngModel","ngModelChange"],["mobile","ngModel"],[1,"m-portlet__foot","bg-light-gray","d-flex","justify-content-between"],[1,"m-form__actions","m-form__actions--left"],[1,"btn","m-btn--air","btn-main",3,"click"],[1,"m-form__actions","m-form__actions--right"],[1,"btn","btn-outline-main","mr-3",3,"click"],[1,"btn","btn-main",3,"click"],[3,"value"],[1,"form-control-feedback"]],template:function(e,n){if(1&e&&(_.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),_._uU(6),_.ALo(7,"translate"),_.YNc(8,Qe,2,1,"span",6),_.qZA()()()(),_.TgZ(9,"div",7)(10,"div",8)(11,"label",9)(12,"span",10),_._uU(13,"*"),_.qZA(),_._uU(14),_.ALo(15,"translate"),_.qZA(),_.TgZ(16,"div",11)(17,"select",12),_.NdJ("ngModelChange",function(l){return n.form.role=l}),_.YNc(18,Ye,2,2,"option",13),_.qZA()()(),_.TgZ(19,"div",8)(20,"label",14)(21,"span",10),_._uU(22,"*"),_.qZA(),_._uU(23),_.ALo(24,"translate"),_.qZA(),_.TgZ(25,"div",15)(26,"app-datetimepicker",16),_.NdJ("bsValueChange",function(){return n.startTimeChange()}),_.qZA()(),_.TgZ(27,"label",14)(28,"span",10),_._uU(29,"*"),_.qZA(),_._uU(30),_.ALo(31,"translate"),_.qZA(),_.TgZ(32,"div",15)(33,"app-datetimepicker",16),_.NdJ("bsValueChange",function(){return n.endTimeChange()}),_.qZA()()(),_._UZ(34,"hr"),_.TgZ(35,"div",8)(36,"label",9)(37,"span",10),_._uU(38,"*"),_.qZA(),_._uU(39),_.ALo(40,"translate"),_.qZA(),_.TgZ(41,"div",17)(42,"select",12),_.NdJ("ngModelChange",function(l){return n.form.role=l}),_.YNc(43,Ve,2,2,"option",13),_.qZA()()(),_._UZ(44,"hr"),_.TgZ(45,"div",8)(46,"label",9)(47,"span",10),_._uU(48,"*"),_.qZA(),_._uU(49),_.ALo(50,"translate"),_.qZA(),_.TgZ(51,"div",17)(52,"input",18,19),_.NdJ("ngModelChange",function(l){return n.form.firstName=l}),_.qZA(),_.YNc(54,je,3,3,"div",20),_.qZA(),_.TgZ(55,"label",9)(56,"span",10),_._uU(57,"*"),_.qZA(),_._uU(58),_.ALo(59,"translate"),_.qZA(),_.TgZ(60,"div",17)(61,"input",21,22),_.NdJ("ngModelChange",function(l){return n.form.lastName=l}),_.qZA(),_.YNc(63,He,3,3,"div",20),_.qZA()(),_.TgZ(64,"div",8)(65,"label",9)(66,"span",10),_._uU(67,"*"),_.qZA(),_._uU(68),_.ALo(69,"translate"),_.qZA(),_.TgZ(70,"div",17)(71,"select",23),_.NdJ("ngModelChange",function(l){return n.form.identityType=l}),_.TgZ(72,"option",24),_._uU(73),_.ALo(74,"translate"),_.qZA(),_.YNc(75,Ge,2,2,"option",13),_.qZA()(),_.TgZ(76,"label",9)(77,"span",10),_._uU(78,"*"),_.qZA(),_._uU(79),_.ALo(80,"translate"),_.qZA(),_.TgZ(81,"div",17)(82,"input",25),_.NdJ("ngModelChange",function(l){return n.form.identityNo=l}),_.qZA()()(),_.TgZ(83,"div",8)(84,"label",9)(85,"span",10),_._uU(86,"*"),_.qZA(),_._uU(87),_.ALo(88,"translate"),_.qZA(),_.TgZ(89,"div",17)(90,"div",26)(91,"input",27,28),_.NdJ("ngModelChange",function(l){return n.form.email=l}),_.qZA()(),_.YNc(93,$e,3,3,"div",20),_.qZA(),_.TgZ(94,"label",9)(95,"span",10),_._uU(96,"*"),_.qZA(),_._uU(97),_.ALo(98,"translate"),_.qZA(),_.TgZ(99,"div",17)(100,"div",26)(101,"div",29)(102,"select",30)(103,"option",31),_._uU(104," +65 "),_.qZA()()(),_.TgZ(105,"input",32,33),_.NdJ("ngModelChange",function(l){return n.form.mobile=l}),_.qZA()(),_.YNc(107,Xe,3,3,"div",20),_.qZA()()(),_.TgZ(108,"div",34)(109,"div",35)(110,"button",36),_.NdJ("click",function(){return n.cancel()}),_._uU(111),_.ALo(112,"translate"),_.qZA()(),_.TgZ(113,"div",37)(114,"button",38),_.NdJ("click",function(){return n.cancel()}),_._uU(115),_.ALo(116,"translate"),_.qZA(),_.TgZ(117,"button",39),_.NdJ("click",function(){return n.submit()}),_._uU(118),_.ALo(119,"translate"),_.qZA()()()()()),2&e){const i=_.MAs(53),l=_.MAs(62),u=_.MAs(92),K=_.MAs(106);_.xp6(6),_.hij(" ",_.lcZ(7,33,"Season Parking")," "),_.xp6(2),_.Q6J("ngIf",n.item),_.xp6(6),_.hij(" ",_.lcZ(15,35,"Car Park")," "),_.xp6(3),_.Q6J("ngModel",n.form.role),_.xp6(1),_.Q6J("ngForOf",n.roleOptions),_.xp6(5),_.hij(" ",_.lcZ(24,37,"Start Date")," "),_.xp6(3),_.Q6J("value",n.form.startTime),_.xp6(4),_.hij(" ",_.lcZ(31,39,"End Date")," "),_.xp6(3),_.Q6J("value",n.form.startTime),_.xp6(6),_.hij(" ",_.lcZ(40,41,"Vehicle")," "),_.xp6(3),_.Q6J("ngModel",n.form.role),_.xp6(1),_.Q6J("ngForOf",n.roleOptions),_.xp6(6),_.hij(" ",_.lcZ(50,43,"First Name")," "),_.xp6(3),_.Q6J("ngModel",n.form.firstName),_.xp6(2),_.Q6J("ngIf",i.invalid&&(i.dirty||i.touched)),_.xp6(4),_.hij(" ",_.lcZ(59,45,"Last Name")," "),_.xp6(3),_.Q6J("ngModel",n.form.lastName),_.xp6(2),_.Q6J("ngIf",l.invalid&&(l.dirty||l.touched)),_.xp6(5),_.hij(" ",_.lcZ(69,47,"Identity Type")," "),_.xp6(3),_.Q6J("ngModel",n.form.identityType),_.xp6(2),_.Oqu(_.lcZ(74,49,"Select")),_.xp6(2),_.Q6J("ngForOf",n.identityTypeOptions),_.xp6(4),_.hij(" ",_.lcZ(80,51,"Identity No.")," "),_.xp6(3),_.Q6J("ngModel",n.form.identityNo),_.xp6(5),_.hij(" ",_.lcZ(88,53,"Email Address")," "),_.xp6(4),_.Q6J("ngModel",n.form.email),_.xp6(2),_.Q6J("ngIf",u.invalid&&(u.dirty||u.touched)),_.xp6(4),_.hij(" ",_.lcZ(98,55,"Mobile No.")," "),_.xp6(8),_.Q6J("ngModel",n.form.mobile),_.xp6(2),_.Q6J("ngIf",K.invalid&&(K.dirty||K.touched)),_.xp6(4),_.hij(" ",_.lcZ(112,57,"Renew")," "),_.xp6(4),_.hij(" ",_.lcZ(116,59,"Cancel")," "),_.xp6(3),_.hij(" ",_.lcZ(119,61,"Submit")," ")}},dependencies:[o.sg,o.O5,p._Y,p.YN,p.Kr,p.Fj,p.EJ,p.JJ,p.JL,p.Q7,p.On,p.F,O_.J,L.X$],encapsulation:2}),t})();function en(t,s){1&t&&(_.TgZ(0,"ul",7)(1,"li",8)(2,"a",9),_._UZ(3,"i",10),_.TgZ(4,"span"),_._uU(5,"Delete Season Parking"),_.qZA()()()())}let nn=(()=>{class t{constructor(e){this.router=e,this.breadcrumbs=[{text:"Season Parking"},{text:"Edit Season Parking"}]}cancel(){}submit(){}}return t.\u0275fac=function(e){return new(e||t)(_.Y36(g.F0))},t.\u0275cmp=_.Xpm({type:t,selectors:[["app-season-edit"]],decls:8,vars:0,consts:[[1,"body-wrapper"],["dropdown","",1,"m-dropdown","m-dropdown--inline"],["dropdownToggle","",1,"btn","btn-outline-main","m-btn","m-btn--icon","m-btn--icon-only","m-btn--custom","m-btn--pill","m-btn--air"],[1,"la","la-ellipsis-h"],["class","dropdown-menu dropdown-menu-right","role","menu",4,"dropdownMenu"],[1,"m-content"],[3,"canceled","submitted"],["role","menu",1,"dropdown-menu","dropdown-menu-right"],["role","menuitem"],["routerLink","/vehicles/normal/create",1,"dropdown-item"],[1,"la","la-trash"]],template:function(e,n){1&e&&(_.TgZ(0,"div",0)(1,"app-title-bar")(2,"div",1)(3,"button",2),_._UZ(4,"i",3),_.qZA(),_.YNc(5,en,6,0,"ul",4),_.qZA()(),_.TgZ(6,"div",5)(7,"app-season-edit-form",6),_.NdJ("canceled",function(){return n.cancel()})("submitted",function(){return n.submit()}),_.qZA()()())},dependencies:[g.yS,M.G,Y.Hz,Y.Mq,Y.TO,_n],encapsulation:2}),t})();function tn(t,s){if(1&t&&(_._UZ(0,"nz-option",13),_.ALo(1,"titlecase")),2&t){const e=s.$implicit;_.Q6J("nzValue",e.value)("nzLabel",_.lcZ(1,2,e.value))}}function an(t,s){if(1&t){const e=_.EpF();_.TgZ(0,"div",7)(1,"div",8)(2,"span",9),_._uU(3),_.ALo(4,"translate"),_.qZA(),_.TgZ(5,"nz-select",10),_.NdJ("ngModelChange",function(i){_.CHM(e);const l=_.oxw();return _.KtG(l.vehicleType=i)})("ngModelChange",function(){_.CHM(e);const i=_.oxw();return _.KtG(i.reloadData())}),_._UZ(6,"nz-option",11),_.ALo(7,"translate"),_.YNc(8,tn,2,4,"nz-option",12),_.ALo(9,"async"),_.qZA()()()}if(2&t){const e=_.oxw();_.xp6(3),_.hij("",_.lcZ(4,4,"Vehicle Type"),":"),_.xp6(2),_.Q6J("ngModel",e.vehicleType),_.xp6(1),_.Q6J("nzLabel",_.lcZ(7,6,"All")),_.xp6(2),_.Q6J("ngForOf",_.lcZ(9,8,e.vehicleTypes$))}}function on(t,s){if(1&t&&_._UZ(0,"nz-option",13),2&t){const e=s.$implicit;_.Q6J("nzValue",e.id)("nzLabel",e.name)}}function rn(t,s){if(1&t){const e=_.EpF();_.TgZ(0,"div",7)(1,"div",8)(2,"span",9),_._uU(3),_.ALo(4,"translate"),_.qZA(),_.TgZ(5,"nz-select",14),_.NdJ("ngModelChange",function(i){_.CHM(e);const l=_.oxw();return _.KtG(l.carParkId=i)})("ngModelChange",function(){_.CHM(e);const i=_.oxw();return _.KtG(i.reloadData())}),_.YNc(6,on,1,2,"nz-option",12),_.ALo(7,"async"),_.qZA()()()}if(2&t){const e=_.oxw();_.xp6(3),_.hij("",_.lcZ(4,5,"Car Park"),":"),_.xp6(2),_.Q6J("ngModel",e.carParkId)("nzLoading",e.carParkLoading)("nzDropdownMatchSelectWidth",!1),_.xp6(1),_.Q6J("ngForOf",_.lcZ(7,7,e.carParks$))}}function ln(t,s){if(1&t){const e=_.EpF();_.TgZ(0,"div",7)(1,"div",8)(2,"span",9),_._uU(3),_.ALo(4,"translate"),_.qZA(),_.TgZ(5,"input",15),_.NdJ("ngModelChange",function(i){_.CHM(e);const l=_.oxw();return _.KtG(l.keyword=i)})("ngModelChange",function(i){_.CHM(e);const l=_.oxw();return _.KtG(l.keyword$.next(i))}),_.qZA()()()}if(2&t){const e=_.oxw();_.xp6(3),_.hij("",_.lcZ(4,2,"Vehicle No."),":"),_.xp6(2),_.Q6J("ngModel",e.keyword)}}function cn(t,s){if(1&t&&_._uU(0),2&t){const e=s.range;_.lnq(" ",e[0],"-",e[1]," of ",s.$implicit," items\n")}}function sn(t,s){if(1&t&&(_.TgZ(0,"th"),_._uU(1),_.qZA()),2&t){const e=s.$implicit;_.xp6(1),_.Oqu(e.text)}}function pn(t,s){if(1&t&&(_.TgZ(0,"td")(1,"span",22),_._uU(2),_.ALo(3,"seasonStatus"),_.ALo(4,"lowercase"),_.qZA()()),2&t){const e=_.oxw().$implicit,n=_.oxw();_.xp6(1),_.Q6J("ngClass",n.statusColor(e.status)),_.xp6(1),_.hij(" ",_.lcZ(3,2,_.lcZ(4,4,e.status))," ")}}function gn(t,s){if(1&t){const e=_.EpF();_.TgZ(0,"li",27),_.NdJ("click",function(){_.CHM(e);const i=_.oxw(2).$implicit,l=_.oxw();return _.KtG(l.gotoSeasonParkingDetailpage(i))}),_._UZ(1,"span",28),_._uU(2),_.ALo(3,"translate"),_.qZA()}2&t&&(_.xp6(2),_.hij(" ",_.lcZ(3,1,"Season Group")," "))}function un(t,s){if(1&t){const e=_.EpF();_.TgZ(0,"td")(1,"button",23),_._UZ(2,"i",24),_.qZA(),_.TgZ(3,"nz-dropdown-menu",null,25)(5,"ul",26)(6,"li",27),_.NdJ("click",function(){_.CHM(e);const i=_.oxw().$implicit,l=_.oxw();return _.KtG(l.downloadPdf(i))}),_._UZ(7,"span",28),_._uU(8),_.ALo(9,"translate"),_.qZA(),_.YNc(10,gn,4,3,"li",29),_.qZA()()()}if(2&t){const e=_.MAs(4),n=_.oxw().$implicit;_.xp6(1),_.Q6J("nzDropdownMenu",e)("nzPlacement","topCenter"),_.xp6(7),_.hij(" ",_.lcZ(9,4,"Download E-receipt")," "),_.xp6(2),_.Q6J("ngIf",n.allowGroupSeason)}}function dn(t,s){if(1&t&&(_.TgZ(0,"td"),_._uU(1),_.qZA()),2&t){const e=_.oxw().$implicit;_.xp6(1),_.Oqu("groupSeason"===e.type?"Group":"")}}function mn(t,s){1&t&&(_.TgZ(0,"th"),_._uU(1),_.ALo(2,"translate"),_.qZA()),2&t&&(_.xp6(1),_.Oqu(_.lcZ(2,1," Season Group ")))}function En(t,s){if(1&t){const e=_.EpF();_.ynx(0),_.TgZ(1,"tr")(2,"td",16),_.NdJ("nzExpandChange",function(i){const u=_.CHM(e).$implicit,K=_.oxw();return _.KtG(K.onExpandChange(u.applicationCode,i))}),_.qZA(),_.TgZ(3,"td")(4,"span"),_._UZ(5,"img",17),_.qZA(),_.TgZ(6,"span",18),_._uU(7),_.qZA()(),_.TgZ(8,"td"),_._uU(9),_.ALo(10,"date"),_.qZA(),_.TgZ(11,"td"),_._uU(12),_.ALo(13,"date"),_.qZA(),_.TgZ(14,"td"),_._uU(15),_.qZA(),_.TgZ(16,"td"),_._uU(17),_.qZA(),_.YNc(18,pn,5,6,"td",19),_.YNc(19,un,11,6,"td",19),_.YNc(20,dn,2,1,"td",19),_.qZA(),_.TgZ(21,"tr",20)(22,"nz-table",21)(23,"thead")(24,"tr")(25,"th"),_._uU(26),_.ALo(27,"translate"),_.qZA(),_.TgZ(28,"th"),_._uU(29),_.ALo(30,"translate"),_.qZA(),_.TgZ(31,"th"),_._uU(32),_.ALo(33,"translate"),_.qZA(),_.YNc(34,mn,3,3,"th",19),_.qZA()(),_.TgZ(35,"tbody")(36,"tr")(37,"td"),_._uU(38),_.qZA(),_.TgZ(39,"td"),_._uU(40),_.qZA(),_.TgZ(41,"td"),_._uU(42),_.qZA(),_.TgZ(43,"td"),_._uU(44),_.qZA()()()()(),_.BQk()}if(2&t){const e=s.$implicit,n=s.index,i=_.oxw();_.xp6(1),_.ekj("ant-table-row-odd",n%2==1),_.xp6(1),_.Q6J("nzExpand",i.expandSet.has(e.applicationCode)),_.xp6(3),_.Q6J("src",i.vehicleIcon(null==e.vehicle?null:e.vehicle.vehicleType),_.LSH),_.xp6(2),_.hij(" ",null==e.vehicle?null:e.vehicle.vehicleNumber," "),_.xp6(2),_.Oqu(_.xi3(10,22,null==e.startDate?null:e.startDate.split("T")[0],"d LLL yyyy")),_.xp6(3),_.Oqu(_.xi3(13,25,null==e.endDate?null:e.endDate.split("T")[0],"d LLL yyyy")),_.xp6(3),_.Oqu(e.zone),_.xp6(2),_.Oqu(e.autoRenewFlag?"ON":"OFF"),_.xp6(1),_.Q6J("ngIf",i.isMotorist),_.xp6(1),_.Q6J("ngIf",i.isMotorist),_.xp6(1),_.Q6J("ngIf",i.isMotorist),_.xp6(1),_.Q6J("nzExpand",i.expandSet.has(e.applicationCode)),_.xp6(1),_.Q6J("nzShowPagination",!1),_.xp6(4),_.Oqu(_.lcZ(27,28,"Identity Type")),_.xp6(3),_.Oqu(_.lcZ(30,30,"Identity No.")),_.xp6(3),_.Oqu(_.lcZ(33,32,"Email Address")),_.xp6(2),_.Q6J("ngIf",e.allowGroupSeason),_.xp6(4),_.Oqu(e.identityType||"-"),_.xp6(2),_.Oqu(e.identityNo),_.xp6(2),_.Oqu((null==e.driver?null:e.driver.email)||"-"),_.xp6(2),_.Oqu(e.groupVehicles)}}let Mn=(()=>{class t extends y.t{constructor(e,n,i,l,u){super(),this.router=e,this.seasonParkingService=n,this.carParkService=i,this.codeTablesService=l,this.translate=u,this.SeasonHeaders=[{text:"Vehicle No.",column:"vehicle",width:"120px"},{text:"Start Date",column:"startDate",width:"120px"},{text:"End Date",column:"endDate",width:"120px"},{text:"Zone",column:"carPark",width:"80px"},{text:"Auto Renew",column:"carPark",width:"120px"}],this.tableHeaders=this.isMotorist?[...this.SeasonHeaders,{text:"Status",width:"80px"},{text:"Actions",width:"80px"},{text:"",width:"60px"}]:this.SeasonHeaders,this.vehicleType="",this.keyword$=new W.xQ,this.vehicleIcon=C.mts,this.expandSet=new Set,this.carParkInput$=new W.xQ}get filterParams(){return{vehicleType:this.vehicleType,carParkId:this.carParkId,keyword:this.keyword}}reloadData(){this.reloadDataService(this.seasonParkingService)}pageChanged(e){this.pagination=e,this.reloadData()}getDriverNumber(e){return e?`${e.mobile.countryCode||""} ${e.mobile.number}`.trim():""}getIdentity(e){e.applicationCode&&!e._expandLoaded&&this.seasonParkingService.getIdentity(e.applicationCode).subscribe(n=>{e.identityNo=n.companyName||n.staffStudentId,e.identityType=n.identityType,e._expandLoaded=!0})}statusColor(e){switch(e.toLowerCase()){case"active":return"status-green";case"expired":return"status-blue"}}ngOnDestroy(){this.keywordListener?.unsubscribe()}ngOnInit(){this.keywordListener=this.keyword$?.debounceTime(500).subscribe(()=>{this.reloadData()}),this.vehicleTypes$=this.codeTablesService.filterModelByType(C.BcL.VehicleType),this.reloadData(),this.carParks$=this.carParkInput$.pipe((0,H.O)(""),(0,Q.b)(200),(0,G.x)(),(0,S.b)(()=>this.carParkLoading=!0),(0,q.w)(n=>this.carParkService.getSimpleList(n).pipe((0,S.b)(()=>this.carParkLoading=!1))));const e=this.tableHeaders.map(n=>n.text);this.translate.get(e).subscribe(n=>{this.tableHeaders.forEach(i=>{for(let l in n)n.hasOwnProperty(l)&&i.text===l&&(i.text=n[l])})}),setTimeout(()=>{console.log(this.listData)},3e3)}get isMotorist(){return this.carParkService.isMotorist()}get isOwner(){return this.carParkService.isOwner()}downloadPdf(e){this.seasonParkingService.downloadSessonPdf(e.applicationCode).subscribe(n=>{(0,m_.saveAs)(n,e.applicationCode)})}gotoSeasonParkingDetailpage(e){this.router.navigate(["/season-parking-motorist/season-parking-detail"]),this.seasonParkingService.$seasonData.next({type:j.P.Detail_SEASON_GROUP,data:e})}onExpandChange(e,n){if(n){this.expandSet.add(e);const i=this.listData.find(l=>l.applicationCode===e);this.getIdentity(i)}else this.expandSet.delete(e)}}return t.\u0275fac=function(e){return new(e||t)(_.Y36(g.F0),_.Y36(B.C),_.Y36(f.x),_.Y36(v.I),_.Y36(L.sK))},t.\u0275cmp=_.Xpm({type:t,selectors:[["app-season-season"]],features:[_.qOj],decls:14,vars:13,consts:[[1,"form-group","m-form__group","m-portlet__filters"],["class","filter-wrap",4,"ngIf"],["rangeTemplate",""],[3,"nzData","nzFrontPagination","nzLoading","nzTotal","nzPageSize","nzPageIndex","nzShowSizeChanger","nzShowTotal","nzQueryParams"],["basicTable",""],["nzWidth","60px"],[4,"ngFor","ngForOf"],[1,"filter-wrap"],[1,"filter-item"],[1,"filter-label"],["name","vehicle",2,"width","160px",3,"ngModel","ngModelChange"],["nzValue","",3,"nzLabel"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[3,"nzValue","nzLabel"],["nzPlaceHolder","Please Select",2,"width","160px",3,"ngModel","nzLoading","nzDropdownMatchSelectWidth","ngModelChange"],["nz-input","","type","text","placeholder","Vehicle No.",2,"width","160px",3,"ngModel","ngModelChange"],[3,"nzExpand","nzExpandChange"],["alt","",3,"src"],[1,"text-uppercase"],[4,"ngIf"],[3,"nzExpand"],["nzSize","small","nzTemplateMode","",3,"nzShowPagination"],[1,"table-group",3,"ngClass"],["nz-dropdown","","nzTrigger","click",1,"btn","btn-outline-primary","m-btn","m-btn--icon","m-btn--icon-only","m-btn--custom","m-btn--outline-2x","m-btn--pill","no-border",3,"nzDropdownMenu","nzPlacement"],[1,"la","la-ellipsis-h"],["menu","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","",3,"click"],[1,"la","la-download",2,"margin-right","4px"],["nz-menu-item","",3,"click",4,"ngIf"]],template:function(e,n){if(1&e&&(_.TgZ(0,"div",0),_.YNc(1,an,10,10,"div",1),_.YNc(2,rn,8,9,"div",1),_.YNc(3,ln,6,4,"div",1),_.qZA(),_.YNc(4,cn,1,3,"ng-template",null,2,_.W1O),_.TgZ(6,"nz-table",3,4),_.NdJ("nzQueryParams",function(l){return n.onQueryParamsChange(l)}),_.TgZ(8,"thead")(9,"tr"),_._UZ(10,"th",5),_.YNc(11,sn,2,1,"th",6),_.qZA()(),_.TgZ(12,"tbody"),_.YNc(13,En,45,34,"ng-container",6),_.qZA()()),2&e){const i=_.MAs(5),l=_.MAs(7);_.xp6(1),_.Q6J("ngIf",!n.isOwner&&!n.isMotorist),_.xp6(1),_.Q6J("ngIf",!n.isOwner&&!n.isMotorist),_.xp6(1),_.Q6J("ngIf",!n.isMotorist),_.xp6(3),_.Q6J("nzData",n.listData)("nzFrontPagination",!1)("nzLoading",n.loading)("nzTotal",n.pagination.totalCount)("nzPageSize",n.pagination.rowsPerPage)("nzPageIndex",n.pagination.page)("nzShowSizeChanger",!0)("nzShowTotal",i),_.xp6(5),_.Q6J("ngForOf",n.tableHeaders),_.xp6(2),_.Q6J("ngForOf",l.data)}},dependencies:[o.mk,o.sg,o.O5,p.Fj,p.JJ,p.On,R.Zp,e_.wO,e_.r9,n_.cm,n_.RR,t_.w,x.Ip,x.Vq,A.N8,A.Uo,A._C,A.h7,A.Om,A.p0,A.$Z,A.d3,A.Vk,o.Ov,o.i8,o.rS,o.uU,L.X$,E_.Eb],styles:[".tabel-group[_ngcontent-%COMP%]{font-weight:500}  .m-datatable.m-datatable--default>.m-datatable__table>.m-datatable__body .m-datatable__row>.m-datatable__cell>span.status-green{color:#01bbb3}  .m-datatable.m-datatable--default>.m-datatable__table>.m-datatable__body .m-datatable__row>.m-datatable__cell>span.status-blue{color:#e22c0c}"]}),t})();var On=a(21532);const Pn=function(){return["create/application"]};function Dn(t,s){1&t&&(_.TgZ(0,"a",6)(1,"span"),_._UZ(2,"i",7),_.TgZ(3,"span"),_._uU(4," Create Season Application "),_.qZA()()()),2&t&&_.Q6J("routerLink",_.DdM(1,Pn))}function Cn(t,s){if(1&t&&_.YNc(0,Dn,5,2,"a",5),2&t){const e=_.oxw();_.Q6J("ngIf",e.isApplication)}}function hn(t,s){1&t&&_._UZ(0,"div",8)}const P_=function(){return["season"]},D_=function(){return["applications"]};function An(t,s){1&t&&(_.TgZ(0,"div",13)(1,"div",14)(2,"ul",15)(3,"li",16)(4,"a",17),_._uU(5),_.ALo(6,"translate"),_.qZA()(),_.TgZ(7,"li",16)(8,"a",17),_._uU(9),_.ALo(10,"translate"),_.qZA()()()()()),2&t&&(_.xp6(4),_.Q6J("routerLink",_.DdM(10,P_))("routerLinkActive","active"),_.xp6(1),_.hij(" ",_.lcZ(6,6,"Active Season Parking")," "),_.xp6(3),_.Q6J("routerLink",_.DdM(11,D_))("routerLinkActive","active"),_.xp6(1),_.hij(" ",_.lcZ(10,8,"Pending Applications")," "))}function Tn(t,s){if(1&t&&(_.TgZ(0,"div")(1,"div",9)(2,"div",10),_.YNc(3,An,11,12,"div",11),_.TgZ(4,"div")(5,"div",12),_._UZ(6,"router-outlet"),_.qZA()()()()()),2&t){const e=_.oxw();_.xp6(3),_.Q6J("ngIf",e.onCheckShowTabs()),_.xp6(1),_.Tol(e.onCheckShowTabs()?"m-portlet__body m-portlet__body--scrollable":"m-portlet__body m-portlet__body--scrollable p-0")}}function fn(t,s){1&t&&(_.TgZ(0,"span"),_._uU(1,"Season Parking"),_.qZA())}function vn(t,s){1&t&&_._uU(0,"Member")}const Un=function(){return["vehicle-change"]};function Ln(t,s){1&t&&(_.TgZ(0,"li",16)(1,"a",17),_._uU(2," Change Vehicle "),_.qZA()()),2&t&&(_.xp6(1),_.Q6J("routerLink",_.DdM(2,Un))("routerLinkActive","active"))}const In=function(){return["form-termination"]};function Zn(t,s){1&t&&(_.TgZ(0,"li",16)(1,"a",17),_._uU(2," Termination Form "),_.qZA()()),2&t&&(_.xp6(1),_.Q6J("routerLink",_.DdM(2,In))("routerLinkActive","active"))}function Rn(t,s){if(1&t&&(_.TgZ(0,"div",13)(1,"div",14)(2,"ul",15)(3,"li",16)(4,"a",17),_.YNc(5,fn,2,0,"span",3),_.YNc(6,vn,1,0,"ng-template",null,18,_.W1O),_.qZA()(),_.TgZ(8,"li",16)(9,"a",17),_._uU(10," Applications "),_.qZA()(),_.YNc(11,Ln,3,3,"li",19),_.YNc(12,Zn,3,3,"li",19),_.qZA()()()),2&t){const e=_.MAs(7),n=_.oxw(2);_.xp6(4),_.Q6J("routerLink",_.DdM(8,P_))("routerLinkActive","active"),_.xp6(1),_.Q6J("ngIf",!n.isEvOwner)("ngIfElse",e),_.xp6(4),_.Q6J("routerLink",_.DdM(9,D_))("routerLinkActive","active"),_.xp6(2),_.Q6J("ngIf",!n.isOwner),_.xp6(1),_.Q6J("ngIf",!n.isOwner)}}function xn(t,s){if(1&t&&(_.TgZ(0,"div",9)(1,"div",10),_.YNc(2,Rn,13,10,"div",11),_.TgZ(3,"div")(4,"div",12),_._UZ(5,"router-outlet"),_.qZA()()()()),2&t){const e=_.oxw();_.xp6(2),_.Q6J("ngIf",e.onCheckShowTabs()),_.xp6(1),_.Tol(e.onCheckShowTabs()?"m-portlet__body m-portlet__body--scrollable":"m-portlet__body m-portlet__body--scrollable p-0")}}let Kn=(()=>{class t{constructor(e,n,i,l,u){this.router=e,this.route=n,this.translate=i,this.carparkService=l,this.vehicleService=u}get isApplication(){return!this.isOperator&&"/season-parking-motorist/applications"===this.router.url}get isCarPark(){return"/season-parking-motorist/car-park"===this.router.url}get isSeason(){return"/season-parking-motorist/season"===this.router.url}get isAdminSeason(){return"/season-parking/applications"==this.router.url||"/season-parking/form-termination"==this.router.url||"/season-parking/vehicle-change"==this.router.url||"/season-parking/season"==this.router.url}get isEvOwner(){return["/evowner-season-parking/applications","/evowner-season-parking/form-termination","/evowner-season-parking/vehicle-change","/evowner-season-parking/season"].includes(this.router.url)}onCheckShowTabs(){return!!(this.isApplication||this.isCarPark||this.isSeason||this.isAdminSeason||this.isEvOwner)}get isMotorist(){return this.carparkService.isMotorist()}get isOperator(){return this.vehicleService.isOperator()}get isOwner(){return this.carparkService.isOwner()}}return t.\u0275fac=function(e){return new(e||t)(_.Y36(g.F0),_.Y36(g.gz),_.Y36(L.sK),_.Y36(f.x),_.Y36(U.f))},t.\u0275cmp=_.Xpm({type:t,selectors:[["app-season-home"]],features:[_._Bn([{provide:Y.fc,useValue:{isAnimated:!0,autoClose:!0}}])],decls:8,vars:4,consts:[[1,"body-wrapper"],["otherRoles",""],["class","btn-group","dropdown","",4,"ngIf","ngIfElse"],[4,"ngIf","ngIfElse"],["otherHeader",""],["class","btn btn-main m-btn m-btn--custom m-btn--icon m-btn--air m-btn--pill",3,"routerLink",4,"ngIf"],[1,"btn","btn-main","m-btn","m-btn--custom","m-btn--icon","m-btn--air","m-btn--pill",3,"routerLink"],[1,"la","la-plus"],["dropdown","",1,"btn-group"],[1,"m-content"],[1,"m-portlet","m-portlet--tabs"],["class","m-portlet__head",4,"ngIf"],[1,"portlet__frame"],[1,"m-portlet__head"],[1,"m-portlet__head-tools"],["role","tablist",1,"nav","nav-tabs","m-tabs-line","m-tabs-line--primary","m-tabs-line--2x"],[1,"nav-item","m-tabs__item"],[1,"nav-link","m-tabs__link",3,"routerLink","routerLinkActive"],["evOwner",""],["class","nav-item m-tabs__item",4,"ngIf"]],template:function(e,n){if(1&e&&(_.TgZ(0,"div",0)(1,"app-title-bar"),_.YNc(2,Cn,1,1,"ng-template",null,1,_.W1O),_.YNc(4,hn,1,0,"div",2),_.qZA(),_.YNc(5,Tn,7,3,"div",3),_.YNc(6,xn,6,3,"ng-template",null,4,_.W1O),_.qZA()),2&e){const i=_.MAs(3),l=_.MAs(7);_.xp6(4),_.Q6J("ngIf",n.isMotorist)("ngIfElse",i),_.xp6(1),_.Q6J("ngIf",n.isMotorist)("ngIfElse",l)}},dependencies:[o.O5,g.lC,g.yS,g.Od,M.G,Y.TO,L.X$],styles:[".btn-group[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:not(:last-child):not(.dropdown-toggle){border-radius:60px!important}.dropdown-right[_ngcontent-%COMP%]{left:auto!important;right:0!important}"]}),t})();var Bn=a(80529),Wn=a(19832),C_=a(19690),h_=a(82174),bn=a(61643);let wn=(()=>{class t{constructor(){this.iconSize="size-md",this.avatarColumn=4,this.thumbnail=!1}get availableStatus(){return(0,C_.TR)(this.item)}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_.Xpm({type:t,selectors:[["app-season-card"]],inputs:{item:"item",flat:"flat",iconSize:"iconSize",avatarColumn:"avatarColumn",thumbnail:"thumbnail"},decls:16,vars:10,consts:[[1,"right-top-conner"],[1,"fa","fa-exclamation"],[1,"row"],[1,"col-4","image"],[1,"text","flex-column","col-8"],[1,"title","m--marginless"],[1,"m--marginless","name"],[1,"m--marginless","status"],[1,"status-button"]],template:function(e,n){1&e&&(_.TgZ(0,"div")(1,"div",0),_._UZ(2,"i",1),_.qZA(),_.TgZ(3,"div",2),_._UZ(4,"div",3),_.TgZ(5,"div",4)(6,"h5",5),_._uU(7),_.qZA(),_.TgZ(8,"div")(9,"p",6),_._uU(10),_.qZA(),_.TgZ(11,"p",7),_._uU(12),_.qZA()(),_.TgZ(13,"div",8)(14,"span"),_._uU(15),_.qZA()()()()()),2&e&&(_.Gre("car-park-info-wrapper ",n.availableStatus.trim().toLowerCase(),""),_.xp6(4),_.Udp("background-image","url("+((null==n.item.images[0]?null:n.item.images[0].carParkImage)||"assets/app/media/img/icons/park-placeholder.png")+")"),_.xp6(3),_.Oqu(n.item.carParkCode),_.xp6(3),_.Oqu(n.item.name),_.xp6(2),_.AsE("",(null==n.item.live?null:n.item.live.availableLots)||"-"," / ",n.item.totalLots,""),_.xp6(3),_.Oqu(n.availableStatus))},styles:[".car-park-info-wrapper[_ngcontent-%COMP%]{position:relative;height:150px;width:265px;border-radius:8px;box-shadow:0 1px 15px #45414e14;background-color:#fff;overflow:hidden}.car-park-info-wrapper[_ngcontent-%COMP%]   .right-top-conner[_ngcontent-%COMP%]{position:absolute;right:0;top:0;border-color:transparent #0cc4e2 transparent transparent;border-width:0 30px 30px 0;border-style:solid;width:0;height:0}.car-park-info-wrapper[_ngcontent-%COMP%]   .right-top-conner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff;font-size:14px;transform:translate(18px)}.car-park-info-wrapper[_ngcontent-%COMP%] > div.row[_ngcontent-%COMP%]{height:150px}.car-park-info-wrapper[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{padding-right:0;background-position:center;background-repeat:no-repeat;background-size:cover}.car-park-info-wrapper[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px;font-family:Montserrat}.car-park-info-wrapper[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:17px;font-weight:600}.car-park-info-wrapper[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   p.name[_ngcontent-%COMP%]{color:#9195a9}.car-park-info-wrapper[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   p.status[_ngcontent-%COMP%]{color:#0cc4e2;font-weight:600}.car-park-info-wrapper[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .status-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:3px 20px;border-radius:12px;background-color:#ebedf2;color:#0cc4e2;font-weight:600}.car-park-info-wrapper.full[_ngcontent-%COMP%]   .right-top-conner[_ngcontent-%COMP%]{border-color:transparent #f4516c transparent transparent}.car-park-info-wrapper.full[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   p.status[_ngcontent-%COMP%], .car-park-info-wrapper.full[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .status-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#f4516c}.car-park-info-wrapper.almost[_ngcontent-%COMP%]   .right-top-conner[_ngcontent-%COMP%]{border-color:transparent #ffb822 transparent transparent}.car-park-info-wrapper.almost[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   p.status[_ngcontent-%COMP%], .car-park-info-wrapper.almost[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .status-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ffb822}.car-park-info-wrapper.unavailable[_ngcontent-%COMP%]   .right-top-conner[_ngcontent-%COMP%]{border-color:transparent #868aa8 transparent transparent}.car-park-info-wrapper.unavailable[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   p.status[_ngcontent-%COMP%], .car-park-info-wrapper.unavailable[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .status-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#868aa8}"]}),t})();function yn(t,s){if(1&t&&_._UZ(0,"app-season-card",12),2&t){const e=_.oxw().$implicit;_.Q6J("thumbnail",!1)("item",e)("flat",!0)}}const Nn=function(t){return{url:t}};function Sn(t,s){if(1&t){const e=_.EpF();_.TgZ(0,"agm-marker",9),_.NdJ("markerClick",function(){const l=_.CHM(e).$implicit,u=_.oxw(2);return _.KtG(u.clickedMarker(l))}),_.TgZ(1,"agm-snazzy-info-window",10,11),_.YNc(3,yn,1,3,"ng-template"),_.qZA()()}if(2&t){const e=s.$implicit,n=_.oxw(2);_.Q6J("latitude",e.geopoint.lat)("longitude",e.geopoint.lng)("iconUrl",_.VKq(9,Nn,"./assets/app/media/img/icons/car-park-"+n.getStatus(e).replace(" ","").toLowerCase()+".png")),_.xp6(1),_.Q6J("closeOnMapClick",!0)("showCloseButton",!1)("longitude",e.geopoint.lng)("closeWhenOthersOpen",!0)("latitude",e.geopoint.lat)("isOpen",n.isInfoWindowOpen(e.id))}}function kn(t,s){if(1&t&&(_.TgZ(0,"div",55),_._uU(1),_.qZA()),2&t){const e=s.$implicit;_.xp6(1),_.Oqu(e.name)}}function qn(t,s){if(1&t){const e=_.EpF();_.TgZ(0,"div",28)(1,"div",29)(2,"div",30)(3,"div",31)(4,"div",32),_._UZ(5,"img",33),_.qZA()(),_.TgZ(6,"div",34)(7,"h5",35),_._uU(8),_.qZA(),_.TgZ(9,"div",36)(10,"span",37),_._uU(11),_.qZA(),_.TgZ(12,"span",38),_._uU(13,"$ 120"),_.qZA()(),_.TgZ(14,"div",39)(15,"button",40),_.NdJ("click",function(){_.CHM(e);const i=_.oxw(4);return _.KtG(i.onNavigateToNewApplication(i.carparkDetails))}),_._uU(16," Apply Season Parking "),_.qZA()(),_.TgZ(17,"div",41)(18,"div"),_._uU(19," Manually Payment "),_.qZA(),_.TgZ(20,"div"),_._UZ(21,"i",42),_._uU(22),_.qZA(),_.TgZ(23,"div"),_._UZ(24,"i",43),_._uU(25),_.qZA()()()()(),_.TgZ(26,"div",44)(27,"div",30)(28,"div",45),_._uU(29,"Carpark Lots"),_.qZA(),_.TgZ(30,"div",46)(31,"div",30)(32,"div",47)(33,"div",48),_._uU(34,"Total"),_.qZA(),_.TgZ(35,"h6",49),_._uU(36),_.qZA()(),_.TgZ(37,"div",50)(38,"div",48),_._uU(39,"Available"),_.qZA(),_.TgZ(40,"h6",51),_._uU(41),_.qZA()(),_.TgZ(42,"div",50)(43,"div",48),_._uU(44,"Season"),_.qZA(),_.TgZ(45,"h6",51),_._uU(46),_.qZA()(),_.TgZ(47,"div",50)(48,"div",48),_._uU(49,"Normal"),_.qZA(),_.TgZ(50,"h6",51),_._uU(51),_.qZA()(),_.TgZ(52,"div",50)(53,"div",48),_._uU(54,"Booked"),_.qZA(),_.TgZ(55,"h6",51),_._uU(56),_.qZA()()()()(),_.TgZ(57,"div",52)(58,"div",45),_._uU(59,"Stations"),_.qZA(),_.TgZ(60,"div",53),_.YNc(61,kn,2,1,"div",54),_.qZA()()()()}if(2&t){const e=_.oxw(4);_.xp6(5),_.Q6J("src",e.carparkDetails.images[0].carParkImage,_.LSH),_.xp6(3),_.Oqu(e.carparkDetails.name),_.xp6(3),_.hij(" Zone ",e.carparkDetails.carParkGroupId," "),_.xp6(11),_.hij(" ",e.carparkDetails.address.address," "),_.xp6(3),_.hij(" Open ",e.carparkDetails.openingHourDisplay," "),_.xp6(11),_.Oqu(e.carparkDetails.totalLots),_.xp6(5),_.Oqu(null==e.carparkDetails.live?null:e.carparkDetails.live.availableLots),_.xp6(5),_.Oqu(e.carparkDetails.seasonLots||0),_.xp6(5),_.Oqu(e.getNormalLots(e.carparkDetails)),_.xp6(5),_.Oqu(e.carparkDetails.bookingLots),_.xp6(5),_.Q6J("ngForOf",e.carparkDetails.stations)}}function zn(t,s){if(1&t&&(_.TgZ(0,"div",26)(1,"div"),_.YNc(2,qn,62,11,"div",27),_.qZA()()),2&t){const e=_.oxw(3);_.xp6(2),_.Q6J("ngIf","default"===e.selectedTab)}}const Jn=function(t){return{active:t}};function Fn(t,s){if(1&t){const e=_.EpF();_.TgZ(0,"div",13)(1,"div",14)(2,"div",15)(3,"div",16)(4,"div",17)(5,"span",18),_._UZ(6,"i",19),_.qZA(),_.TgZ(7,"span",20),_.NdJ("click",function(){_.CHM(e);const i=_.oxw(2);return _.KtG(i.togglePanel=!i.togglePanel)}),_._UZ(8,"i",21),_.qZA()(),_.TgZ(9,"ul",22)(10,"li",23)(11,"a",24),_.NdJ("click",function(){_.CHM(e);const i=_.oxw(2);return _.KtG(i.handleTabChange("default"))}),_._uU(12),_.qZA()()()()(),_.YNc(13,zn,3,1,"div",25),_.qZA()()}if(2&t){const e=_.oxw(2);_.xp6(5),_.Q6J("routerLink","./"+e.carparkDetails.id+"/transactions"),_.xp6(6),_.Q6J("ngClass",_.VKq(4,Jn,"default"===e.selectedTab)),_.xp6(1),_.hij(" ",e.carparkDetails.name," "),_.xp6(1),_.Q6J("ngIf",!e.togglePanel)}}function Qn(t,s){if(1&t&&(_.TgZ(0,"div",5)(1,"agm-map",6),_.YNc(2,Sn,4,11,"agm-marker",7),_.qZA(),_.YNc(3,Fn,14,6,"div",8),_.qZA()),2&t){const e=_.oxw();_.xp6(1),_.Q6J("longitude",e.longitude)("latitude",e.latitude)("zoom",13)("disableDefaultUI",!1)("zoomControl",!0),_.xp6(1),_.Q6J("ngForOf",e.items),_.xp6(1),_.Q6J("ngIf",!!e.carparkDetails)}}function Yn(t,s){if(1&t){const e=_.EpF();_.TgZ(0,"a",59),_.NdJ("click",function(){const l=_.CHM(e).$implicit,u=_.oxw(2);return _.KtG(u.clickedScrollbar(l.id))}),_._UZ(1,"img",60),_.TgZ(2,"div",61)(3,"div",62),_._uU(4),_.ALo(5,"titlecase"),_.qZA(),_.TgZ(6,"span")(7,"span",63),_._uU(8,"\u2022"),_.qZA(),_._uU(9),_.qZA()()()}if(2&t){const e=s.$implicit,n=_.oxw(2);_.xp6(1),_.Q6J("src",(null==e.images[0]?null:e.images[0].carParkImage)||"assets/app/media/img/icons/park-placeholder.png",_.LSH),_.xp6(3),_.Oqu(_.lcZ(5,6,e.name)),_.xp6(2),_.Gre("status ",n.getStatus(e).trim().toLowerCase(),""),_.xp6(3),_.hij(" ",n.getStatus(e),"")}}function Vn(t,s){if(1&t&&(_.TgZ(0,"div",56)(1,"div",57),_.YNc(2,Yn,10,8,"a",58),_.qZA()()),2&t){const e=_.oxw();_.xp6(2),_.Q6J("ngForOf",e.items)}}let jn=(()=>{class t{constructor(e,n){this.carparkService=e,this.router=n,this.items=[],this.zoom=1,this.previous=null,this.carparkDetails=null,this.selectedTab="default",this.togglePanel=!1,this.openedWindow=null,this.getCarParkDetailInterval=null}ngOnInit(){window.navigator.geolocation&&window.navigator.geolocation.getCurrentPosition(({coords:e})=>{this.carparkService.filterModel({lat:e.latitude,lng:e.longitude}).subscribe(n=>{this.items=n.data,setTimeout(()=>{this.latitude=e.latitude,this.longitude=e.longitude,this.zoom=12},200)})})}onNavigateToNewApplication(e){this.router.navigate(["/new-application/new-application",{fromCarpark:!0}]),localStorage.setItem("selectedCarpark",JSON.stringify(e))}getNormalLots(e){return e.live?e.totalLots-e.live.availableLots-e.seasonLots:"-"}clickedMarker(e){this.getCarParkById(e.id)}clickedScrollbar(e){this.openedWindow=e,this.getCarParkById(e),this.getCarParkDetailInterval&&clearInterval(this.getCarParkDetailInterval),this.getCarParkDetailInterval=setInterval(()=>this.getCarParkById(e),5e3)}getCarParkById(e){this.carparkService.getModel(e||this.carparkDetails.id).pipe((0,o_.q)(1)).subscribe(n=>{this.carparkDetails=n})}isInfoWindowOpen(e){return this.openedWindow===e}getStatus(e){return(0,C_.TR)(e)}handleTabChange(e){this.selectedTab=e,this.carparkDetails&&"default"===e?this.getCarParkDetailInterval=setInterval(()=>this.getCarParkById(this.carparkDetails.id),5e3):clearInterval(this.getCarParkDetailInterval)}ngOnDestroy(){clearInterval(this.getCarParkDetailInterval)}}return t.\u0275fac=function(e){return new(e||t)(_.Y36(f.x),_.Y36(g.F0))},t.\u0275cmp=_.Xpm({type:t,selectors:[["app-season-map"]],decls:7,vars:5,consts:[["class","st-carpark__map col-10",4,"ngIf"],[1,"st-carpark__scrollbar","m--padding-0","col-2"],[1,"st-carpark__scrollbar-header","m--padding-top-15","m--padding-bottom-15"],[1,"m-subheader__title","m-subheader__title--separator","m--padding-left-15","m--padding-right-15","text-main"],["class","st-carpark__scrollbar-content",4,"ngIf"],[1,"st-carpark__map","col-10"],[3,"longitude","latitude","zoom","disableDefaultUI","zoomControl"],[3,"latitude","longitude","iconUrl","markerClick",4,"ngFor","ngForOf"],["class","m--margin-top-15",4,"ngIf"],[3,"latitude","longitude","iconUrl","markerClick"],[3,"closeOnMapClick","showCloseButton","longitude","closeWhenOthersOpen","latitude","isOpen"],["infoWindow",""],[3,"thumbnail","item","flat"],[1,"m--margin-top-15"],[1,"m-portlet","m-portlet--tabs"],[1,"m-portlet__head"],[1,"m-portlet__head-tools","position-relative"],[1,"action-group"],[3,"routerLink"],[1,"fa","fa-eye"],[3,"click"],[1,"fa","fa-times-circle"],["role","tablist",1,"nav","nav-tabs","m-tabs-line","m-tabs-line--primary","m-tabs-line--2x","custom-tabs"],[1,"nav-item","m-tabs__item"],[1,"nav-link","m-tabs__link",2,"padding","10px 0",3,"ngClass","click"],["class","m-portlet__body",4,"ngIf"],[1,"m-portlet__body"],["class","row container-fluid m-row--col-separator-sm",4,"ngIf"],[1,"row","container-fluid","m-row--col-separator-sm"],[1,"col-md-5"],[1,"row"],[1,"col-4"],[1,"m-rounded",2,"width","110px","margin","0 auto 10px"],["alt","","width","110","height","110",3,"src"],[1,"col","m--padding-right-0"],[1,"m--font-boldest","m--margin-bottom-5","text-muted","font-size-18"],[1,"col-sm-12","my-3","pl-0"],[1,"text-white","mr-3","py-1","px-3","border-radius-15","bg-main"],[1,"font-weight-bold","font-size-18","font-weight-500"],[1,"text-muted","col-lg-12","mx-auto","pl-0"],[1,"btn","btn-main","btn-block",2,"min-width","150px","font-size","11px",3,"click"],[1,"text-muted","m--margin-top-10"],[1,"la","la-map-marker","m--margin-right-10"],[1,"la","la-clock-o","m--margin-right-10"],[1,"col-md-7","m-section"],[1,"col-3","m--font-boldest"],[1,"col-9"],[1,"m--align-center"],[1,"text-muted"],[1,"m--font-boldest"],[1,"m--align-center","m--margin-left-20"],[1,"m--font-boldest","text-muted"],[1,"row","m--margin-top-10"],[1,"row","header--stations"],["class","border rounded-circle",4,"ngFor","ngForOf"],[1,"border","rounded-circle"],[1,"st-carpark__scrollbar-content"],[1,"list-group"],["class","m--padding-left-15 m--padding-right-15 list-group-item list-group-item-action",3,"click",4,"ngFor","ngForOf"],[1,"m--padding-left-15","m--padding-right-15","list-group-item","list-group-item-action",3,"click"],["width","40px","height","40px","alt","",1,"m--img-rounded","m--img-centered",3,"src"],[1,"info-wrapper","flex-column"],[1,"name"],[2,"font-size","16px"]],template:function(e,n){1&e&&(_.YNc(0,Qn,4,7,"div",0),_.TgZ(1,"div",1)(2,"div",2)(3,"h3",3),_._uU(4),_.ALo(5,"translate"),_.qZA()(),_.YNc(6,Vn,3,1,"div",4),_.qZA()),2&e&&(_.Q6J("ngIf",n.items&&n.items.length>0),_.xp6(4),_.hij(" ",_.lcZ(5,3,"Car Parks")," "),_.xp6(2),_.Q6J("ngIf",n.items&&n.items.length>0))},dependencies:[o.mk,o.sg,o.O5,g.rH,h_.SA,h_.pt,bn.Q,wn,o.rS,L.X$],styles:["agm-map{height:500px}.st-carpark__map .st-carpark__map-list{height:300px;overflow-y:scroll}.st-carpark__map .m-portlet__head{height:3rem}.st-carpark__map .custom-tabs{bottom:0}.st-carpark__map .action-group{position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:99}.st-carpark__map .action-group span:hover{cursor:pointer}.st-carpark__map .action-group span:first-child{margin-right:20px}.si-content{max-width:unset!important;min-width:180px;max-height:unset!important;overflow:visible}.st-carpark__scrollbar{background:#fff;margin-bottom:2.5em}.st-carpark__scrollbar-header{border-bottom:1px solid #f4f5f8}.st-carpark__scrollbar-header h3{font-family:Poppins;font-size:20px;font-weight:600;font-style:normal;font-stretch:normal;letter-spacing:normal;color:#575962}.st-carpark__scrollbar-content{overflow-y:scroll;height:535px}.st-carpark__scrollbar-content .list-group .list-group-item{display:flex;align-items:center;border:unset}.st-carpark__scrollbar-content .list-group .list-group-item>img{margin-right:10px}.list-group-item .name,.st-carpark__status-left-information .name{font-family:Montserrat;font-size:14px;font-weight:600;font-style:normal;font-stretch:normal;letter-spacing:normal;color:#575962}.st-carpark__status-left-information .name{font-weight:400}.list-group-item .status{font-family:LucidaGrande;font-size:12px;font-weight:300;font-style:normal;font-stretch:normal;letter-spacing:normal;color:#34bfa3;text-transform:capitalize}.list-group-item .status.full{color:#f4516c}.list-group-item .status.almost{color:#ffb822}.list-group-item .status.unavailable{color:#868aa8}.st-carpark__status{background:#fff;display:flex;padding:30px}.st-carpark__status-left{display:flex;border-right:solid 1px #f4f5f8}.detail-image,.st-carpark__status-left-detail{text-align:center}\n"],encapsulation:2}),t})(),Hn=(()=>{class t{ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_.Xpm({type:t,selectors:[["app-car-park"]],decls:2,vars:0,consts:[[2,"display","flex"]],template:function(e,n){1&e&&(_.TgZ(0,"div"),_._UZ(1,"app-season-map",0),_.qZA())},dependencies:[jn]}),t})();var Gn=a(34131),A_=a(15439),X=a(66708),$n=a(37623),Xn=a(96599),T_=a(91846);const _t=["terminationForm"],et=["submittedNewApp"];function nt(t,s){if(1&t&&(_.TgZ(0,"div",30)(1,"alert",31),_._uU(2),_.qZA()()),2&t){const e=s.$implicit;_.Q6J("hidden",!e.type),_.xp6(1),_.Q6J("type",e.type)("dismissOnTimeout",e.timeout),_.xp6(1),_.Oqu(e.msg)}}function tt(t,s){if(1&t&&_._UZ(0,"nz-option",32),2&t){const e=s.$implicit;_.Q6J("nzValue",e)("nzLabel",e)}}function at(t,s){1&t&&(_.TgZ(0,"div",33),_._uU(1),_.ALo(2,"translate"),_.qZA()),2&t&&(_.xp6(1),_.hij(" ",_.lcZ(2,1,"*Required field"),". "))}function ot(t,s){if(1&t&&_._UZ(0,"nz-option",32),2&t){const e=s.$implicit;_.Q6J("nzValue",e)("nzLabel",e)}}function it(t,s){1&t&&(_.TgZ(0,"div",33),_._uU(1),_.ALo(2,"translate"),_.qZA()),2&t&&(_.xp6(1),_.hij(" ",_.lcZ(2,1,"*Required field"),". "))}function rt(t,s){if(1&t){const e=_.EpF();_.TgZ(0,"div",34)(1,"p"),_._uU(2),_.qZA(),_.TgZ(3,"button",35),_.NdJ("click",function(){_.CHM(e);const i=_.oxw();return _.KtG(i.onDecline())}),_._uU(4,"Close"),_.qZA()()}if(2&t){const e=_.oxw();_.xp6(2),_.Oqu(e.successMsg)}}let lt=(()=>{class t{constructor(e,n,i,l,u){this.translate=e,this.carparkService=n,this._location=i,this._router=l,this.modalService=u,this.listCarpark=[],this.carparkInput$=new W.xQ,this.carparkLoading=!0,this.terminationFormValue=new C.B94,this.listReasonTermination=[],this.subscription=[],this.flagCheckRecaptcha=!1,this.vehicleNoMessage=C.vwt.VehicleNo,this.submited=!1,this.alerts=[{type:null,msg:null,timeout:0}],this.disabledDate=K=>(0,$n.Z)(K,new Date)<0}ngOnInit(){this.onInitStartDate(),this.onGetListVehicles()}ngOnDestroy(){for(const e of this.subscription)e.unsubscribe()}onInitStartDate(){(new Date).getDate(),this.timeExpiredDate={value:[u_.ou.local().toJSDate(),new Date],type:C.Nxg.Month}}changeVehicle(e){console.log(e),e&&0!==e.length?(this.terminationFormValue.zoneControl="",this.carparkService.getSpecificCode(e).subscribe(n=>{this.listZone=n.map(i=>i.applicationCode)})):(this.listZone=[],this.terminationFormValue.zoneControl="",this.submited=!1)}changeSeasonPass(){this.submited=!1}onGetListZone(){this.subscription.push(this.carparkService.getListZone().subscribe(e=>{this.listZone=e}))}onGetListVehicles(){this.subscription.push(this.carparkService.getListVehiclesTermination().subscribe(e=>{let n=[];e.forEach(i=>{i.vehicle&&n.push(i.vehicle.vehicleNumber)}),this.listVehicles=[...new Set(n)]}))}onGetListReasonTermination(){this.carparkService.getListReasonTermination().subscribe(e=>{this.listReasonTermination=e})}onGetSimpleListCarpark(){this.carparkService.getSimpleListCarpark().subscribe(e=>{this.listCarpark=e,this.carparkLoading=!1})}onGetUuidImage(e){this.terminationFormValue.uuidImage=e}changeStartDate(e){Array.isArray(e)||(this.timeExpiredDate=e,console.log(this.timeExpiredDate),this.terminationFormValue.dateControl=A_(e.value[0],"DD/MM/YYYY"))}onCancel(){this._location.back()}onRecaptchaControl(e){this.terminationFormValue.recaptchaControl=e,this.terminationFormValue.valid=e}onSubmitForm(e=null){const n={...this.terminationFormValue,...e},i={terminationDate:n.dateControl?n.dateControl:A_(this.timeExpiredDate.value[0],"DD/MM/YYYY"),vehicleNo:n.carPlateNumber,seasonCode:n.zoneControl};this.submited=!0;for(let l in i)if(!i[l])return;this.carparkService.submitTerminationForm(i).subscribe(l=>{X.Z.isNotNull(l.id)&&(this.successMsg="Your Season Parking Termination request has been received. It is currently pending for approval and will require 2 working days for review. ",this.modalRef=this.modalService.show(this.submittedNewApp,{class:"modal-md"}))},l=>{const{error:u}=l;X.Z.isNotNull(u.status)&&this.alerts.push({type:"danger",msg:"Submit Tsermination's form failed: "+u.status+" ! "+u.message,timeout:__.W.middleTime})})}onDecline(){this.modalRef.hide(),this._router.navigate(["/message-management/overview"])}}return t.\u0275fac=function(e){return new(e||t)(_.Y36(L.sK),_.Y36(f.x),_.Y36(o.Ye),_.Y36(g.F0),_.Y36(z.tT))},t.\u0275cmp=_.Xpm({type:t,selectors:[["app-termination-form"]],viewQuery:function(e,n){if(1&e&&(_.Gf(_t,5),_.Gf(et,5)),2&e){let i;_.iGM(i=_.CRH())&&(n.terminationForm=i.first),_.iGM(i=_.CRH())&&(n.submittedNewApp=i.first)}},decls:57,vars:33,consts:[[1,"m-content","p-0"],[1,"row"],[1,"col-sm-4","mx-auto"],["class","mt-3 mt-3",3,"hidden",4,"ngFor","ngForOf"],[1,"m-form","m-form--fit","m-form--label-align-right"],["terminationForm","ngForm"],[1,"m-portlet"],[1,"m-portlet__head"],[1,"m-portlet__head-caption"],[1,"m-portlet__head-title"],[1,"m-portlet__head-text"],[1,"m-portlet__body","row"],[1,"col-lg-12","mx-auto"],[1,"row","form-group","m-form__group"],[1,"col-form-label","col-lg-2","col-sm-12"],[1,"m--font-danger"],[1,"col-lg-4","col-sm-12"],["nzPlaceHolder","Please Select","required","","name","vehicleControl",2,"width","100%",3,"nzAllowClear","ngModel","nzDropdownMatchSelectWidth","ngModelChange"],["vehicleControl","ngModel"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["class","form-control-feedback",4,"ngIf"],[3,"data","headerDatePicker","isScopeMonth","select"],["nzPlaceHolder","Please Select","required","","name","zoneControl",2,"width","100%",3,"nzAllowClear","ngModel","nzDropdownMatchSelectWidth","ngModelChange"],["zoneControl","ngModel"],[1,"form-group","m-form__group","row","pt-0"],[1,"m-portlet__foot","bg-light-gray"],[1,"m-form__actions","m-form__actions--right"],["nz-button","","nzType","primary","nzGhost","","nzSize","large",1,"btn-form-ops",3,"click"],["nz-button","","nzType","primary","nzSize","large","appDebounceClick","",1,"btn-form-ops","m--margin-left-30",3,"debounceTime","debounceClick"],["submittedNewApp",""],[1,"mt-3","mt-3",3,"hidden"],[3,"type","dismissOnTimeout"],[3,"nzValue","nzLabel"],[1,"form-control-feedback"],[1,"modal-body","text-center"],["nz-button","","nzType","primary","type","button",3,"click"]],template:function(e,n){1&e&&(_.TgZ(0,"div",0)(1,"div",1)(2,"div",2),_.YNc(3,nt,3,4,"div",3),_.qZA()(),_.TgZ(4,"form",4,5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"h4",10),_._uU(11),_.ALo(12,"translate"),_.qZA()()()(),_.TgZ(13,"div",11)(14,"div",12)(15,"div",13)(16,"label",14)(17,"span",15),_._uU(18,"*"),_.qZA(),_._uU(19),_.ALo(20,"translate"),_.qZA(),_.TgZ(21,"div",16)(22,"nz-select",17,18),_.NdJ("ngModelChange",function(l){return n.terminationFormValue.carPlateNumber=l})("ngModelChange",function(){return n.changeVehicle(n.terminationFormValue.carPlateNumber)}),_.YNc(24,tt,1,2,"nz-option",19),_.qZA(),_.YNc(25,at,3,3,"div",20),_.qZA(),_.TgZ(26,"label",14),_._uU(27),_.ALo(28,"translate"),_.qZA(),_.TgZ(29,"div",16)(30,"app-datepicker-tab",21),_.NdJ("select",function(l){return n.changeStartDate(l)}),_.qZA()()(),_.TgZ(31,"div",13)(32,"label",14)(33,"span",15),_._uU(34,"*"),_.qZA(),_._uU(35),_.ALo(36,"translate"),_.qZA(),_.TgZ(37,"div",16)(38,"nz-select",22,23),_.NdJ("ngModelChange",function(l){return n.terminationFormValue.zoneControl=l})("ngModelChange",function(){return n.changeSeasonPass()}),_.YNc(40,ot,1,2,"nz-option",19),_.qZA(),_.YNc(41,it,3,3,"div",20),_.qZA()(),_.TgZ(42,"div",24)(43,"label",14)(44,"span",15),_._uU(45,"*"),_.qZA(),_._uU(46," Required field(s) "),_.qZA()()()(),_.TgZ(47,"div",25)(48,"div",26)(49,"button",27),_.NdJ("click",function(){return n.onCancel()}),_._uU(50),_.ALo(51,"translate"),_.qZA(),_.TgZ(52,"button",28),_.NdJ("debounceClick",function(){return n.onSubmitForm()}),_._uU(53),_.ALo(54,"translate"),_.qZA()()()()(),_.YNc(55,rt,5,1,"ng-template",null,29,_.W1O),_.qZA()),2&e&&(_.xp6(3),_.Q6J("ngForOf",n.alerts),_.xp6(8),_.hij(" ",_.lcZ(12,21,"Season Termination Form")," "),_.xp6(8),_.hij(" ",_.lcZ(20,23,"Vehicle No."),": "),_.xp6(3),_.Q6J("nzAllowClear",!0)("ngModel",n.terminationFormValue.carPlateNumber)("nzDropdownMatchSelectWidth",!1),_.xp6(2),_.Q6J("ngForOf",n.listVehicles),_.xp6(1),_.Q6J("ngIf",!n.terminationFormValue.carPlateNumber&&n.submited),_.xp6(2),_.hij(" ",_.lcZ(28,25,"Termination Date"),": "),_.xp6(3),_.Q6J("data",n.timeExpiredDate)("headerDatePicker",!1)("isScopeMonth",!0),_.xp6(5),_.hij(" ",_.lcZ(36,27,"Season Parking"),": "),_.xp6(3),_.Q6J("nzAllowClear",!0)("ngModel",n.terminationFormValue.zoneControl)("nzDropdownMatchSelectWidth",!1),_.xp6(2),_.Q6J("ngForOf",n.listZone),_.xp6(1),_.Q6J("ngIf",!n.terminationFormValue.zoneControl&&n.submited),_.xp6(9),_.hij(" ",_.lcZ(51,29,"Cancel")," "),_.xp6(2),_.Q6J("debounceTime",1e3),_.xp6(1),_.hij(" ",_.lcZ(54,31,"Submit")," "))},dependencies:[o.sg,o.O5,p._Y,p.JJ,p.JL,p.Q7,p.On,p.F,p_.ix,t_.w,g_.dQ,x.Ip,x.Vq,Xn.K,T_.J,a_.wx,L.X$]}),t})();var ct=a(834);const st=["changeVehicleForm"],pt=["submittedNewApp"];function gt(t,s){if(1&t&&(_.TgZ(0,"div",19)(1,"alert",20),_._uU(2),_.qZA()()),2&t){const e=s.$implicit;_.Q6J("hidden",!e.type),_.xp6(1),_.Q6J("type",e.type)("dismissOnTimeout",e.timeout),_.xp6(1),_.Oqu(e.msg)}}function ut(t,s){if(1&t&&_._UZ(0,"nz-option",43),2&t){const e=s.$implicit;_.Q6J("nzValue",e)("nzLabel",e)}}function dt(t,s){1&t&&(_.TgZ(0,"div",44),_._uU(1),_.ALo(2,"translate"),_.qZA()),2&t&&(_.xp6(1),_.hij(" ",_.lcZ(2,1,"*Required field.")," "))}function mt(t,s){if(1&t&&_._UZ(0,"nz-option",43),2&t){const e=s.$implicit;_.Q6J("nzValue",e.vehicleNumber)("nzLabel",e.vehicleNumber)}}function Et(t,s){1&t&&(_.TgZ(0,"div",44),_._uU(1),_.ALo(2,"translate"),_.qZA()),2&t&&(_.xp6(1),_.hij(" ",_.lcZ(2,1,"*Required field.")," "))}function Mt(t,s){if(1&t){const e=_.EpF();_.TgZ(0,"div",23)(1,"label",24),_._uU(2," Effective Date "),_.qZA(),_.TgZ(3,"div",26)(4,"nz-date-picker",45),_.NdJ("ngModelChange",function(i){_.CHM(e);const l=_.oxw(2);return _.KtG(l.changeVehicleFormValue.effectiveDateControl=i)}),_.qZA()(),_.TgZ(5,"label",24),_._uU(6," End Date: "),_.qZA(),_.TgZ(7,"div",26)(8,"nz-date-picker",46),_.NdJ("ngModelChange",function(i){_.CHM(e);const l=_.oxw(2);return _.KtG(l.changeVehicleFormValue.endDateControl=i)}),_.qZA()()()}if(2&t){const e=_.oxw(2);_.xp6(4),_.Q6J("ngModel",e.changeVehicleFormValue.effectiveDateControl),_.xp6(4),_.Q6J("ngModel",e.changeVehicleFormValue.endDateControl)}}function Ot(t,s){if(1&t){const e=_.EpF();_.TgZ(0,"div",23)(1,"label",24)(2,"span",25),_._uU(3,"*"),_.qZA(),_._uU(4," Effective Date: "),_.qZA(),_.TgZ(5,"div",26)(6,"nz-date-picker",45),_.NdJ("ngModelChange",function(i){_.CHM(e);const l=_.oxw(2);return _.KtG(l.changeVehicleFormValue.effectiveDateControl=i)}),_.qZA()()()}if(2&t){const e=_.oxw(2);_.xp6(6),_.Q6J("ngModel",e.changeVehicleFormValue.effectiveDateControl)}}function Pt(t,s){1&t&&(_.TgZ(0,"div",47),_._uU(1),_.ALo(2,"translate"),_.qZA()),2&t&&(_.xp6(1),_.hij(" ",_.lcZ(2,1,"Please enter a valid email"),". "))}function Dt(t,s){if(1&t){const e=_.EpF();_.TgZ(0,"div",21)(1,"div",1)(2,"div",22)(3,"h5"),_._uU(4),_.ALo(5,"translate"),_.qZA()()(),_.TgZ(6,"div",23)(7,"label",24)(8,"span",25),_._uU(9,"*"),_.qZA(),_._uU(10),_.ALo(11,"translate"),_.qZA(),_.TgZ(12,"div",26)(13,"nz-select",27,28),_.NdJ("ngModelChange",function(i){_.CHM(e);const l=_.oxw();return _.KtG(l.changeVehicleFormValue.currentVehicleControl=i)})("ngModelChange",function(i){_.CHM(e);const l=_.oxw();return _.KtG(l.getCurrentIUNo(i))}),_.YNc(15,ut,1,2,"nz-option",29),_.qZA(),_.YNc(16,dt,3,3,"div",30),_.qZA(),_.TgZ(17,"label",24)(18,"span",25),_._uU(19,"*"),_.qZA(),_._uU(20),_.ALo(21,"translate"),_.qZA(),_.TgZ(22,"div",26)(23,"nz-select",31,32),_.NdJ("ngModelChange",function(i){_.CHM(e);const l=_.oxw();return _.KtG(l.changeVehicleFormValue.newVehicleControl=i)})("ngModelChange",function(i){_.CHM(e);const l=_.oxw();return _.KtG(l.getNewIUNo(i))}),_.YNc(25,mt,1,2,"nz-option",29),_.ALo(26,"async"),_.qZA(),_.YNc(27,Et,3,3,"div",30),_.qZA()(),_._UZ(28,"div",23),_.TgZ(29,"div",1)(30,"div",22)(31,"h5"),_._uU(32),_.ALo(33,"translate"),_.qZA()()(),_.YNc(34,Mt,9,2,"ng-template",33),_.YNc(35,Ot,7,1,"ng-template",33),_.TgZ(36,"div",23)(37,"label",24)(38,"span",25),_._uU(39,"*"),_.qZA(),_._uU(40),_.ALo(41,"translate"),_.qZA(),_.TgZ(42,"div",26)(43,"input",34,35),_.NdJ("ngModelChange",function(i){_.CHM(e);const l=_.oxw();return _.KtG(l.changeVehicleFormValue.emailControl=i)}),_.qZA(),_.YNc(45,Pt,3,3,"div",36),_.qZA()(),_.TgZ(46,"div",37)(47,"div",38)(48,"label",39)(49,"span",40),_._uU(50,"(*)"),_.qZA()(),_.TgZ(51,"label",41),_._uU(52),_.ALo(53,"translate"),_.qZA()()(),_.TgZ(54,"div",42)(55,"label",24)(56,"span",25),_._uU(57,"*"),_.qZA(),_._uU(58," Required field(s) "),_.qZA()()()}if(2&t){const e=_.MAs(14),n=_.MAs(24),i=_.MAs(44),l=_.oxw(),u=_.MAs(5);_.xp6(4),_.Oqu(_.lcZ(5,17,"Vehicle Information")),_.xp6(6),_.hij(" ",_.lcZ(11,19,"Current Vehicle No"),".: "),_.xp6(3),_.Q6J("ngModel",l.changeVehicleFormValue.currentVehicleControl),_.xp6(2),_.Q6J("ngForOf",l.currentVehicleList),_.xp6(1),_.Q6J("ngIf",e.invalid&&(e.dirty||e.touched||u.submitted)),_.xp6(4),_.hij(" ",_.lcZ(21,21,"New Vehicle No"),".: "),_.xp6(3),_.Q6J("nzLoading",l.newVehicleLoading)("ngModel",l.changeVehicleFormValue.newVehicleControl),_.xp6(2),_.Q6J("ngForOf",_.lcZ(26,23,l.newVehicle$)),_.xp6(2),_.Q6J("ngIf",n.invalid&&(n.dirty||n.touched||u.submitted)),_.xp6(5),_.Oqu(_.lcZ(33,25,"Other Information")),_.xp6(2),_.Q6J("ngIf",l.selectedTemporary),_.xp6(1),_.Q6J("ngIf",l.selectedPermanent),_.xp6(5),_.hij(" ",_.lcZ(41,27,"Email"),": "),_.xp6(3),_.Q6J("ngModel",l.changeVehicleFormValue.emailControl),_.xp6(2),_.Q6J("ngIf",i.invalid&&(i.dirty||i.touched)&&(null==i.errors?null:i.errors.pattern)),_.xp6(7),_.Oqu(_.lcZ(53,29,"3 working days is required to process your request; For temporary vehicle, please submit a change of vehicle request to revert to your original vehicle"))}}function Ct(t,s){1&t&&(_.TgZ(0,"div",44),_._uU(1),_.ALo(2,"translate"),_.qZA()),2&t&&(_.xp6(1),_.hij(" ",_.lcZ(2,1,"*Required field.")," "))}function ht(t,s){1&t&&(_.TgZ(0,"div",44),_._uU(1),_.ALo(2,"translate"),_.qZA()),2&t&&(_.xp6(1),_.hij(" ",_.lcZ(2,1,"*Required field.")," "))}function At(t,s){if(1&t&&_._UZ(0,"nz-option",43),2&t){const e=s.$implicit;_.Q6J("nzValue",e.value)("nzLabel",e.text)}}function Tt(t,s){1&t&&(_.TgZ(0,"div",44),_._uU(1),_.ALo(2,"translate"),_.qZA()),2&t&&(_.xp6(1),_.hij(" ",_.lcZ(2,1,"*Required field.")," "))}function ft(t,s){if(1&t){const e=_.EpF();_.TgZ(0,"div",23)(1,"label",24)(2,"span",25),_._uU(3,"*"),_.qZA(),_._uU(4),_.ALo(5,"translate"),_.qZA(),_.TgZ(6,"div",26)(7,"input",48,49),_.NdJ("ngModelChange",function(i){_.CHM(e);const l=_.oxw();return _.KtG(l.changeVehicleFormValue.contactNo=i)}),_.qZA(),_.YNc(9,Ct,3,3,"div",30),_.qZA(),_.TgZ(10,"label",24)(11,"span",25),_._uU(12,"*"),_.qZA(),_._uU(13),_.ALo(14,"translate"),_.qZA(),_.TgZ(15,"div",26)(16,"input",50),_.NdJ("ngModelChange",function(i){_.CHM(e);const l=_.oxw();return _.KtG(l.seasonData.firstName=i)}),_.qZA()()(),_.TgZ(17,"div",23)(18,"label",24)(19,"span",25),_._uU(20,"*"),_.qZA(),_._uU(21),_.ALo(22,"translate"),_.qZA(),_.TgZ(23,"div",26)(24,"input",51),_.NdJ("ngModelChange",function(i){_.CHM(e);const l=_.oxw();return _.KtG(l.seasonData.email=i)}),_.qZA()(),_.TgZ(25,"label",24)(26,"span",25),_._uU(27,"*"),_.qZA(),_._uU(28),_.ALo(29,"translate"),_.qZA(),_.TgZ(30,"div",26),_._UZ(31,"input",52),_.ALo(32,"date"),_.qZA()(),_.TgZ(33,"div",23)(34,"label",24)(35,"span",25),_._uU(36,"*"),_.qZA(),_._uU(37),_.ALo(38,"translate"),_.qZA(),_.TgZ(39,"div",26),_._UZ(40,"input",53),_.ALo(41,"date"),_.qZA(),_.TgZ(42,"label",24)(43,"span",25),_._uU(44,"*"),_.qZA(),_._uU(45),_.ALo(46,"translate"),_.qZA(),_.TgZ(47,"div",26),_._UZ(48,"input",54),_.qZA()(),_.TgZ(49,"div",23)(50,"label",24)(51,"span",25),_._uU(52,"*"),_.qZA(),_._uU(53),_.ALo(54,"translate"),_.qZA(),_.TgZ(55,"div",26),_._UZ(56,"input",53),_.qZA(),_.TgZ(57,"label",24)(58,"span",25),_._uU(59,"*"),_.qZA(),_._uU(60),_.ALo(61,"translate"),_.qZA(),_.TgZ(62,"div",26),_._UZ(63,"input",55),_.qZA()(),_.TgZ(64,"div",23)(65,"label",24)(66,"span",25),_._uU(67,"*"),_.qZA(),_._uU(68),_.ALo(69,"translate"),_.qZA(),_.TgZ(70,"div",26)(71,"input",56,28),_.NdJ("ngModelChange",function(i){_.CHM(e);const l=_.oxw();return _.KtG(l.changeVehicleFormValue.currentVehicleControl=i)}),_.qZA(),_.YNc(73,ht,3,3,"div",30),_.qZA(),_.TgZ(74,"label",24)(75,"span",25),_._uU(76,"*"),_.qZA(),_._uU(77),_.ALo(78,"translate"),_.qZA(),_.TgZ(79,"div",26)(80,"nz-select",57,32),_.NdJ("ngModelChange",function(i){_.CHM(e);const l=_.oxw();return _.KtG(l.changeVehicleFormValue.newVehicleControl=i)}),_.YNc(82,At,1,2,"nz-option",29),_.qZA(),_.YNc(83,Tt,3,3,"div",30),_.qZA()()}if(2&t){const e=_.MAs(8),n=_.MAs(72),i=_.MAs(81),l=_.oxw(),u=_.MAs(5);_.xp6(4),_.hij(" ",_.lcZ(5,24,"Contact No"),".: "),_.xp6(3),_.Q6J("ngModel",l.changeVehicleFormValue.contactNo),_.xp6(2),_.Q6J("ngIf",e.invalid&&(e.dirty||e.touched||u.submitted)),_.xp6(4),_.hij(" ",_.lcZ(14,26,"First Name"),": "),_.xp6(3),_.Q6J("ngModel",l.seasonData.firstName),_.xp6(5),_.hij(" ",_.lcZ(22,28,"Email"),": "),_.xp6(3),_.Q6J("ngModel",l.seasonData.email),_.xp6(4),_.hij(" ",_.lcZ(29,30,"Start Date"),": "),_.xp6(3),_.Q6J("value",_.xi3(32,32,l.seasonData.startDate,"d LLL yyyy")),_.xp6(6),_.hij(" ",_.lcZ(38,35,"End Date"),": "),_.xp6(3),_.Q6J("value",_.xi3(41,37,l.seasonData.endDate,"d LLL yyyy")),_.xp6(5),_.hij(" ",_.lcZ(46,40,"Zone"),": "),_.xp6(3),_.Q6J("value",l.seasonData.zone),_.xp6(5),_.hij(" ",_.lcZ(54,42,"Auto Renew"),": "),_.xp6(3),_.Q6J("value",l.seasonData.autoRenew),_.xp6(4),_.hij(" ",_.lcZ(61,44,"Status"),": "),_.xp6(3),_.Q6J("value",l.seasonData.status),_.xp6(5),_.hij(" ",_.lcZ(69,46,"Current Vehicle No"),".: "),_.xp6(3),_.Q6J("ngModel",l.changeVehicleFormValue.currentVehicleControl),_.xp6(2),_.Q6J("ngIf",n.invalid&&(n.dirty||n.touched||u.submitted)),_.xp6(4),_.hij(" ",_.lcZ(78,48,"New Vehicle No"),".: "),_.xp6(3),_.Q6J("ngModel",l.changeVehicleFormValue.newVehicleControl),_.xp6(2),_.Q6J("ngForOf",l.vehicles),_.xp6(1),_.Q6J("ngIf",i.invalid&&(i.dirty||i.touched||u.submitted))}}function vt(t,s){if(1&t){const e=_.EpF();_.TgZ(0,"button",58),_.NdJ("click",function(i){_.CHM(e);const l=_.oxw();return _.KtG(l.delete(i))}),_._UZ(1,"i",59),_._uU(2),_.ALo(3,"translate"),_.qZA()}2&t&&(_.xp6(2),_.hij(" ",_.lcZ(3,1,"Delete")," "))}function Ut(t,s){if(1&t){const e=_.EpF();_.TgZ(0,"div",60)(1,"p"),_._uU(2),_.qZA(),_.TgZ(3,"button",61),_.NdJ("click",function(){_.CHM(e);const i=_.oxw();return _.KtG(i.onDecline())}),_._uU(4,"Close"),_.qZA()()}if(2&t){const e=_.oxw();_.xp6(2),_.Oqu(e.successMsg)}}let Lt=(()=>{class t{constructor(e,n,i,l,u,K,J,F){this.translate=e,this._router=n,this.carparkService=i,this._location=l,this.modalService=u,this._route=K,this.vehicleService=J,this.bully=F,this.carparkInput$=new W.xQ,this.selectedTemporary=!1,this.selectedPermanent=!0,this.changeVehicleFormValue=new C.o41,this.userInformation=JSON.parse(localStorage.getItem("user")),this.flagCheckRecaptcha=!1,this.vehicleNoMessage=C.vwt.VehicleNo,this.alerts=[{type:null,msg:null,timeout:0}],this.driverCode=JSON.parse(localStorage.getItem("user")).login,this.newVehicleList=[],this.currentVehicleList=[],this.newVehicleInput$=new W.xQ,this.currentVehicle=[],this.currentVehicleListId=[],this.applicationCode$=[],this.noDateControl=!1,this.minDate=new Date,this.seasonData={},this.vehicles=[],this.subscription=[]}ngOnInit(){const e=this.bully.getBSubject().subscribe(n=>{n&&"Season_Applications_Data"===n.type?(this.seasonData=n.data,this.changeVehicleFormValue.contactNo=n.data.mobile,this.changeVehicleFormValue.currentVehicleControl=n.data.vehicleNumber,this.getUserVehicle()):this._router.navigateByUrl("/season-parking/applications")});this.subscription.push(e),this.getCurrentIUNoData(),this.newVehicle$=this.newVehicleInput$.pipe((0,H.O)(""),(0,Q.b)(200),(0,G.x)(),(0,S.b)(()=>this.newVehicleLoading=!0),(0,q.w)(()=>this.carparkService.getNewVehicleList(this.driverCode).pipe((0,M_.U)(n=>(this.newVehicleList=n.filter(i=>-1===this.currentVehicleListId.indexOf(i.id)),console.log(this.newVehicleList),n.filter(i=>-1===this.currentVehicleListId.indexOf(i.id)))),(0,S.b)(()=>this.newVehicleLoading=!1))),(0,$.B)()),this.changeVehicleFormValue.emailControl=this.userInformation.email}ngOnDestroy(){for(const e of this.subscription)e&&e.unsubscribe();this.subscription=[]}onGetListCarpark(){return this.carparkInput$.pipe((0,H.O)(""),(0,Q.b)(200),(0,G.x)(),(0,S.b)(()=>this.carparkLoading=!0),(0,q.w)(e=>this.carparkService.getSimpleList(e).pipe((0,S.b)(()=>this.carparkLoading=!1))),(0,$.B)())}get isMotorist(){return this.carparkService.isMotorist()}onChangeStatus(e){"temporary"===e.target.value&&(this.selectedTemporary=!0,this.selectedPermanent=!1),"permanent"===e.target.value&&(this.selectedTemporary=!1,this.selectedPermanent=!0)}effectiveDateControl(e){this.noDateControl=!0,this.changeVehicleFormValue.effectiveDateControl=e}getUserVehicle(){this.vehicleService.getTelList({phoneNumber:this.changeVehicleFormValue.contactNo.replace("+","%2B")},{totalCount:1,rowsPerPage:100,page:0,sortBy:"",descending:!0,totalPages:1}).pipe((0,o_.q)(1)).subscribe(n=>{this.vehicles=n.content.map(i=>({text:i.vehicleNumber,value:i.vehicleNumber}))},()=>{})}onEndDateControl(e){this.changeVehicleFormValue.endDateControl=e}onRecaptchaControl(e){this.changeVehicleFormValue.recaptchaControl=e,this.changeVehicleFormValue.valid=e}onCancel(){this._location.back()}onSubmitForm(e=null){const n={...this.changeVehicleFormValue,...e};let i;this.isMotorist?(i={currentIUNumber:n.currentIUControl,currentVehicleNo:n.currentVehicleControl,effectiveDate:n.effectiveDateControl,email:n.emailControl,iuChangePeriod:n.changeIUControl||"permanent",newIUNumber:n.newIUControl,newVehicleNumber:n.newVehicleControl,numberOfVehicle:0,reasonForChange:n.reasonControl,registeredOwner:n.ownerControl,seasonCode:n.seasonCode},console.log(i)):i={currentVehicleNo:n.currentVehicleControl,newVehicleNumber:n.newVehicleControl,contactNo:n.contactNo,id:this.seasonData.id},this.carparkService.submitChangeVehicleForm(i,this.isMotorist).subscribe(l=>{X.Z.isNotNull(l.contactNo)&&(this.successMsg=this.isMotorist?"Your Change of Vehicle No. request has been received. It is currently pending for approval.":"Change Successful.",this.modalRef=this.modalService.show(this.submittedNewApp,{class:"modal-md"})),this.onCancel()},l=>{const{error:u}=l;X.Z.isNotNull(u.status)&&this.alerts.push({type:"danger",msg:"Submit change of Vehicle's form failed: "+u.status+" ! "+u.message,timeout:__.W.middleTime})})}getCurrentIUNoData(){this.carparkService.getCurentVehicleList(this.driverCode).subscribe(e=>{this.currentVehicleListId.length=0;let n=[];e.forEach((i,l)=>{i.vehicle&&(this.currentVehicleListId.push(i.vehicle.id),n.push({...i.vehicle,applicationCode:i.applicationCode,vehicleNo:i.vehicle.vehicleNumber}))}),this.currentVehicle=n,this.currentVehicleListId=[...this.currentVehicleListId],this.currentVehicleList=[...new Set(this.currentVehicle.map(i=>i.vehicleNo))]})}getCurrentIUNo(e){console.log("formCtrl=========>",e);let n=this.currentVehicle.filter(i=>i.vehicleNo==e)[0];this.changeVehicleFormValue.currentIUControl=e?n.iuNumber:"",this.changeVehicleFormValue.seasonCode=e?n.applicationCode:""}getNewIUNo(e){const n=this.newVehicleList.find(i=>i.vehicleNumber===e);this.changeVehicleFormValue.newIUControl=n?.iuNumber||""}onDecline(){this.modalRef.hide(),this._router.navigate(["/message-management/overview"])}delete(){this.carparkService.autoRenew(this.seasonData.id).subscribe(e=>{this.successMsg="Change Successful.",this.modalRef=this.modalService.show(this.submittedNewApp,{class:"modal-md"}),this._router.navigate(["/season-parking/applications"])},e=>{const{error:n}=e;X.Z.isNotNull(n.status)&&this.alerts.push({type:"danger",msg:n.message,timeout:__.W.middleTime})})}}return t.\u0275fac=function(e){return new(e||t)(_.Y36(L.sK),_.Y36(g.F0),_.Y36(f.x),_.Y36(o.Ye),_.Y36(z.tT),_.Y36(g.gz),_.Y36(U.f),_.Y36(j.B))},t.\u0275cmp=_.Xpm({type:t,selectors:[["app-change-vehicle"]],viewQuery:function(e,n){if(1&e&&(_.Gf(st,5),_.Gf(pt,5)),2&e){let i;_.iGM(i=_.CRH())&&(n.changeVehicleForm=i.first),_.iGM(i=_.CRH())&&(n.submittedNewApp=i.first)}},decls:27,vars:15,consts:[[1,"m-content","p-0"],[1,"row"],[1,"col-sm-4","mx-auto"],["class","mt-3 mt-3",3,"hidden",4,"ngFor","ngForOf"],[1,"m-form","m-form--fit","m-form--label-align-right"],["changeVehicleForm","ngForm"],[1,"m-portlet"],[1,"m-portlet__head"],[1,"m-portlet__head-caption"],[1,"m-portlet__head-title"],[1,"m-portlet__head-text"],["class","m-portlet__body",4,"ngIf","ngIfElse"],["other",""],[1,"m-portlet__foot","bg-light-gray"],[1,"m-form__actions","m-form__actions--right"],["nz-button","","nzType","primary","nzSize","large","nzGhost","","class","btn-form-ops","style","float: left;",3,"click",4,"ngIf"],["nz-button","","nzType","primary","nzSize","large","nzGhost","",1,"btn-form-ops",3,"click"],["nz-button","","nzType","primary","nzSize","large","appDebounceClick","",1,"btn-form-ops","m--margin-left-30",3,"disabled","debounceTime","debounceClick"],["submittedNewApp",""],[1,"mt-3","mt-3",3,"hidden"],[3,"type","dismissOnTimeout"],[1,"m-portlet__body"],[1,"col-sm-6"],[1,"row","form-group","m-form__group"],[1,"col-form-label","col-lg-2","col-sm-12"],[1,"m--font-danger"],[1,"col-lg-4","col-sm-12"],["name","currentVehicleControl","nzPlaceHolder","Please Select","required","",2,"width","100%",3,"ngModel","ngModelChange"],["currentVehicleControl","ngModel"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["class","form-control-feedback",4,"ngIf"],["name","newVehicleControl","nzPlaceHolder","Please Select","required","",2,"width","100%",3,"nzLoading","ngModel","ngModelChange"],["newVehicleControl","ngModel"],[3,"ngIf"],["nz-input","","type","email","placeholder","","required","","pattern","[a-zA-Z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$","name","emailControl",3,"ngModel","ngModelChange"],["emailControl","ngModel"],["class","form-control-feedback errMsg",4,"ngIf"],[1,"form-group","m-form__group","row"],[1,"col-sm-12","col-lg-6","offset-lg-2"],[1,"pt-2"],[1,"m--font-danger","mr-2"],["for","informUs"],[1,"form-group","m-form__group","row","pt-0"],[3,"nzValue","nzLabel"],[1,"form-control-feedback"],["name","effectiveDateControl",2,"width","100%",3,"ngModel","ngModelChange"],["name","endDateControl",3,"ngModel","ngModelChange"],[1,"form-control-feedback","errMsg"],["name","contactNo","nz-input","","required","","readonly","",3,"ngModel","ngModelChange"],["contactNo","ngModel"],["name","Frist","nz-input","","readonly","",3,"ngModel","ngModelChange"],["name","Email","nz-input","","readonly","",3,"ngModel","ngModelChange"],["name","StartDate","nz-input","","readonly","",3,"value"],["name","EndDate","nz-input","","readonly","",3,"value"],["name","Zone","nz-input","","readonly","",3,"value"],["name","Status","nz-input","","readonly","",3,"value"],["name","currentVehicleControl","nz-input","","required","","readonly","",3,"ngModel","ngModelChange"],["name","newVehicleControl","nzPlaceHolder","Please Select","required","",2,"width","100%",3,"ngModel","ngModelChange"],["nz-button","","nzType","primary","nzSize","large","nzGhost","",1,"btn-form-ops",2,"float","left",3,"click"],[1,"la","la-trash"],[1,"modal-body","text-center"],["nz-button","","nzType","primary","type","button",3,"click"]],template:function(e,n){if(1&e&&(_.TgZ(0,"div",0)(1,"div",1)(2,"div",2),_.YNc(3,gt,3,4,"div",3),_.qZA()(),_.TgZ(4,"form",4,5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"h4",10),_._uU(11),_.ALo(12,"translate"),_.qZA()()()(),_.YNc(13,Dt,59,31,"div",11),_.YNc(14,ft,84,50,"ng-template",null,12,_.W1O),_.TgZ(16,"div",13)(17,"div",14),_.YNc(18,vt,4,3,"button",15),_.TgZ(19,"button",16),_.NdJ("click",function(){return n.onCancel()}),_._uU(20),_.ALo(21,"translate"),_.qZA(),_.TgZ(22,"button",17),_.NdJ("debounceClick",function(){return n.onSubmitForm()}),_._uU(23),_.ALo(24,"translate"),_.qZA()()()()(),_.YNc(25,Ut,5,1,"ng-template",null,18,_.W1O),_.qZA()),2&e){const i=_.MAs(5),l=_.MAs(15);_.xp6(3),_.Q6J("ngForOf",n.alerts),_.xp6(8),_.hij(" ",_.lcZ(12,9,"Change of Vehicle")," "),_.xp6(2),_.Q6J("ngIf",n.isMotorist)("ngIfElse",l),_.xp6(5),_.Q6J("ngIf",!n.isMotorist),_.xp6(2),_.hij(" ",_.lcZ(21,11,"Cancel")," "),_.xp6(2),_.Q6J("disabled",!i.valid)("debounceTime",1e3),_.xp6(1),_.hij(" ",_.lcZ(24,13,"Submit")," ")}},dependencies:[o.sg,o.O5,p._Y,p.Fj,p.JJ,p.JL,p.Q7,p.c5,p.On,p.F,R.Zp,p_.ix,t_.w,g_.dQ,x.Ip,x.Vq,ct.uw,T_.J,a_.wx,o.Ov,o.uU,L.X$],styles:[".errMsg[_ngcontent-%COMP%]{color:#f4516c;text-align:left}"]}),t})();var f_=a(94700),It=a(48568),Zt=a(8202),Rt=a(90371),xt=a(29252),Kt=a(22730),Bt=a(52194),Wt=a(40361);const bt=["submittedNewApp"],wt=["tipsDialog"];function yt(t,s){if(1&t){const e=_.EpF();_.TgZ(0,"div",20)(1,"span",21)(2,"input",22),_.NdJ("ngModelChange",function(i){_.CHM(e);const l=_.oxw(2);return _.KtG(l.radioChoose=i)})("ngModelChange",function(){_.CHM(e);const i=_.oxw(2);return _.KtG(i.changeVehicle())}),_.qZA()(),_.TgZ(3,"span"),_._uU(4),_.qZA()()}if(2&t){const e=s.$implicit,n=_.oxw(2);_.xp6(2),_.s9C("value",e.name),_.Q6J("ngModel",n.radioChoose),_.xp6(2),_.hij(" ",e.name," ")}}function Nt(t,s){if(1&t&&(_.TgZ(0,"div"),_.YNc(1,yt,5,3,"div",19),_.qZA()),2&t){const e=_.oxw();_.xp6(1),_.Q6J("ngForOf",e.showData.availablePlates)}}function St(t,s){if(1&t){const e=_.EpF();_.TgZ(0,"div",20)(1,"span",21)(2,"input",23),_.NdJ("ngModelChange",function(i){const u=_.CHM(e).$implicit;return _.KtG(u.checked=i)})("ngModelChange",function(i){_.CHM(e);const l=_.oxw(2);return _.KtG(l.clickedVehicle(i))}),_.qZA(),_._uU(3),_.qZA()()}if(2&t){const e=s.$implicit;_.xp6(2),_.Q6J("ngModel",e.checked),_.xp6(1),_.hij(" ",e.name," ")}}function kt(t,s){if(1&t&&(_.TgZ(0,"div"),_.YNc(1,St,4,2,"div",19),_.qZA()),2&t){const e=_.oxw();_.xp6(1),_.Q6J("ngForOf",e.showData.availablePlates)}}function qt(t,s){if(1&t){const e=_.EpF();_.TgZ(0,"button",24),_.NdJ("click",function(){_.CHM(e);const i=_.oxw();return _.KtG(i.applyHandle())}),_._uU(1,"Apply"),_.qZA()}if(2&t){const e=_.oxw();_.Tol(1==e.isAgreeRule?" btn btn-main":"btn btn-main"),_.Q6J("disabled",!e.radioChoose)}}function zt(t,s){if(1&t){const e=_.EpF();_.TgZ(0,"button",24),_.NdJ("click",function(){_.CHM(e);const i=_.oxw();return _.KtG(i.applyHandle())}),_._uU(1,"Apply"),_.qZA()}if(2&t){const e=_.oxw();_.Tol(1==e.isAgreeRule?" btn btn-main":" btn btn-main "),_.Q6J("disabled",e.applyPlatesArr.length<=0)}}function Jt(t,s){1&t&&(_.TgZ(0,"div",25),_._uU(1,'Please agree to the "Letter of Undertaking" to proceed '),_.qZA())}function Ft(t,s){if(1&t){const e=_.EpF();_.TgZ(0,"div",26)(1,"p"),_._uU(2,'Please agree to the "Letter of Undertaking" to proceed'),_.qZA(),_.TgZ(3,"button",27),_.NdJ("click",function(){_.CHM(e);const i=_.oxw();return _.KtG(i.turnOffTips())}),_._uU(4,"Ok"),_.qZA()()}}function Qt(t,s){if(1&t){const e=_.EpF();_.TgZ(0,"div",26)(1,"p"),_._uU(2),_.qZA(),_.TgZ(3,"button",27),_.NdJ("click",function(){_.CHM(e);const i=_.oxw();return _.KtG(i.onDecline())}),_._uU(4,"Ok"),_.qZA()()}if(2&t){const e=_.oxw();_.xp6(2),_.hij(" ",e.tipsMessage,"")}}function v_(t){return new Wn.w(t,"../assets/i18n/",".json")}const jt=[{path:"",component:Z.f,children:[{path:"",component:Kn,children:[{path:"",redirectTo:"applications",pathMatch:"full"},{path:"applications",component:Me,data:{breadcrumb:{label:"Applications"}}},{path:"season",component:Mn,data:{breadcrumb:{label:"Season Parking"}}},{path:"vehicle-change",component:Bt.y,data:{breadcrumb:{label:"Change Vehicle"}}},{path:"season-parking-detail",component:(()=>{class t{constructor(e,n,i){this.seasonParkingService=e,this.routers=n,this.modalService=i,this.showData={},this.startTime=null,this.endTime=null,this.radioChoose=null,this.checkStatus=null,this.applyPlatesArr=[],this.initCOde="",this.isAgreeRule=!1,this.isSuccess=!1,this.isAgree=!1,this.tipsMessage=""}ngOnInit(){this.delDisable="",this.seasonParkingService.$seasonData.subscribe(e=>{e&&e.type===j.P.Detail_SEASON_GROUP?(this.getIdentity(e.data),this.reloadData(e.data.code)):this.routers.navigate(["/season-parking-motorist/season"])}),this.applyPlatesArr=[]}reloadData(e){this.seasonCode=e,this.seasonParkingService.getGroupSeason(e).subscribe(n=>{this.showData=n,this.delDisable=!n.applyPlates.length,Object.assign(this.showData,{availablePlates:this.showData.availablePlates.map(i=>({name:i,checked:!1}))}),1==this.showData.maxCountAdditionalVehicles?(this.radioChoose=null,this.radioChoose=n.applyPlates[0],this.showData.applyPlates.length&&(this.isAgreeRule=!0)):this.showData.availablePlates.forEach(i=>{this.showData.applyPlates.includes(i.name)&&(i.checked=!0,this.applyPlatesArr.push(i.name)),this.showData.applyPlates.length&&(this.isAgreeRule=!0)}),this.checkStatus=this.showData.maxCountAdditionalVehicles})}getIdentity({applicationCode:e,driver:n,type:i}){e&&this.seasonParkingService.getIdentity(e).subscribe(l=>{Object.assign(this.showData,{identityNo:l.companyName||l.staffStudentId,identityType:l.identityType,email:n?n.email:"",type:"fullday"===i?"Normal":"Group Season"})})}changeVehicle(){console.log(this.radioChoose)}clearRadioHandle(){let e=this;e.isAgreeRule?(e.radioChoose=null,e.showData.availablePlates.map(n=>{n.checked=!1}),e.seasonParkingService.clearHandle(e.seasonCode).subscribe(n=>{1==n.status&&(e.isSuccess=!0,e.tipsMessage=n.message,this.modalRef=this.modalService.show(this.submittedNewApp,{class:"modal-md"}))})):this.tipsRef=this.modalService.show(this.tipsDialog,{class:"modal-md"})}gobackHandle(){this.routers.navigate(["/season-parking-motorist/season"])}applyHandle(){let e=this;e.applyPlatesArr=[],e.isAgreeRule?1==e.showData.maxCountAdditionalVehicles?e.seasonParkingService.applyHandle({applyPlates:[e.radioChoose],seasonCode:e.seasonCode}).subscribe(n=>{1==n.status&&(e.isSuccess=!0,e.tipsMessage=n.message,e.modalRef=e.modalService.show(e.submittedNewApp,{class:"modal-md"}))}):(e.showData.availablePlates.filter(i=>i.checked).map(i=>{e.applyPlatesArr.push(i.name)}),e.seasonParkingService.applyHandle({applyPlates:e.applyPlatesArr,seasonCode:e.seasonCode}).subscribe(i=>{1==i.status&&(this.isSuccess=!0,e.tipsMessage=i.message,e.modalRef=e.modalService.show(e.submittedNewApp,{class:"modal-md"}))})):e.tipsRef=e.modalService.show(e.tipsDialog,{class:"modal-md"})}onDecline(){this.modalRef.hide(),setTimeout(()=>{this.gobackHandle()},0)}turnOffTips(){this.tipsRef.hide()}clickedVehicle(e){this.applyPlatesArr=this.showData.availablePlates.filter(n=>n.checked).map(n=>n.name),console.log(this.applyPlatesArr)}gotoLetterOfUndertaking(){this.routers.navigate(["/season-parking-motorist/letter-Of-undertaking"])}changeAgree(e){console.log(e,"\u8f93\u51fa")}}return t.\u0275fac=function(e){return new(e||t)(_.Y36(B.C),_.Y36(g.F0),_.Y36(z.tT))},t.\u0275cmp=_.Xpm({type:t,selectors:[["season-parking-detail"]],viewQuery:function(e,n){if(1&e&&(_.Gf(bt,5),_.Gf(wt,5)),2&e){let i;_.iGM(i=_.CRH())&&(n.submittedNewApp=i.first),_.iGM(i=_.CRH())&&(n.tipsDialog=i.first)}},decls:70,vars:21,consts:[[1,"containers","m-portlet","m-portlet--tabs"],[1,"titles-big"],[1,"titles-smail"],[1,"line"],[1,"smail-tit"],[1,"strongStyle"],[1,"line",2,"display","none"],[1,"choose-options-box"],[4,"ngIf"],[1,"second-line"],["type","button","class","btn btn-main",3,"disabled","class","click",4,"ngIf"],["type","button",1,"btn","btn-outline-main",3,"click"],["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"agreeRules"],["type","checkbox","name","agreeRule","value","agree",3,"ngModel","ngModelChange"],[1,"needUnderLine",3,"click"],["class","alert alert-danger","role","alert",4,"ngIf"],["tipsDialog",""],["submittedNewApp",""],["class","every-options",4,"ngFor","ngForOf"],[1,"every-options"],[1,"input-group-addon"],["type","radio","name","chooseoptions",3,"value","ngModel","ngModelChange"],["type","checkbox","ng-true-value","true","ng-false-value","false",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-main",3,"disabled","click"],["role","alert",1,"alert","alert-danger"],[1,"modal-body","text-center"],["type","button",1,"btn","btn-main","mr-3",3,"click"]],template:function(e,n){1&e&&(_.TgZ(0,"div",0)(1,"div")(2,"div",1),_._uU(3," Season Group Details "),_.qZA(),_.TgZ(4,"div",2),_._uU(5),_.qZA()(),_.TgZ(6,"div",3)(7,"div")(8,"span",4),_._uU(9,"Start Date : "),_.qZA(),_.TgZ(10,"span",5),_._uU(11),_.ALo(12,"date"),_.qZA()(),_.TgZ(13,"div")(14,"span",4),_._uU(15,"End Date : "),_.qZA(),_.TgZ(16,"span",5),_._uU(17),_.ALo(18,"date"),_.qZA()()(),_.TgZ(19,"div",6)(20,"div")(21,"span",4),_._uU(22,"Identity Type : "),_.qZA(),_.TgZ(23,"span",5),_._uU(24),_.qZA()(),_.TgZ(25,"div")(26,"span",4),_._uU(27,"Season Type : "),_.qZA(),_.TgZ(28,"span",5),_._uU(29),_.qZA()()(),_.TgZ(30,"div",6)(31,"div")(32,"span",4),_._uU(33,"Identity No. : "),_.qZA(),_.TgZ(34,"span",5),_._uU(35),_.qZA()(),_.TgZ(36,"div")(37,"span",4),_._uU(38,"Email : "),_.qZA(),_.TgZ(39,"span",5),_._uU(40),_.qZA()()(),_.TgZ(41,"div",3)(42,"div")(43,"span",4),_._uU(44,"Primary Vehicle :"),_.qZA(),_.TgZ(45,"span",5),_._uU(46),_.qZA()()(),_.TgZ(47,"div",7)(48,"h1"),_._uU(49,"Secondary Vehicle"),_.qZA(),_.YNc(50,Nt,2,1,"div",8),_.YNc(51,kt,2,1,"div",8),_.TgZ(52,"div",9),_.YNc(53,qt,2,3,"button",10),_.YNc(54,zt,2,3,"button",10),_.TgZ(55,"button",11),_.NdJ("click",function(){return n.gobackHandle()}),_._uU(56,"Cancel"),_.qZA()(),_.TgZ(57,"button",12),_.NdJ("click",function(){return n.clearRadioHandle()}),_._uU(58,"Delete Season Group "),_.qZA()(),_.TgZ(59,"div",13)(60,"input",14),_.NdJ("ngModelChange",function(l){return n.isAgreeRule=l})("ngModelChange",function(l){return n.changeAgree(l)}),_.qZA(),_.TgZ(61,"span"),_._uU(62," I agree to the "),_.qZA(),_.TgZ(63,"span",15),_.NdJ("click",function(){return n.gotoLetterOfUndertaking()}),_._uU(64,"Letter of Undertaking"),_.qZA()(),_.YNc(65,Jt,2,0,"div",16),_.YNc(66,Ft,5,0,"ng-template",null,17,_.W1O),_.YNc(68,Qt,5,1,"ng-template",null,18,_.W1O),_.qZA()),2&e&&(_.xp6(5),_.hij(" ",null==n.showData||null==n.showData.location?null:n.showData.location.name," "),_.xp6(6),_.Oqu(_.xi3(12,15,null==n.showData||null==n.showData.ticket?null:n.showData.ticket.startDate,"dd MMM yyyy")),_.xp6(6),_.Oqu(_.xi3(18,18,null==n.showData||null==n.showData.ticket?null:n.showData.ticket.endDate,"dd MMM yyyy")),_.xp6(7),_.Oqu(null==n.showData?null:n.showData.identityType),_.xp6(5),_.Oqu(null==n.showData?null:n.showData.type),_.xp6(6),_.Oqu(null==n.showData?null:n.showData.identityNo),_.xp6(5),_.Oqu(null==n.showData?null:n.showData.email),_.xp6(6),_.Oqu(null==n.showData||null==n.showData.ticket||null==n.showData.ticket.vehicle?null:n.showData.ticket.vehicle.vehicleNumber),_.xp6(4),_.Q6J("ngIf",1==n.checkStatus),_.xp6(1),_.Q6J("ngIf",1!==n.checkStatus),_.xp6(2),_.Q6J("ngIf",1==n.checkStatus),_.xp6(1),_.Q6J("ngIf",1!==n.checkStatus),_.xp6(3),_.Q6J("disabled",n.delDisable),_.xp6(3),_.Q6J("ngModel",n.isAgreeRule),_.xp6(5),_.Q6J("ngIf",n.isAgree))},dependencies:[o.sg,o.O5,p.Fj,p.Wl,p._,p.JJ,p.On,o.uU],styles:[".containers[_ngcontent-%COMP%]{height:75vh;overflow-y:scroll;position:relative;background-color:#fff;box-sizing:border-box;padding:2rem 10rem}.containers[_ngcontent-%COMP%]   .titles-big[_ngcontent-%COMP%]{font-size:1.55rem;font-weight:500;text-align:center}.containers[_ngcontent-%COMP%]   .titles-smail[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:500;text-align:center;margin-top:1rem;margin-bottom:2rem}.containers[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{padding-left:10%;padding-right:10%;margin-bottom:1.5rem;display:flex;justify-content:space-between;font-size:1.1rem}.containers[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex}.containers[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]   .smail-tit[_ngcontent-%COMP%]{display:inline-block;width:10rem;text-align:end}.containers[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]   .strongStyle[_ngcontent-%COMP%]{font-weight:500;width:21rem;display:inline-block;text-align:start;padding-left:.5rem}.choose-options-box[_ngcontent-%COMP%]{border:2px solid #00bdb5!important;width:30rem;min-height:22rem;padding:2rem;margin:0 auto;height:auto}.choose-options-box[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:500;font-size:1.55rem;display:flex;justify-content:center;align-items:center;box-sizing:border-box;padding:.5rem}.choose-options-box[_ngcontent-%COMP%]   .every-options[_ngcontent-%COMP%]{box-sizing:border-box;padding-left:3rem;padding-right:3rem;margin-top:.7rem;margin-bottom:.7rem;font-size:1.1rem}.choose-options-box[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{margin-left:8rem;margin-bottom:1rem;margin-right:2rem;width:16rem;margin-left:4.9rem}.choose-options-box[_ngcontent-%COMP%]   .btn-default[_ngcontent-%COMP%]{margin-left:8rem;margin-right:2rem}.choose-options-box[_ngcontent-%COMP%]   .greencolor[_ngcontent-%COMP%]{background-color:#00bdb5}.choose-options-box[_ngcontent-%COMP%]   .second-line[_ngcontent-%COMP%]{display:flex;padding-left:5rem;padding-right:5rem;justify-content:space-between;margin-bottom:1rem}.agreeRules[_ngcontent-%COMP%]{margin-top:1rem;font-weight:600;text-align:center}.agreeRules[_ngcontent-%COMP%]   .needUnderLine[_ngcontent-%COMP%]{border-bottom:1px solid black;cursor:pointer}.grays[_ngcontent-%COMP%]{background-color:gray}.alert-success[_ngcontent-%COMP%], .alert-danger[_ngcontent-%COMP%]{top:1rem;position:absolute;z-index:5;width:80%;display:flex;justify-content:center;align-items:center}"]}),t})(),data:{breadcrumb:{label:"Season Parking Detail"}}},{path:"letter-Of-undertaking",component:(()=>{class t{constructor(){}ngOnInit(){}goback(){window.history.back()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_.Xpm({type:t,selectors:[["season-parking-detail"]],decls:21,vars:0,consts:[[1,"container"],[1,"first-line"],[1,"tits"],[1,"goback",3,"click"],["type","button",1,"btn","btn-default"]],template:function(e,n){1&e&&(_.TgZ(0,"div",0),_._UZ(1,"p",1),_.TgZ(2,"h1",2),_._uU(3," Letter of Undertaking for Season Group Application"),_.qZA(),_.TgZ(4,"p"),_._uU(5," 1) \u201cSeason Group\u201d is applicable only to staff with valid season parking."),_.qZA(),_.TgZ(6,"p"),_._uU(7," 2) \u201cSeason Group\u201d is limited to only 2 non-commercial vehicles within the same household."),_.qZA(),_.TgZ(8,"p"),_._uU(9," 3) The applicant acknowledges the \u201cLetter of Undertaking\u201d that the second vehicle belongs to his/her family members residing in the same residential address."),_.qZA(),_.TgZ(10,"p"),_._uU(11," 4) The first vehicle entering any car park zone in NTU\u2019s campuses will be recognized as Season Parking and the second vehicle (while the first vehicle is still in the car park) will be recognized as Hourly Parking where relevant hourly charges shall be applicable.."),_.qZA(),_.TgZ(12,"p"),_._uU(13," 5) Termination of Season Parking will remove the Season Group arrangement. When the User re-applies for Season Parking, they will have to similarly re-apply for Season Group upon approval of their Season Parking ticket."),_.qZA(),_.TgZ(14,"p"),_._uU(15," 6) After termination of Season Parking, the User\u2019s vehicles will be recognised as Hourly Parking and the relevant hourly charges will be applicable."),_.qZA(),_.TgZ(16,"p"),_._uU(17," 7) Approval for Group Season will be automatically granted upon acknowledgement of the \u201cLetter of Undertaking\u201d and subsequent submission of application."),_.qZA(),_.TgZ(18,"div",3),_.NdJ("click",function(){return n.goback()}),_.TgZ(19,"button",4),_._uU(20,"Back"),_.qZA()()())},styles:[".first-line[_ngcontent-%COMP%]{height:2rem}.tits[_ngcontent-%COMP%]{display:flex;justify-content:center}.goback[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;margin-top:1rem}.goback[_ngcontent-%COMP%]   .btn-default[_ngcontent-%COMP%]{margin-bottom:1rem}.container[_ngcontent-%COMP%]{height:65vh;position:relative;background-color:#fff;box-sizing:border-box}"]}),t})(),data:{breadcrumb:{label:"letter Of Undertaking"}}},{path:"form-termination",component:Wt.t,data:{breadcrumb:{label:"Termination Form"}}},{path:"car-park",component:Hn,data:{breadcrumb:{label:"Car Park"}}},{path:"new-application",component:Gn.v,data:{breadcrumb:{label:"New Application"}}},{path:"termination-form",component:lt,data:{breadcrumb:{label:"Termination Form"}}},{path:"change-vehicle",component:Lt,data:{breadcrumb:{label:"Change of Vehicle"}}},{path:"summary",redirectTo:"applications",pathMatch:"full"}]},{path:"create",component:b.O,children:[{path:"application",component:We,data:{breadcrumb:{title:"Create Season Application",label:"Create Season Application"}}},{path:"season-parking",component:Fe,data:{breadcrumb:{title:"Create Season Parking",label:"Create Season Parking"}}}]},{path:"edit/:id",component:nn,data:{breadcrumb:{label:"Edit"}}},{path:"applications-history",component:T}]}];let Ht=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_.oAB({type:t}),t.\u0275inj=_.cJS({providers:[P.k,E.e,B.C,m.I,f.x,D.F,U.f,v.I,O.z,j.B],imports:[o.ez,p.u5,g.Bz.forChild(jt),On.x,h.D,Y.mr,Oe.k,It.S,Zt.Ud,z.zk.forRoot(),i_.A0,xt.E7,d.kn,Kt.S,L.aw.forChild({loader:{provide:L.Zw,useFactory:v_,deps:[Bn.eN]}}),f_.a,a_.nM.forRoot(),Rt.bB.forRoot(),g.Bz,f_.a]}),t})()},94442:(r,c,a)=>{"use strict";a.d(c,{I:()=>y});var o=a(94650),p=a(17489),d=a(80529),m=a(60097),O=a(76284),f=a(89383),v=a(36895);const D=["inputFile"];function P(_,L){if(1&_&&o._UZ(0,"img",12),2&_){const M=o.oxw(3);o.s9C("src",M.defaultThumb,o.LSH),o.s9C("alt",null==M.selectedFile?null:M.selectedFile.name)}}function E(_,L){if(1&_&&o._UZ(0,"img",12),2&_){const M=o.oxw(2).$implicit,R=o.oxw(2);o.s9C("src",M||R.srcImg,o.LSH),o.s9C("alt",null==R.selectedFile?null:R.selectedFile.name)}}function B(_,L){if(1&_&&o.YNc(0,E,1,2,"img",13),2&_){const M=o.oxw().$implicit,R=o.oxw(2);o.Q6J("ngIf",M||R.srcImg)}}function U(_,L){if(1&_){const M=o.EpF();o.TgZ(0,"div",8)(1,"span",10)(2,"i",11),o.NdJ("click",function(){const A=o.CHM(M).index,k=o.oxw(2);return o.KtG(k.onRemoveItem(A))}),o.qZA(),o.YNc(3,P,1,2,"ng-template",0),o.YNc(4,B,1,1,"ng-template",0),o.qZA()()}if(2&_){const M=L.$implicit;o.xp6(3),o.Q6J("ngIf","default-thumb"===M),o.xp6(1),o.Q6J("ngIf","default-thumb"!==M)}}function h(_,L){if(1&_&&o._UZ(0,"img",14),2&_){const M=o.oxw(2);o.s9C("src",M.srcImg,o.LSH)}}function b(_,L){if(1&_&&(o.TgZ(0,"div",6),o.YNc(1,U,5,2,"div",7),o.TgZ(2,"div",8)(3,"span"),o.YNc(4,h,1,1,"img",9),o.qZA()()()),2&_){const M=o.oxw();o.xp6(1),o.Q6J("ngForOf",M.listLocalImages),o.xp6(3),o.Q6J("ngIf",M.srcImg)}}function Z(_,L){if(1&_){const M=o.EpF();o.TgZ(0,"div",15),o.NdJ("click",function(){o.CHM(M),o.oxw();const x=o.MAs(7);return o.KtG(x.click())}),o.TgZ(1,"span",16),o._UZ(2,"i",17),o.qZA()()}}let y=(()=>{class _{constructor(M,R,x,A){this.http=M,this.carparkService=R,this.assetsService=x,this.translate=A,this.selectedFiles=null,this.listLocalImages=[],this.listTmpSelectedFiles=[],this.defaultThumb="./assets/app/media/img/misc/thumbnail-pdf-file-bg.png",this.maxSizePerFile=20,this.defaultMessage="defaultMessageUploadFiles",this.uuidImage=new o.vpe}ngOnInit(){this.message=this.warningMessage}ngOnChanges(M){M.newMessage&&M.newMessage.previousValue&&M.newMessage.currentValue!==M.newMessage.previousValue&&(this.listTmpSelectedFiles.length>0?this.onUpload():this.message="Ensure all required fields are completed."),setTimeout(()=>{this.message=this.warningMessage},5e3)}ngOnDestroy(){}onFileSelected(M){this.selectedFiles=M.target.files;for(let R=0;R<this.selectedFiles.length;R++){const x=this.selectedFiles[R];let A=new FileReader;A.onload=k=>{x.size/1024/1024>this.maxSizePerFile?this.message=`Only upload file's size smaller than ${this.maxSizePerFile}MB`:(this.listTmpSelectedFiles.push(x),this.message=this.defaultMessage,"image/jpeg"===x.type||"image/png"===x.type||"application/pdf"===x.type?(this.message=this.defaultMessage,this.listLocalImages.push("application/pdf"===x.type?"default-thumb":A.result),document.getElementById("wapperImg").style.cssText="background-color: transparent; height: 7rem; 7rem: auto; margin: 1em 0"):this.message="Only upload PDF, JPEG and PNG files")},A.readAsDataURL(x)}(0,p.unionWith)(this.listTmpSelectedFiles,p.isEqual),(0,p.unionWith)(this.listLocalImages,p.isEqual)}onUpload(){if(0!==this.listLocalImages.length)for(const M of this.listTmpSelectedFiles){const R=new FormData;R.append("file",M,M.name);let A=this.listTmpSelectedFiles.length;this.carparkService.uploadImage(R).subscribe(k=>{this.uuidImage.emit({uuid:k.uuid,numbers:A}),this.message="Attachment(s) successfully uploaded.",setTimeout(()=>{this.message=this.defaultMessage},4e3)})}}onRemoveItem(M){this.listLocalImages.splice(M,1),this.listTmpSelectedFiles.splice(M,1),this.reset()}reset(){this.inputFile.nativeElement.value=""}}return _.\u0275fac=function(M){return new(M||_)(o.Y36(d.eN),o.Y36(m.x),o.Y36(O.z),o.Y36(f.sK))},_.\u0275cmp=o.Xpm({type:_,selectors:[["app-upload-image"]],viewQuery:function(M,R){if(1&M&&o.Gf(D,5),2&M){let x;o.iGM(x=o.CRH())&&(R.inputFile=x.first)}},inputs:{srcImg:"srcImg",newMessage:"newMessage",warningMessage:"warningMessage"},outputs:{uuidImage:"uuidImage"},features:[o.TTD],decls:8,vars:5,consts:[[3,"ngIf"],[1,"row"],["id","wapperImg","class","my-3 ml-5",3,"click",4,"ngIf"],[1,"row","text-danger","mt-3"],["hidden","","multiple","","type","file","accept",".jpeg, .png, .pdf",3,"change"],["inputFile",""],[1,"row","preview-images"],["class","col-sm-4 col-lg-3 mx-3 my-3 preview-images__single",4,"ngFor","ngForOf"],[1,"col-sm-4","col-lg-3","mx-3","my-3","preview-images__single"],["class","rounded custom-img","alt","selected-carpark-new-application",3,"src",4,"ngIf"],[2,"position","relative"],[1,"la","la-times-circle-o","remove-image",3,"click"],[1,"rounded","custom-img",3,"src","alt"],["class","rounded custom-img",3,"src","alt",4,"ngIf"],["alt","selected-carpark-new-application",1,"rounded","custom-img",3,"src"],["id","wapperImg",1,"my-3","ml-5",3,"click"],["id","placeHolderImage"],[1,"la","la-plus"]],template:function(M,R){1&M&&(o.YNc(0,b,5,2,"ng-template",0),o.TgZ(1,"div",1),o.YNc(2,Z,3,0,"div",2),o.qZA(),o.TgZ(3,"div",3),o._uU(4),o.ALo(5,"translate"),o.qZA(),o.TgZ(6,"input",4,5),o.NdJ("change",function(A){return R.onFileSelected(A)}),o.qZA()),2&M&&(o.Q6J("ngIf",R.listLocalImages.length>0||void 0!==R.srcImg),o.xp6(2),o.Q6J("ngIf",R.listLocalImages.length<2),o.xp6(2),o.hij(" ",o.lcZ(5,3,R.message),"\n"))},dependencies:[v.sg,v.O5,f.X$],styles:[".custom-img[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:5px;width:150px}.custom-img[_ngcontent-%COMP%]:hover{cursor:pointer}.preview-images__single[_ngcontent-%COMP%]{margin-right:4rem!important}.preview-images[_ngcontent-%COMP%]   .remove-image[_ngcontent-%COMP%]{position:absolute;color:#000;font-weight:700;left:93%;display:block}.preview-images[_ngcontent-%COMP%]   .remove-image[_ngcontent-%COMP%]:hover{color:#615a5a;cursor:pointer}.btn-upload[_ngcontent-%COMP%]{background:#c4c5d6;background-color:#c4c5d6}.btn-upload[_ngcontent-%COMP%]:hover{background-color:#010119;background:#010119}.wrapper-images[_ngcontent-%COMP%], #wapperImg[_ngcontent-%COMP%]{width:118px;height:118px;position:relative;border:1px dashed #eaeaea;border-radius:3px;-webkit-border-radius:3px;-moz-border-radius:3px}.wrapper-images[_ngcontent-%COMP%]:hover, #wapperImg[_ngcontent-%COMP%]:hover{cursor:pointer}.wrapper-images[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child, #wapperImg[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{position:absolute;left:35%;top:30%}.wrapper-images[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child   i[_ngcontent-%COMP%], #wapperImg[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child   i[_ngcontent-%COMP%]{font-size:xx-large}"]}),_})()},19690:(r,c,a)=>{"use strict";function o(d){if(d.live&&"closed"!==d.live.availability){const m=100*d.live.availableLots/d.totalLots;if(m>10&&m<50)return"Almostfull";if(m>=50&&m<100)return"Available";if(m>=100)return"Available-bk"}return"Unavailable"}function g(d){const m_ava="#3eaa76",m_full="#e97363",m_empty="transparent";return d.live&&"closed"!==d.live.availability?d.chargingPile&&0!==d.evTotalLots?d.evFreeLots>=10?d.live.availableLots>=10?{chargeBg:m_ava,parkBg:m_ava}:d.live.availableLots>0?{chargeBg:m_ava,parkBg:"#e6ae3b"}:{chargeBg:m_ava,parkBg:m_full}:d.evFreeLots>0?d.live.availableLots>=10?{chargeBg:"#e6ae3b",parkBg:m_ava}:d.live.availableLots>0?{chargeBg:"#e6ae3b",parkBg:"#e6ae3b"}:{chargeBg:"#e6ae3b",parkBg:m_full}:d.live.availableLots>=10?{chargeBg:m_full,parkBg:m_ava}:d.live.availableLots>0?{chargeBg:m_full,parkBg:"#e6ae3b"}:{chargeBg:m_full,parkBg:m_full}:d.live.availableLots>=10?{chargeBg:m_empty,parkBg:m_ava}:d.live.availableLots>0?{chargeBg:m_empty,parkBg:"#e6ae3b"}:{chargeBg:m_empty,parkBg:m_full}:{chargeBg:m_empty,parkBg:"#9b9b9b"}}a.d(c,{TR:()=>o,Y4:()=>g})},94327:function(r,c){var p;void 0!==(p=function(){"use strict";function d(P,E,B){var U=new XMLHttpRequest;U.open("GET",P),U.responseType="blob",U.onload=function(){D(U.response,E,B)},U.onerror=function(){console.error("could not download file")},U.send()}function m(P){var E=new XMLHttpRequest;E.open("HEAD",P,!1);try{E.send()}catch{}return 200<=E.status&&299>=E.status}function O(P){try{P.dispatchEvent(new MouseEvent("click"))}catch{var E=document.createEvent("MouseEvents");E.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),P.dispatchEvent(E)}}var f="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,v=f.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),D=f.saveAs||("object"!=typeof window||window!==f?function(){}:"download"in HTMLAnchorElement.prototype&&!v?function(P,E,B){var U=f.URL||f.webkitURL,h=document.createElement("a");h.download=E=E||P.name||"download",h.rel="noopener","string"==typeof P?(h.href=P,h.origin===location.origin?O(h):m(h.href)?d(P,E,B):O(h,h.target="_blank")):(h.href=U.createObjectURL(P),setTimeout(function(){U.revokeObjectURL(h.href)},4e4),setTimeout(function(){O(h)},0))}:"msSaveOrOpenBlob"in navigator?function(P,E,B){if(E=E||P.name||"download","string"!=typeof P)navigator.msSaveOrOpenBlob(function g(P,E){return typeof E>"u"?E={autoBom:!1}:"object"!=typeof E&&(console.warn("Deprecated: Expected third argument to be a object"),E={autoBom:!E}),E.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(P.type)?new Blob(["\ufeff",P],{type:P.type}):P}(P,B),E);else if(m(P))d(P,E,B);else{var U=document.createElement("a");U.href=P,U.target="_blank",setTimeout(function(){O(U)})}}:function(P,E,B,U){if((U=U||open("","_blank"))&&(U.document.title=U.document.body.innerText="downloading..."),"string"==typeof P)return d(P,E,B);var h="application/octet-stream"===P.type,b=/constructor/i.test(f.HTMLElement)||f.safari,Z=/CriOS\/[\d]+/.test(navigator.userAgent);if((Z||h&&b||v)&&typeof FileReader<"u"){var y=new FileReader;y.onloadend=function(){var M=y.result;M=Z?M:M.replace(/^data:[^;]*;/,"data:attachment/file;"),U?U.location.href=M:location=M,U=null},y.readAsDataURL(P)}else{var _=f.URL||f.webkitURL,L=_.createObjectURL(P);U?U.location=L:location.href=L,U=null,setTimeout(function(){_.revokeObjectURL(L)},4e4)}});f.saveAs=D.saveAs=D,r.exports=D}.apply(c,[]))&&(r.exports=p)}}]);