"use strict";(self.webpackChunkst_admin=self.webpackChunkst_admin||[]).push([[2179],{21838:(I,T,o)=>{o.d(T,{z:()=>h});var e=o(94650);let h=(()=>{class d{constructor(t){}onKeyDown(t){let i=t;-1!==[46,8,9,27,13,110,190].indexOf(i.keyCode)||65===i.keyCode&&(i.ctrlKey||i.metaKey)||67===i.keyCode&&(i.ctrlKey||i.metaKey)||86===i.keyCode&&(i.ctrlKey||i.metaKey)||88===i.keyCode&&(i.ctrlKey||i.metaKey)||i.keyCode>=35&&i.keyCode<=39||(i.shiftKey||i.keyCode<48||i.keyCode>57)&&(i.keyCode<96||i.keyCode>105)&&i.preventDefault()}}return d.\u0275fac=function(t){return new(t||d)(e.Y36(e.SBq))},d.\u0275dir=e.lG2({type:d,selectors:[["","att-numberonly",""]],hostBindings:function(t,i){1&t&&e.NdJ("keydown",function(A){return i.onKeyDown(A)})},features:[e._Bn([])]}),d})()},67869:(I,T,o)=>{o.d(T,{F:()=>U});var e=o(94650),h=o(8929),d=o(11481),n=o(76284),t=o(36895),i=o(89383);function M(m,C){if(1&m&&(e.TgZ(0,"div",5)(1,"h3",6),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",7),e._uU(5),e.ALo(6,"translate"),e.qZA()()),2&m){const a=e.oxw();e.xp6(2),e.hij("",e.lcZ(3,2,a.textWaysUploading),"."),e.xp6(3),e.hij(" ",e.lcZ(6,4,a.textImageAllowed)," ")}}function A(m,C){if(1&m&&(e.TgZ(0,"div"),e._UZ(1,"img",8),e.qZA()),2&m){const a=e.oxw();e.xp6(1),e.Q6J("src",a.fileToUploadUrl,e.LSH)}}let U=(()=>{class m{constructor(a,f){this.sanitizer=a,this.assetsService=f,this.disableTextDefault=!1,this.checkImage=!1,this.imageChanged=new e.vpe,this.errorMsg=new e.vpe,this.fileToUpload=null,this.dragEvent$=new h.xQ,this.textWaysUploading="Drop files here or click to upload.",this.textImageAllowed="Only image files are allowed for upload",this.limitImage={minWidth:465,maxWidth:480,minHeight:310,maxHeight:320}}ngOnInit(){this.fileToUploadUrl=this.image,this.disableTextDefault&&(this.textWaysUploading="",this.textImageAllowed="")}handleFileInput(a){if(this.fileToUpload=a.item(0),!this.checkImage)return this.fileToUploadUrl=this.fileToUpload?this.assetsService.getSafeFileUrl(this.fileToUpload):this.fileToUpload,void this.imageChanged.emit(this.fileToUpload);this.checkImageDimensions()}onDrop(a){if(a.preventDefault(),this.fileToUpload=a.dataTransfer.files.item(0),!this.checkImage)return this.fileToUploadUrl=this.fileToUpload?this.assetsService.getSafeFileUrl(this.fileToUpload):this.fileToUpload,void this.imageChanged.emit(this.fileToUpload);this.checkImageDimensions()}onDragOver(a){a.stopPropagation(),a.preventDefault()}checkImageDimensions(){if(this.fileToUpload){let a=new FileReader;a.readAsDataURL(this.fileToUpload),a.onload=f=>{const c=new Image;c.src=a.result,c.onload=()=>{const v=c.naturalHeight,g=c.naturalWidth;g>=this.limitImage.minWidth&&g<=this.limitImage.maxWidth&&v>=this.limitImage.minHeight&&v<=this.limitImage.maxHeight?(this.fileToUploadUrl=this.fileToUpload?this.assetsService.getSafeFileUrl(this.fileToUpload):this.fileToUpload,this.imageChanged.emit(this.fileToUpload)):this.errorMsg.emit(!0)}}}}}return m.\u0275fac=function(a){return new(a||m)(e.Y36(d.H7),e.Y36(n.z))},m.\u0275cmp=e.Xpm({type:m,selectors:[["app-image-input"]],inputs:{image:"image",disableTextDefault:"disableTextDefault",checkImage:"checkImage"},outputs:{imageChanged:"imageChanged",errorMsg:"errorMsg"},decls:6,vars:2,consts:[[1,"m-dropzone","m-dropzone--success","dz-clickable","m--padding-0",3,"click","drop","dragover"],["class","m-dropzone__msg dz-message m--margin-50",4,"ngIf","ngIfElse"],["imageTpl",""],["type","file","accept","image/*",3,"change"],["file",""],[1,"m-dropzone__msg","dz-message","m--margin-50"],[1,"m-dropzone__msg-title"],[1,"m-dropzone__msg-desc"],[2,"height","140px","width","auto",3,"src"]],template:function(a,f){if(1&a){const c=e.EpF();e.TgZ(0,"div",0),e.NdJ("click",function(){e.CHM(c);const g=e.MAs(5);return e.KtG(g.click())})("drop",function(g){return f.onDrop(g)})("dragover",function(g){return f.onDragOver(g)}),e.YNc(1,M,7,6,"div",1),e.YNc(2,A,2,1,"ng-template",null,2,e.W1O),e.TgZ(4,"input",3,4),e.NdJ("change",function(g){return f.handleFileInput(g.target.files)}),e.qZA()()}if(2&a){const c=e.MAs(3);e.xp6(1),e.Q6J("ngIf",!f.fileToUploadUrl)("ngIfElse",c)}},dependencies:[t.O5,i.X$],styles:["input[_ngcontent-%COMP%]{display:none}img[_ngcontent-%COMP%]{width:100%}"]}),m})()},95496:(I,T,o)=>{o.d(T,{S:()=>b});var e=o(94650),h=o(38014),d=o(89383),n=o(36895),t=o(24006),i=o(67869),M=o(38231),A=o(35635),U=o(66616),m=o(47044),C=o(21811);function a(l,u){1&l&&(e.TgZ(0,"div",28),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Field is required.")," "))}function f(l,u){1&l&&(e.TgZ(0,"div",28),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Field is required.")," "))}function c(l,u){1&l&&(e.TgZ(0,"div",28),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Field is required.")," "))}function v(l,u){1&l&&(e.TgZ(0,"div",28),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Field is required.")," "))}function g(l,u){if(1&l&&e._UZ(0,"nz-option",29),2&l){const _=u.$implicit;e.Q6J("nzValue",_.value)("nzLabel",_.text)}}function y(l,u){if(1&l&&e._UZ(0,"nz-option",29),2&l){const _=u.$implicit;e.Q6J("nzValue",_.value)("nzLabel",_.text)}}let b=(()=>{class l{constructor(_){this.translate=_,this.form=(0,h.I6g)(),this.submitText="Submit",this.submitted=new e.vpe,this.canceled=new e.vpe,this.typeOptions=h.zpQ,this.conditionOptions=h.gHT}ngOnInit(){}cancel(){this.canceled.emit()}submit(){this.submitted.emit(this.form)}}return l.\u0275fac=function(_){return new(_||l)(e.Y36(d.sK))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-stations-form"]],inputs:{carParkId:"carParkId",form:"form",submitText:"submitText",cancelText:"cancelText"},outputs:{submitted:"submitted",canceled:"canceled"},decls:65,vars:40,consts:[[1,"m-form","m-form--fit","m-form--label-align-right"],[1,"m-portlet","m-portlet--bordered-semi"],[1,"m-portlet__head"],[1,"m-portlet__head-caption"],[1,"m-portlet__head-title"],[1,"m-portlet__head-text"],[1,"m-portlet__body"],[1,"form-group","m-form__group","row"],[1,"col-form-label","col-lg-2","col-sm-12"],[1,"col-md-10","col-sm-12"],[1,"row","form-group","m-form__group"],[1,"col-lg-4","col-sm-12"],["type","text","nz-input","","name","stationId","required","",3,"ngModel","ngModelChange"],["stationId","ngModel"],["class","form-control-feedback",4,"ngIf"],["type","text","nz-input","","name","stationName","required","",3,"ngModel","ngModelChange"],["stationName","ngModel"],["type","text","nz-input","","name","ip","required","",3,"ngModel","ngModelChange"],["ip","ngModel"],["type","text","nz-input","","name","port","required","",3,"ngModel","ngModelChange"],["port","ngModel"],["name","stationType","nzPlaceHolder","Please Select",2,"width","100%",3,"ngModel","ngModelChange"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["name","stationStatus","nzPlaceHolder","Please Select",2,"width","100%",3,"ngModel","ngModelChange"],[1,"m-form__actions","m-form__actions--right"],["nz-button","","nzType","primary","nzSize","large","nzGhost","",1,"btn-form-ops",3,"click"],[1,"la","la-arrow-left"],["nz-button","","nzType","primary","nzSize","large",1,"btn-form-ops","m--margin-left-30",3,"click"],[1,"form-control-feedback"],[3,"nzValue","nzLabel"]],template:function(_,r){if(1&_&&(e.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),e._uU(6),e.ALo(7,"translate"),e.qZA()()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"label",8),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",9),e._UZ(14,"app-image-input"),e.qZA()(),e.TgZ(15,"div",10)(16,"label",8),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"div",11)(20,"input",12,13),e.NdJ("ngModelChange",function(s){return r.form.code=s}),e.qZA(),e.YNc(22,a,3,3,"div",14),e.qZA(),e.TgZ(23,"label",8),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"div",11)(27,"input",15,16),e.NdJ("ngModelChange",function(s){return r.form.name=s}),e.qZA(),e.YNc(29,f,3,3,"div",14),e.qZA()(),e.TgZ(30,"div",10)(31,"label",8),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"div",11)(35,"input",17,18),e.NdJ("ngModelChange",function(s){return r.form.ip=s}),e.qZA(),e.YNc(37,c,3,3,"div",14),e.qZA(),e.TgZ(38,"label",8),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"div",11)(42,"input",19,20),e.NdJ("ngModelChange",function(s){return r.form.port=s}),e.qZA(),e.YNc(44,v,3,3,"div",14),e.qZA()(),e.TgZ(45,"div",10)(46,"label",8),e._uU(47),e.ALo(48,"translate"),e.qZA(),e.TgZ(49,"div",11)(50,"nz-select",21),e.NdJ("ngModelChange",function(s){return r.form.type=s}),e.YNc(51,g,1,2,"nz-option",22),e.qZA()(),e.TgZ(52,"label",8),e._uU(53),e.ALo(54,"translate"),e.qZA(),e.TgZ(55,"div",11)(56,"nz-select",23),e.NdJ("ngModelChange",function(s){return r.form.status=s}),e.YNc(57,y,1,2,"nz-option",22),e.qZA()()()()(),e.TgZ(58,"div",24)(59,"button",25),e.NdJ("click",function(){return r.cancel()}),e._UZ(60,"i",26),e._uU(61),e.ALo(62,"translate"),e.qZA(),e.TgZ(63,"button",27),e.NdJ("click",function(){return r.submit()}),e._uU(64),e.qZA()()()),2&_){const p=e.MAs(21),s=e.MAs(28),Z=e.MAs(36),P=e.MAs(43);e.xp6(6),e.hij(" ",e.lcZ(7,22,"EV Station")," "),e.xp6(5),e.hij(" ",e.lcZ(12,24,"Picture"),": "),e.xp6(6),e.hij(" ",e.lcZ(18,26,"Station ID"),": "),e.xp6(3),e.Q6J("ngModel",r.form.code),e.xp6(2),e.Q6J("ngIf",p.invalid&&(p.dirty||p.touched)),e.xp6(2),e.hij(" ",e.lcZ(25,28,"Station Name"),": "),e.xp6(3),e.Q6J("ngModel",r.form.name),e.xp6(2),e.Q6J("ngIf",s.invalid&&(s.dirty||s.touched)),e.xp6(3),e.hij(" ",e.lcZ(33,30,"IP"),": "),e.xp6(3),e.Q6J("ngModel",r.form.ip),e.xp6(2),e.Q6J("ngIf",Z.invalid&&(Z.dirty||Z.touched)),e.xp6(2),e.hij(" ",e.lcZ(40,32,"Port"),": "),e.xp6(3),e.Q6J("ngModel",r.form.port),e.xp6(2),e.Q6J("ngIf",P.invalid&&(P.dirty||P.touched)),e.xp6(3),e.hij(" ",e.lcZ(48,34,"Type"),": "),e.xp6(3),e.Q6J("ngModel",r.form.type),e.xp6(1),e.Q6J("ngForOf",r.typeOptions),e.xp6(2),e.hij(" ",e.lcZ(54,36,"Status"),": "),e.xp6(3),e.Q6J("ngModel",r.form.status),e.xp6(1),e.Q6J("ngForOf",r.conditionOptions),e.xp6(4),e.hij(" ",e.lcZ(62,38,"Cancel")," "),e.xp6(3),e.Oqu(r.submitText)}},dependencies:[n.sg,n.O5,t._Y,t.Fj,t.JJ,t.JL,t.Q7,t.On,t.F,i.F,M.Ip,M.Vq,A.Zp,U.ix,m.w,C.dQ,d.X$],encapsulation:2}),l})()},19690:(I,T,o)=>{function e(n){if(n.live&&"closed"!==n.live.availability){const t=100*n.live.availableLots/n.totalLots;if(t>10&&t<50)return"Almostfull";if(t>=50&&t<100)return"Available";if(t>=100)return"Available-bk"}return"Unavailable"}function d(n){const t_ava="#3eaa76",t_full="#e97363",t_empty="transparent";return n.live&&"closed"!==n.live.availability?n.chargingPile&&0!==n.evTotalLots?n.evFreeLots>=10?n.live.availableLots>=10?{chargeBg:t_ava,parkBg:t_ava}:n.live.availableLots>0?{chargeBg:t_ava,parkBg:"#e6ae3b"}:{chargeBg:t_ava,parkBg:t_full}:n.evFreeLots>0?n.live.availableLots>=10?{chargeBg:"#e6ae3b",parkBg:t_ava}:n.live.availableLots>0?{chargeBg:"#e6ae3b",parkBg:"#e6ae3b"}:{chargeBg:"#e6ae3b",parkBg:t_full}:n.live.availableLots>=10?{chargeBg:t_full,parkBg:t_ava}:n.live.availableLots>0?{chargeBg:t_full,parkBg:"#e6ae3b"}:{chargeBg:t_full,parkBg:t_full}:n.live.availableLots>=10?{chargeBg:t_empty,parkBg:t_ava}:n.live.availableLots>0?{chargeBg:t_empty,parkBg:"#e6ae3b"}:{chargeBg:t_empty,parkBg:t_full}:{chargeBg:t_empty,parkBg:"#9b9b9b"}}o.d(T,{TR:()=>e,Y4:()=>d})}}]);