"use strict";(self.webpackChunkst_admin=self.webpackChunkst_admin||[]).push([[2010],{76284:(B,T,e)=>{e.d(T,{z:()=>O});var E=e(3927),c=e(94650),o=e(80529),M=e(28555),t=e(11481),C=e(91599);let O=(()=>{class A extends E.su{constructor(p,i,d,m){super(p,i),this.http=p,this.store=i,this.sanitizer=d,this.modelName="User",this.baseUrl="",this.handleError=m.createHandleError(`${this.modelName}Service`)}uploadImage(p){const i=this.getUrl("carpark/api/assets/img"),d=new FormData;return d.append("file",p,p.name),this.post(i,d).map(({uuid:m})=>this.getImage(m))}getImage(p){return this.getUrl(`carpark/api/resources/${p}`)}getImageByUuid(p,i){return this.get(this.getUrl(`carpark/api/resources/${p}`),{responseType:"blob"}).map(d=>i?this._getSafeFileUrl(d):this.getSafeFileUrl(d))}getSafeFileUrl(p){return this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(p))}_getSafeFileUrl(p){return{imgUrl:this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(p)),type:p.type}}requestSessionImage(p,i){const d=this.getUrl(`carpark/api/anpr/request/${p}/${i}`);return this.get(d,{responseType:"text"})}getSessionImage(p){return this.get(this.getUrl(`carpark/api/anpr/assets/${p}/1`),{responseType:"blob"}).map(i=>this.getSafeFileUrl(i))}}return A.\u0275fac=function(p){return new(p||A)(c.LFG(o.eN),c.LFG(M.yh),c.LFG(t.H7),c.LFG(C.k))},A.\u0275prov=c.Yz7({token:A,factory:A.\u0275fac}),A})()},64870:(B,T,e)=>{e.d(T,{P:()=>A});var E=e(3927),c=e(26245),o=e(27221),M=e(94650),t=e(28555),C=e(80529),O=e(91599);let A=(()=>{class v extends E.su{constructor(i,d,m){super(d,i),this.store=i,this.http=d,this.modelName="Layout",this.baseUrl="carpark/api/car-park-layouts",this.handleError=m.createHandleError(`${this.modelName}Service`)}filterModelByCarPark(i,d){const m=(0,c.U8)(`${this.baseUrl}/byCarParkId/page`,{...i,...(0,c.jq)(d)});return this.get(this.getUrl(m)).pipe((0,o.K)(this.handleError(`${this.modelName}Filter`,{}))).map(P=>Array.isArray(P)?(0,E.eC)(P):(0,E.O7)(P))}getList(i){const d=(0,c.U8)(`${this.baseUrl}/byCarParkId/list`,{...i});return this.get(this.getUrl(d))}updateModel(i){return this.put(this.getUrl(`${this.baseUrl}`),i).pipe((0,o.K)(this.handleError(`${this.modelName}Update`,{})))}}return v.\u0275fac=function(i){return new(i||v)(M.LFG(t.yh),M.LFG(C.eN),M.LFG(O.k))},v.\u0275prov=M.Yz7({token:v,factory:v.\u0275fac}),v})()},85265:(B,T,e)=>{e.d(T,{K:()=>A});var E=e(3927),c=e(26245),o=e(27221),M=e(94650),t=e(28555),C=e(80529),O=e(91599);let A=(()=>{class v extends E.su{constructor(i,d,m){super(d,i),this.store=i,this.http=d,this.modelName="Slot",this.baseUrl="carpark/api/car-park-slots",this.handleError=m.createHandleError(`${this.modelName}Service`)}filterModelByCarPark(i,d){const m=(0,c.U8)(`${this.baseUrl}/byCarParkId/page`,{...i,...(0,c.jq)(d)});return this.get(this.getUrl(m)).pipe((0,o.K)(this.handleError(`${this.modelName}Filter`,{}))).map(P=>Array.isArray(P)?(0,E.eC)(P):(0,E.O7)(P))}getList(i){const d=(0,c.U8)(`${this.baseUrl}/byCarParkId/list`,{...i});return this.get(this.getUrl(d))}updateModel(i){return this.put(this.getUrl(`${this.baseUrl}`),i).pipe((0,o.K)(this.handleError(`${this.modelName}Update`,{})))}askTariffsList(){const d=this.getUrl("scp-mg-devicemgt/costmode/findAll");return this.post(d,{companyName:"",costmodeName:"",ownerId:"",pageNum:1,pageSize:9999})}askChargerAndPlug(){const i=this.getUrl("scp-mg-devicemgt/chargingPileService/getStakeAndConnectorInfo");return this.get(i)}bindHandle(i){const d=this.getUrl("scp-mg-devicemgt/chargingPileService/stakeFeeModelRel");return this.post(d,i)}}return v.\u0275fac=function(i){return new(i||v)(M.LFG(t.yh),M.LFG(C.eN),M.LFG(O.k))},v.\u0275prov=M.Yz7({token:v,factory:v.\u0275fac}),v})()},4666:(B,T,e)=>{e.d(T,{p:()=>d}),e(38014);var c=e(3927),o=e(26245),M=e(27221),t=e(66708),C=e(94650),O=e(60097),A=e(93764),v=e(80529),p=e(28555),i=e(91599);let d=(()=>{class m extends c.su{constructor(s,u,h,f,y){super(h,f),this.carparkService=s,this.condoService=u,this.http=h,this.store=f,this.modelName="Transaction",this.handleError=y.createHandleError(`${this.modelName}Service`)}ngOnInit(){}handleDynamicUrl(){const s=JSON.parse(localStorage.getItem("user")).login;this.baseUrl=this.carparkService.isMotorist()&&t.Z.isNotNull(s)?`carpark/api/drivers/${s}/transactions`:this.condoService.isCondoOwner()?"carpark/api/working-sessions/transactions":"carpark/api/car-parks/transactions"}filterModel(s,u){return this.handleDynamicUrl(),super.filterModel(s,u).map(h=>h.data?h:{data:[],pagination:(0,o.f$)()})}fetchAbnormalTransactions(s,u){const h=(0,o.U8)("carpark/api/car-parks/transactions/abnormal",{...s,...(0,o.jq)(u)});return this.get(this.getUrl(h)).map(c.O7)}fetchAbnormalTransaction(s){return this.get(this.getUrl(`carpark/api/parking-transactions/${s}`))}verifyAbnormalTransaction(s){return this.post(this.getUrl(`carpark/api/parking-transactions/${s.id}/update`),s)}filterByVehicle(s,u){const h=this.getUrl((0,o.U8)(`carpark/api/parking-transactions/plateNo/${s}`,{...(0,o.jq)(u)}));return this.get(h).pipe((0,M.K)(this.handleError(`${this.modelName}Filter`,{}))).map(f=>Array.isArray(f)?(0,c.eC)(f):(0,c.O7)(f))}createModel(s){const u=this.getUrl("carpark/api/parking-transactions-entry");return this.post(u,s)}closeTransactions(s){const u=this.getUrl(`carpark/api/close/working-sessions/${s}`);return this.put(u,null)}getFile(s){const u=this.getUrl(`carpark/api/printTransactionReceipt/pdf/parking_transaction/${s}`);return this.get(u,{responseType:"blob"})}findIndentByPage(s,u){const h=this.getUrl(`scp-app-ordermanagement/chargepile/findIndentByPage/${u.rowsPerPage}/${u.page}`);return this.post(h,s)}exportExcellist(s,u){const h=this.getUrl("scp-app-ordermanagement/chargepile/exportFindIndent");return this.post(h,s,{responseType:"blob"})}exportExcelDetail(s,u){const h=this.getUrl("scp-app-ordermanagement/chargepile/export/detail");return this.post(h,s,{responseType:"blob"})}exportCondoOwnerExcel(s){const u=(0,o.U8)("carpark/api/working-sessions/exportParkingTransaction",{...s});return this.get(this.getUrl(u),{responseType:"blob"})}}return m.\u0275fac=function(s){return new(s||m)(C.LFG(O.x),C.LFG(A.p),C.LFG(v.eN),C.LFG(p.yh),C.LFG(i.k))},m.\u0275prov=C.Yz7({token:m,factory:m.\u0275fac}),m})()},76916:(B,T,e)=>{e.d(T,{G:()=>d});var E=e(34793),c=e(92198),o=e(94650),M=e(89383),t=e(60097),C=e(36895);function O(m,P){if(1&m&&(o.TgZ(0,"a",14)(1,"span",15),o._uU(2),o.ALo(3,"translate"),o.qZA()()),2&m){const s=o.oxw().$implicit;o.xp6(2),o.hij(" ",o.lcZ(3,1,s.label)," ")}}function A(m,P){if(1&m&&(o.TgZ(0,"a",16)(1,"span",15),o._uU(2),o.ALo(3,"translate"),o.qZA()()),2&m){const s=o.oxw(),u=s.$implicit,h=s.last,f=o.oxw(2);o.Q6J("routerLink",u.url)("queryParams",h&&f.route.snapshot.queryParams),o.xp6(2),o.hij(" ",o.lcZ(3,3,u.label)," ")}}function v(m,P){if(1&m&&(o.ynx(0),o.TgZ(1,"li",10)(2,"span"),o._uU(3," > "),o.qZA()(),o.TgZ(4,"li",11),o.YNc(5,O,4,3,"a",12),o.YNc(6,A,4,5,"a",13),o.qZA(),o.BQk()),2&m){const s=P.first;o.xp6(5),o.Q6J("ngIf",s),o.xp6(1),o.Q6J("ngIf",!s)}}function p(m,P){if(1&m&&(o.TgZ(0,"div",1)(1,"div",2)(2,"div",3),o._UZ(3,"h3",4),o.TgZ(4,"ul",5)(5,"li",6)(6,"a",7),o._UZ(7,"i",8),o.qZA()(),o.YNc(8,v,7,2,"ng-container",9),o.qZA()(),o.TgZ(9,"div"),o.Hsn(10),o.qZA()()()),2&m){const s=o.oxw();o.xp6(3),o.Q6J("innerHTML",s.title,o.oJD),o.xp6(5),o.Q6J("ngForOf",s.breads)}}const i=["*"];let d=(()=>{class m{constructor(s,u,h,f){this.router=s,this.route=u,this.translate=h,this._carparkService=f,this.breads=[],this.loginUser=""}ngOnInit(){let s=JSON.parse(localStorage.getItem("user-roles"))[0];this.loginUser=s,console.log(this.loginUser,"\u4fe1\u606f"),this.breads=this.buildBreadCrumb(this.route.root),this.translate.get(this.breads[0].label).subscribe(h=>{this.label=h}),this.router.events.pipe((0,c.h)(h=>h instanceof E.m2)).subscribe(()=>{this.breads=this.buildBreadCrumb(this.route.root)})}buildBreadCrumb(s,u=[""],h=[]){const f=s.snapshot.url[0]&&s.snapshot.url[0].path,y=[...u,f],U={...this.extractBreadcrumb(s),url:y},D=f&&U.label?[...h,U]:h;return this.title=U.title||this.title||"",this.isMotorist&&"My Vehicle(s)"===U.label&&(this.title="My Vehicle(s)"),s.firstChild?f?this.buildBreadCrumb(s.firstChild,y,D):this.buildBreadCrumb(s.firstChild,u,h):(this.translate.get(this.title).subscribe(L=>{this.title=L}),D)}get isMotorist(){return this._carparkService.isMotorist()}extractBreadcrumb(s){return s.snapshot.data.breadcrumb instanceof Function?s.snapshot.data.breadcrumb(s):s.snapshot.data.breadcrumb}}return m.\u0275fac=function(s){return new(s||m)(o.Y36(E.F0),o.Y36(E.gz),o.Y36(M.sK),o.Y36(t.x))},m.\u0275cmp=o.Xpm({type:m,selectors:[["app-title-bar"]],ngContentSelectors:i,decls:1,vars:1,consts:[["class","m-subheader",4,"ngIf"],[1,"m-subheader"],[1,"d-flex","align-items-center"],[1,"mr-auto"],[1,"m-subheader__title","m-subheader__title--separator","text-main",3,"innerHTML"],[1,"m-subheader__breadcrumbs","m-nav","m-nav--inline"],[1,"m-nav__item","m-nav__item--home"],["routerLink","/",1,"m-nav__link","m-nav__link--icon"],[1,"m-nav__link-icon","la","la-home"],[4,"ngFor","ngForOf"],[1,"m-nav__separator"],[1,"m-nav__item"],["class","m-nav__link",4,"ngIf"],["class","m-nav__link",3,"routerLink","queryParams",4,"ngIf"],[1,"m-nav__link"],[1,"m-nav__link-text"],[1,"m-nav__link",3,"routerLink","queryParams"]],template:function(s,u){1&s&&(o.F$t(),o.YNc(0,p,11,2,"div",0)),2&s&&o.Q6J("ngIf","ROLE_TPO_PARTNER"!==u.loginUser)},dependencies:[C.sg,C.O5,E.yS,M.X$],encapsulation:2}),m})()},22010:(B,T,e)=>{e.r(T),e.d(T,{AdminModule:()=>vt,createTranslateLoader:()=>k});var E=e(36895),c=e(24006),o=e(34793),M=e(72986),t=e(94650),C=e(3927),O=e(80529),A=e(28555),v=e(91599);let p=(()=>{class a extends C.su{constructor(n,r,_){super(n,r),this.http=n,this.store=r,this.modelName="User",this.baseUrl="api/adminUsers",this.handleError=_.createHandleError(`${this.modelName}Service`)}createModel(n){const r=this.getUrl("api/register");return this.post(r,n)}getModel(n){const r=this.getUrl(`api/users/getById/${n}`);return this.get(r)}updateModel(n){const r=this.getUrl("api/users");return this.put(r,n)}}return a.\u0275fac=function(n){return new(n||a)(t.LFG(O.eN),t.LFG(A.yh),t.LFG(v.k))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac}),a})(),i=(()=>{class a{constructor(n,r){this.adminUserService=n,this.router=r}resolve(n){return this.adminUserService.getModel(n.paramMap.get("id")).pipe((0,M.q)(1))}}return a.\u0275fac=function(n){return new(n||a)(t.LFG(p),t.LFG(o.F0))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac}),a})();var d=e(42684),m=e(30329),P=e(51013),s=e(59501),u=e(59245),h=e(21532),f=e(60097),y=e(36511),U=e(73071),D=e(88796),L=e(89383),K=e(19832);function b(a){return new K.w(a,"../assets/i18n/",".json")}let z=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({providers:[v.k,d.e,f.x,U.K,y.I],imports:[o.Bz,E.ez,h.x,c.u5,m.D,D.A0,L.aw.forChild({loader:{provide:L.Zw,useFactory:b,deps:[O.eN]}})]}),a})();var S=e(76916),Z=e(38014);const q={singleSelection:!1,text:"Select Car Parks",selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,classes:"m-multiselect"};var N=e(8929),$=e(1059),j=e(80013),Q=e(75778),W=e(2994),H=e(87545),Y=e(88117),J=e(35635),G=e(66616),V=e(47044),X=e(21811),F=e(38231);function tt(a,g){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const n=t.oxw();t.xp6(1),t.hij(" ",n.form.id," ")}}function et(a,g){if(1&a&&t._UZ(0,"nz-option",27),2&a){const n=g.$implicit;t.Q6J("nzValue",n.value)("nzLabel",n.name)}}function nt(a,g){1&a&&(t.TgZ(0,"div",28),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&a&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Field is required.")," "))}function ot(a,g){1&a&&(t.TgZ(0,"div",28),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&a&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Field is required.")," "))}function at(a,g){1&a&&(t.TgZ(0,"div",28),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&a&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Field is required.")," "))}function rt(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"nz-input-group",29)(1,"nz-select",30),t.NdJ("ngModelChange",function(_){t.CHM(n);const l=t.oxw();return t.KtG(l.mobileCode=_)}),t._UZ(2,"nz-option",31),t.qZA(),t.TgZ(3,"input",32,33),t.NdJ("ngModelChange",function(_){t.CHM(n);const l=t.oxw();return t.KtG(l.mobileNo=_)}),t.qZA()()}if(2&a){const n=t.oxw();t.xp6(1),t.Q6J("ngModel",n.mobileCode),t.xp6(1),t.Q6J("nzLabel","+65")("nzValue","+65"),t.xp6(1),t.Q6J("ngModel",n.mobileNo)}}function st(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"input",34,35),t.NdJ("ngModelChange",function(_){t.CHM(n);const l=t.oxw();return t.KtG(l.form.hpNumber=_)}),t.qZA()}if(2&a){const n=t.oxw();t.Q6J("ngModel",n.form.hpNumber)}}let w=(()=>{class a{constructor(n,r,_,l,x){this.router=n,this.carparkService=r,this.userService=_,this.codeTablesService=l,this.translate=x,this.canceled=new t.vpe,this.submitted=new t.vpe,this.form=(0,Z.qpA)(),this.showPassword=!1,this.genderOptions=Z.mbI,this.identityTypeOptions=Z.KiP,this.carparkOptions=[],this.selectedCarParks=[],this.carParkSelectSettings=q,this.mobileCode="+65",this.ownerInput$=new N.xQ,this.operatorInput$=new N.xQ,this.roleobj=""}ngOnInit(){this.roleobj=JSON.parse(localStorage.getItem("user-roles"))[0],this.owner$=this.ownerInput$.pipe((0,$.O)(""),(0,j.b)(200),(0,Q.x)(),(0,W.b)(()=>this.ownerLoading=!0),(0,H.w)(n=>this.userService.searchOwners(n).pipe((0,W.b)(()=>this.ownerLoading=!1))),(0,Y.B)()),this.owner$.pipe((0,M.q)(1)).subscribe(n=>this.form.ownerId=this.form.ownerId||n[0]&&n[0].id),this.operator$=this.operatorInput$.pipe((0,$.O)(""),(0,j.b)(200),(0,Q.x)(),(0,W.b)(()=>this.operatorLoading=!0),(0,H.w)(n=>this.userService.searchOperators(n).pipe((0,W.b)(()=>this.operatorLoading=!1))),(0,Y.B)()),this.operator$.pipe((0,M.q)(1)).subscribe(n=>this.form.operatorId=this.form.operatorId||n[0]&&n[0].id),this.roles$=this.codeTablesService.filterModelByType(Z.BcL.UserAuthority,this.roleobj)}togglePassword(){this.showPassword=!this.showPassword}cancel(){this.canceled.emit()}submit(){this.form.hpNumber=this.form.id?this.form.hpNumber:`${this.mobileCode}${this.mobileNo}`,this.submitted.emit(this.form)}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(o.F0),t.Y36(f.x),t.Y36(U.K),t.Y36(y.I),t.Y36(L.sK))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-admins-form"]],inputs:{form:"form"},outputs:{canceled:"canceled",submitted:"submitted"},decls:66,vars:37,consts:[[1,"m-form","m-form--fit","m-form--label-align-right"],[1,"m-portlet"],[1,"m-portlet__head"],[1,"m-portlet__head-caption"],[1,"m-portlet__head-title"],[1,"m-portlet__head-text"],[4,"ngIf"],[1,"m-portlet__body"],[1,"row","form-group","m-form__group"],[1,"col-form-label","col-lg-2","col-sm-12"],[1,"m--font-danger"],[1,"col-lg-4","col-sm-12"],["name","userRole","nzPlaceHolder","Please Select",2,"width","100%",3,"ngModel","ngModelChange"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nz-input","","type","text","name","firstName","placeholder","","required","",3,"ngModel","ngModelChange"],["firstName","ngModel"],["class","form-control-feedback",4,"ngIf"],["nz-input","","type","text","name","lastName","placeholder","","required","",3,"ngModel","ngModelChange"],["lastName","ngModel"],["nz-input","","type","text","name","email","placeholder","","required","",3,"ngModel","ngModelChange"],["email","ngModel"],["nzCompact","",4,"ngIf","ngIfElse"],["editMobile",""],[1,"m-portlet__foot","bg-light-gray"],[1,"m-form__actions","m-form__actions--right"],["nz-button","","nzType","primary","nzSize","large","nzGhost","",1,"btn-form-ops",3,"click"],["nz-button","","nzType","primary","nzSize","large",1,"btn-form-ops","m--margin-left-30",3,"click"],[3,"nzValue","nzLabel"],[1,"form-control-feedback"],["nzCompact",""],["name","mobileCodeControl",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue"],["type","text","nz-input","","name","mobileNumberControl","required","",2,"width","calc(100% - 70px)",3,"ngModel","ngModelChange"],["mobileNumberControl","ngModel"],["nz-input","","type","text","name","hpNumber","placeholder","","required","",3,"ngModel","ngModelChange"],["hpNumber","ngModel"]],template:function(n,r){if(1&n&&(t.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),t._uU(6),t.ALo(7,"translate"),t.YNc(8,tt,2,1,"span",6),t.qZA()()()(),t.TgZ(9,"div",7)(10,"div",8)(11,"label",9)(12,"span",10),t._uU(13,"*"),t.qZA(),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"div",11)(17,"nz-select",12),t.NdJ("ngModelChange",function(l){return r.form.authorities[0]=l}),t.YNc(18,et,1,2,"nz-option",13),t.ALo(19,"async"),t.qZA()()(),t.TgZ(20,"div",8)(21,"label",9)(22,"span",10),t._uU(23,"*"),t.qZA(),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"div",11)(27,"input",14,15),t.NdJ("ngModelChange",function(l){return r.form.firstName=l}),t.qZA(),t.YNc(29,nt,3,3,"div",16),t.qZA(),t.TgZ(30,"label",9)(31,"span",10),t._uU(32,"*"),t.qZA(),t._uU(33),t.ALo(34,"translate"),t.qZA(),t.TgZ(35,"div",11)(36,"input",17,18),t.NdJ("ngModelChange",function(l){return r.form.lastName=l}),t.qZA(),t.YNc(38,ot,3,3,"div",16),t.qZA()(),t.TgZ(39,"div",8)(40,"label",9)(41,"span",10),t._uU(42,"*"),t.qZA(),t._uU(43),t.ALo(44,"translate"),t.qZA(),t.TgZ(45,"div",11)(46,"input",19,20),t.NdJ("ngModelChange",function(l){return r.form.email=l}),t.qZA(),t.YNc(48,at,3,3,"div",16),t.qZA(),t.TgZ(49,"label",9)(50,"span",10),t._uU(51,"*"),t.qZA(),t._uU(52),t.ALo(53,"translate"),t.qZA(),t.TgZ(54,"div",11),t.YNc(55,rt,5,4,"nz-input-group",21),t.YNc(56,st,2,1,"ng-template",null,22,t.W1O),t.qZA()()(),t.TgZ(58,"div",23)(59,"div",24)(60,"button",25),t.NdJ("click",function(){return r.cancel()}),t._uU(61),t.ALo(62,"translate"),t.qZA(),t.TgZ(63,"button",26),t.NdJ("click",function(){return r.submit()}),t._uU(64),t.ALo(65,"translate"),t.qZA()()()()()),2&n){const _=t.MAs(28),l=t.MAs(37),x=t.MAs(47),I=t.MAs(57);t.xp6(6),t.hij(" ",t.lcZ(7,19,"Account")," "),t.xp6(2),t.Q6J("ngIf",r.form.id),t.xp6(6),t.hij(" ",t.lcZ(15,21,"User Role"),": "),t.xp6(3),t.Q6J("ngModel",r.form.authorities[0]),t.xp6(1),t.Q6J("ngForOf",t.lcZ(19,23,r.roles$)),t.xp6(6),t.hij(" ",t.lcZ(25,25,"First Name"),": "),t.xp6(3),t.Q6J("ngModel",r.form.firstName),t.xp6(2),t.Q6J("ngIf",_.invalid&&(_.dirty||_.touched)),t.xp6(4),t.hij(" ",t.lcZ(34,27,"Last Name"),": "),t.xp6(3),t.Q6J("ngModel",r.form.lastName),t.xp6(2),t.Q6J("ngIf",l.invalid&&(l.dirty||l.touched)),t.xp6(5),t.hij(" ",t.lcZ(44,29,"Email"),": "),t.xp6(3),t.Q6J("ngModel",r.form.email),t.xp6(2),t.Q6J("ngIf",x.invalid&&(x.dirty||x.touched)),t.xp6(4),t.hij(" ",t.lcZ(53,31,"Mobile"),": "),t.xp6(3),t.Q6J("ngIf",!r.form.id)("ngIfElse",I),t.xp6(6),t.hij(" ",t.lcZ(62,33,"Cancel")," "),t.xp6(3),t.hij(" ",t.lcZ(65,35,"Submit")," ")}},dependencies:[E.sg,E.O5,J.Zp,J.gB,G.ix,V.w,X.dQ,F.Ip,F.Vq,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.On,c.F,E.Ov,L.X$],encapsulation:2}),a})(),it=(()=>{class a{constructor(n,r){this.router=n,this.adminUserService=r,this.breadcrumbs=[{text:"Admin",href:"/admins"},{text:"Create Admin"}]}ngOnInit(){}cancel(){this.router.navigate(["/admins"])}submit(n){this.adminUserService.createModel(n).subscribe(()=>{this.router.navigate(["/admins"])})}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(o.F0),t.Y36(p))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-admins-create"]],decls:4,vars:0,consts:[[1,"body-wrapper"],[1,"m-content"],[3,"canceled","submitted"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0),t._UZ(1,"app-title-bar"),t.TgZ(2,"div",1)(3,"app-admins-form",2),t.NdJ("canceled",function(){return r.cancel()})("submitted",function(l){return r.submit(l)}),t.qZA()()())},dependencies:[S.G,w],encapsulation:2}),a})();e(79118);var lt=e(52746),_t=e(47423),R=e(40269);function dt(a,g){if(1&a&&t._UZ(0,"nz-option",20),2&a){const n=g.$implicit;t.Q6J("nzValue",n.value)("nzLabel",n.text)}}function mt(a,g){if(1&a&&t._UZ(0,"nz-option",20),2&a){const n=g.$implicit;t.Q6J("nzValue",n.value)("nzLabel",n.text)}}function pt(a,g){if(1&a&&t._uU(0),2&a){const n=g.range;t.lnq(" ",n[0],"-",n[1]," of ",g.$implicit," items ")}}function ct(a,g){if(1&a&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&a){const n=g.$implicit;t.xp6(1),t.Oqu(n.text)}}function ut(a,g){if(1&a){const n=t.EpF();t.ynx(0),t.TgZ(1,"tr")(2,"td",21),t.NdJ("nzExpandChange",function(_){const x=t.CHM(n).$implicit,I=t.oxw();return t.KtG(I.onExpandChange(x.id,_))}),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._UZ(10,"span",22),t.TgZ(11,"span",23),t._uU(12),t.qZA()(),t.TgZ(13,"td"),t._uU(14),t.ALo(15,"date"),t.qZA(),t.TgZ(16,"td")(17,"span",24),t._uU(18),t.qZA()(),t.TgZ(19,"td")(20,"a",25),t._UZ(21,"i",26),t.qZA()()(),t.TgZ(22,"tr",27)(23,"nz-table",28)(24,"thead")(25,"tr")(26,"th"),t._uU(27,"Identity Type"),t.qZA(),t.TgZ(28,"th"),t._uU(29,"Identity No."),t.qZA(),t.TgZ(30,"th"),t._uU(31,"Gender"),t.qZA(),t.TgZ(32,"th"),t._uU(33,"Car Park"),t.qZA()()(),t.TgZ(34,"tbody")(35,"tr")(36,"td"),t._uU(37),t.qZA(),t.TgZ(38,"td"),t._uU(39),t.qZA(),t.TgZ(40,"td"),t._uU(41),t.qZA(),t.TgZ(42,"td"),t._uU(43),t.qZA()()()()(),t.BQk()}if(2&a){const n=g.$implicit,r=g.index,_=t.oxw();t.xp6(1),t.ekj("ant-table-row-odd",r%2==1),t.xp6(1),t.Q6J("nzExpand",_.expandSet.has(n.id)),t.xp6(2),t.Oqu(n.id),t.xp6(2),t.AsE("",n.firstName," ",n.lastName,""),t.xp6(2),t.Oqu(n.email),t.xp6(2),t.Q6J("ngClass","m-badge-"+_.roleProp(n.authorities,"color")),t.xp6(2),t.hij(" ",_.roleProp(n.authorities,"text")," "),t.xp6(2),t.Oqu(t.lcZ(15,19,n.createdDate)),t.xp6(3),t.Q6J("ngClass","m-badge--"+_.statusProp(n.status,"color")),t.xp6(1),t.hij(" ",_.statusProp(n.status,"text")," "),t.xp6(2),t.Q6J("routerLink","/admins/"+n.id+"/update"),t.xp6(2),t.Q6J("nzExpand",_.expandSet.has(n.id)),t.xp6(1),t.Q6J("nzShowPagination",!1),t.xp6(14),t.Oqu(n.identityType||"-"),t.xp6(2),t.Oqu(n.identityNo||"-"),t.xp6(2),t.Oqu(_.genderProp(n.gender,"text")),t.xp6(2),t.Oqu(_.carParkText(n))}}function k(a){return new K.w(a,"../assets/i18n/",".json")}const Et=[{path:"",component:s.f,children:[{path:"",component:(()=>{class a extends lt.t{constructor(n,r,_){super(),this.router=n,this.adminService=r,this.translate=_,this.roleId="",this.status="",this.keyword="",this.statusOptions=Z.ZND,this.roleOptions=Z.kI8,this.keyword$=new N.xQ,this.expandSet=new Set,this.tableHeaders=[{text:"ID",column:"id",width:"80px"},{text:"Name",column:"name",width:"150px"},{text:"Email",column:"email",width:"120px"},{text:"User Role",column:"roleId",width:"130px"},{text:"Created Date",column:"createdAt",width:"120px"},{text:"Status",column:"status",width:"120px"},{text:"Actions",width:"100px"}]}gotoCreate(){this.router.navigate(["/admins/create"])}get filterParams(){return{roleId:this.roleId,status:this.status,key:this.keyword,remarks:this.intoRole}}carParkText(){return"N/A"}genderProp(n,r){return(0,Z.e9Z)(Z.mbI,n,r)}roleProp(n,r){return(0,Z.YRf)(Z.kI8,n,r)}statusProp(n,r){return(0,Z.e9Z)(Z.ZND,n,r)}pageChanged(n){this.pagination=n,this.reloadData()}reloadData(){this.reloadDataService(this.adminService)}ngOnDestroy(){this.keywordListener?.unsubscribe()}ngOnInit(){this.intoRole=JSON.parse(localStorage.getItem("user-roles"))[0],this.keywordListener=this.keyword$?.debounceTime(500).subscribe(()=>{this.reloadData()}),this.reloadData();const n=this.tableHeaders.map(l=>l.text);this.translate.get(n).subscribe(l=>{this.tableHeaders.forEach(x=>{for(let I in l)l.hasOwnProperty(I)&&x.text===I&&(x.text=l[I])})});const r=this.roleOptions.map(l=>l.text);this.translate.get(r).subscribe(l=>{this.roleOptions.forEach(x=>{for(let I in l)l.hasOwnProperty(I)&&x.text===I&&(x.text=l[I])})});const _=this.statusOptions.map(l=>l.text);this.translate.get(_).subscribe(l=>{this.statusOptions.forEach(x=>{for(let I in l)l.hasOwnProperty(I)&&x.text===I&&(x.text=l[I])})})}onExpandChange(n,r){r?this.expandSet.add(n):this.expandSet.delete(n)}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(o.F0),t.Y36(p),t.Y36(L.sK))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-admins-home"]],features:[t.qOj],decls:41,vars:21,consts:[[1,"body-wrapper"],["nz-button","","nzType","primary","nzSize","large","nzShape","round",3,"click"],["nz-icon","","nzType","plus","nzTheme","outline"],[1,"m-content"],[1,"m-portlet"],[1,"m-portlet__body","m-portlet__body--scrollable"],[1,"m-portlet__frame"],[1,"form-group","m-form__group","m-portlet__filters"],[1,"filter-wrap"],[1,"filter-item"],[1,"filter-label"],["nzPlaceHolder","Please Select",2,"width","160px",3,"ngModel","ngModelChange"],["nzValue","","nzLabel","All"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nz-input","","type","text","placeholder","Name / Mobile / Email",2,"width","190px",3,"ngModel","ngModelChange"],["rangeTemplate",""],[3,"nzData","nzFrontPagination","nzLoading","nzTotal","nzPageSize","nzPageIndex","nzShowSizeChanger","nzShowTotal","nzQueryParams"],["basicTable",""],["nzWidth","60px"],[4,"ngFor","ngForOf"],[3,"nzValue","nzLabel"],[3,"nzExpand","nzExpandChange"],[1,"m-badge","m-badge--info","m-badge--dot",3,"ngClass"],[1,"m--font-bold","m--font-info"],[1,"m-badge","m-badge--wide",3,"ngClass"],[1,"btn","btn-outline-primary","m-btn","m-btn--icon","m-btn--icon-only","m-btn--custom","m-btn--pill","no-border",3,"routerLink"],[1,"la","la-edit"],[3,"nzExpand"],["nzSize","small","nzTemplateMode","",3,"nzShowPagination"]],template:function(n,r){if(1&n&&(t.TgZ(0,"div",0)(1,"app-title-bar")(2,"button",1),t.NdJ("click",function(){return r.gotoCreate()}),t._UZ(3,"span",2),t._uU(4,"Create Account"),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"span",10),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"nz-select",11),t.NdJ("ngModelChange",function(l){return r.roleId=l})("ngModelChange",function(){return r.reloadData()}),t._UZ(16,"nz-option",12),t.YNc(17,dt,1,2,"nz-option",13),t.qZA()()(),t.TgZ(18,"div",8)(19,"div",9)(20,"span",10),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"nz-select",11),t.NdJ("ngModelChange",function(l){return r.status=l})("ngModelChange",function(){return r.reloadData()}),t._UZ(24,"nz-option",12),t.YNc(25,mt,1,2,"nz-option",13),t.qZA()()(),t.TgZ(26,"div",8)(27,"div",9)(28,"span",10),t._uU(29,"Name / Mobile / Email:"),t.qZA(),t.TgZ(30,"input",14),t.NdJ("ngModelChange",function(l){return r.keyword=l})("ngModelChange",function(l){return r.keyword$.next(l)}),t.qZA()()()(),t.YNc(31,pt,1,3,"ng-template",null,15,t.W1O),t.TgZ(33,"nz-table",16,17),t.NdJ("nzQueryParams",function(l){return r.onQueryParamsChange(l)}),t.TgZ(35,"thead")(36,"tr"),t._UZ(37,"th",18),t.YNc(38,ct,2,1,"th",19),t.qZA()(),t.TgZ(39,"tbody"),t.YNc(40,ut,44,21,"ng-container",19),t.qZA()()()()()()()),2&n){const _=t.MAs(32),l=t.MAs(34);t.xp6(13),t.hij("",t.lcZ(14,17,"User Role"),":"),t.xp6(2),t.Q6J("ngModel",r.roleId),t.xp6(2),t.Q6J("ngForOf",r.roleOptions),t.xp6(4),t.hij("",t.lcZ(22,19,"Status"),":"),t.xp6(2),t.Q6J("ngModel",r.status),t.xp6(2),t.Q6J("ngForOf",r.statusOptions),t.xp6(5),t.Q6J("ngModel",r.keyword),t.xp6(3),t.Q6J("nzData",r.listData)("nzFrontPagination",!1)("nzLoading",r.loading)("nzTotal",r.pagination.totalCount)("nzPageSize",r.pagination.rowsPerPage)("nzPageIndex",r.pagination.page)("nzShowSizeChanger",!0)("nzShowTotal",_),t.xp6(5),t.Q6J("ngForOf",r.tableHeaders),t.xp6(2),t.Q6J("ngForOf",l.data)}},dependencies:[E.mk,E.sg,c.Fj,c.JJ,c.On,o.yS,S.G,J.Zp,_t.Ls,G.ix,V.w,X.dQ,F.Ip,F.Vq,R.N8,R.Uo,R._C,R.h7,R.Om,R.p0,R.$Z,R.d3,R.Vk,E.uU,L.X$],encapsulation:2}),a})()},{path:"create",component:it,data:{breadcrumb:{label:"Create"}}},{path:":id/update",component:(()=>{class a{constructor(n,r,_){this.router=n,this.route=r,this.adminUserService=_}ngOnInit(){this.item=this.route.snapshot.data.admin}delete(){this.adminUserService.deleteModel(this.item.id).subscribe(()=>{this.router.navigate(["/admins"])})}cancel(){this.router.navigate(["/admins"])}submit(n){this.adminUserService.updateModel(n).subscribe(()=>{this.router.navigate(["/admins"])})}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(o.F0),t.Y36(o.gz),t.Y36(p))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-admins-update"]],decls:4,vars:1,consts:[[1,"body-wrapper"],[1,"m-content"],[3,"form","canceled","submitted"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0),t._UZ(1,"app-title-bar"),t.TgZ(2,"div",1)(3,"app-admins-form",2),t.NdJ("canceled",function(){return r.cancel()})("submitted",function(l){return r.submit(l)}),t.qZA()()()),2&n&&(t.xp6(3),t.Q6J("form",r.item))},dependencies:[S.G,w],encapsulation:2}),a})(),data:{breadcrumb:{label:"Update"}},resolve:{admin:i}}]}];let vt=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({providers:[v.k,d.e,p,i],imports:[E.ez,c.u5,o.Bz.forChild(Et),h.x,m.D,z,P.P,u.mr,L.aw.forChild({loader:{provide:L.Zw,useFactory:k,deps:[O.eN]}}),o.Bz]}),a})()},51013:(B,T,e)=>{e.d(T,{P:()=>b});var E=e(82174),c=e(61643),o=e(36895),M=e(24006),t=e(76284),C=e(64870),O=e(30329),A=e(34793),v=e(372),p=e(36511),i=e(24277),d=e(3108),m=e(88796),P=e(80529),s=e(89383),u=e(19832),h=e(22630),f=e(67556),y=e(61396),U=e(37096),D=e(44466),L=e(94650);function K(z){return new u.w(z,"../assets/i18n/",".json")}let b=(()=>{class z{}return z.\u0275fac=function(Z){return new(Z||z)},z.\u0275mod=L.oAB({type:z}),z.\u0275inj=L.cJS({providers:[p.I,t.z,C.P,f.z$],imports:[o.ez,M.u5,O.D,v.kn,y.b,E.su,c.r,d._,A.Bz,m.A0,i.p,h.z,s.aw.forChild({loader:{provide:s.Zw,useFactory:K,deps:[P.eN]}}),U.Zf,D.m]}),z})()},24277:(B,T,e)=>{e.d(T,{p:()=>U});var E=e(36895),c=e(80529),o=e(24006),M=e(34793),t=e(372),C=e(85265),O=e(30329),A=e(21532),v=e(8387),p=e(13309),i=e(88796),d=e(89383),m=e(19832),P=e(97640),s=e(59245),u=e(89518),h=e(34984),f=e(94650);function y(D){return new m.w(D,"../assets/i18n/",".json")}let U=(()=>{class D{}return D.\u0275fac=function(K){return new(K||D)},D.\u0275mod=f.oAB({type:D}),D.\u0275inj=f.cJS({providers:[C.K],imports:[E.ez,A.x,M.Bz,O.D,P.a4,p.p,s.mr,o.u5,t.kn,i.A0,u.H3,v.H,d.aw.forChild({loader:{provide:d.Zw,useFactory:y,deps:[c.eN]}}),h.Ns.forRoot({echarts:()=>e.e(4734).then(e.bind(e,14734))})]}),D})()},8387:(B,T,e)=>{e.d(T,{H:()=>p});var E=e(36895),c=e(24006),o=e(34793),M=e(30329),t=e(80529),C=e(89383),O=e(19832),A=e(94650);function v(i){return new O.w(i,"../assets/i18n/",".json")}let p=(()=>{class i{}return i.\u0275fac=function(m){return new(m||i)},i.\u0275mod=A.oAB({type:i}),i.\u0275inj=A.cJS({imports:[E.ez,c.u5,o.Bz,M.D,C.aw.forChild({loader:{provide:C.Zw,useFactory:v,deps:[t.eN]}})]}),i})()},3108:(B,T,e)=>{e.d(T,{_:()=>p});var E=e(36895),c=e(24006),o=e(34793),M=e(30329),t=e(80529),C=e(89383),O=e(19832),A=e(94650);function v(i){return new O.w(i,"../assets/i18n/",".json")}let p=(()=>{class i{}return i.\u0275fac=function(m){return new(m||i)},i.\u0275mod=A.oAB({type:i}),i.\u0275inj=A.cJS({imports:[E.ez,c.u5,o.Bz,M.D,C.aw.forChild({loader:{provide:C.Zw,useFactory:v,deps:[t.eN]}})]}),i})()},13309:(B,T,e)=>{e.d(T,{p:()=>y});var E=e(36895),c=e(24006),o=e(34793),M=e(372),t=e(60097),C=e(4666),O=e(30329),A=e(21532),v=e(88796),p=e(59245),i=e(89518),d=e(36511),m=e(80529),P=e(89383),s=e(19832),u=e(29252),h=e(94650);function f(U){return new s.w(U,"../assets/i18n/",".json")}let y=(()=>{class U{}return U.\u0275fac=function(L){return new(L||U)},U.\u0275mod=h.oAB({type:U}),U.\u0275inj=h.cJS({providers:[C.p,t.x,d.I],imports:[E.ez,c.u5,o.Bz,A.x,O.D,M.kn,p.mr,v.A0,i.H3,u.E7,P.aw.forChild({loader:{provide:P.Zw,useFactory:f,deps:[m.eN]}})]}),U})()}}]);